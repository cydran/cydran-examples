{"version":3,"sources":["webpack://cydran/webpack/universalModuleDefinition","webpack://cydran/webpack/bootstrap","webpack://cydran/./src/util/ObjectUtils.ts","webpack://cydran/./src/logger/LoggerFactory.ts","webpack://cydran/./src/constant/Constants.ts","webpack://cydran/./src/element/ElementMediator.ts","webpack://cydran/./src/mvvm/Factories.ts","webpack://cydran/./src/model/Reducers.ts","webpack://cydran/./src/error/AbstractCydranError.ts","webpack://cydran/./src/constant/ValidationRegExp.ts","webpack://cydran/./src/util/DomUtils.ts","webpack://cydran/./src/component/ComponentConfig.ts","webpack://cydran/./src/model/ScopeImpl.ts","webpack://cydran/./src/component/Component.ts","webpack://cydran/./src/logger/Level.ts","webpack://cydran/./src/message/PubSubImpl.ts","webpack://cydran/./src/filter/AbstractPhaseImpl.ts","webpack://cydran/./src/constant/Events.ts","webpack://cydran/./src/component/ComponentInternalsImpl.ts","webpack://cydran/./src/model/Getter.ts","webpack://cydran/./src/filter/WatcherImpl.ts","webpack://cydran/(webpack)/buildin/global.js","webpack://cydran/./src/error/NullValueError.ts","webpack://cydran/./src/logger/LoggerServiceImpl.ts","webpack://cydran/./src/pattern/IdGenerator.ts","webpack://cydran/./src/config/Properties.ts","webpack://cydran/./src/error/TemplateError.ts","webpack://cydran/./src/model/Setter.ts","webpack://cydran/./src/constant/DirectEvents.ts","webpack://cydran/./src/module/ModulesContextImpl.ts","webpack://cydran/./src/config/CydranConfig.ts","webpack://cydran/./src/index.ts","webpack://cydran/./src/element/index.ts","webpack://cydran/./src/element/Checked.ts","webpack://cydran/(webpack)/buildin/module.js","webpack://cydran/./src/error/ValidationError.ts","webpack://cydran/./src/logger/LoggerImpl.ts","webpack://cydran/./src/logger/ConsoleOutputStrategy.ts","webpack://cydran/./src/util/ParamUtils.ts","webpack://cydran/./src/message/ListenerImpl.ts","webpack://cydran/./src/element/CSSClass.ts","webpack://cydran/./src/element/Enabled.ts","webpack://cydran/./src/element/ReadOnly.ts","webpack://cydran/./src/element/Style.ts","webpack://cydran/./src/element/ForceFocus.ts","webpack://cydran/./src/element/MultiSelectValueModel.ts","webpack://cydran/./src/element/ValuedModel.ts","webpack://cydran/./src/element/InputValueModel.ts","webpack://cydran/./src/element/Visible.ts","webpack://cydran/./src/element/If.ts","webpack://cydran/./src/element/repeat/Repeat.ts","webpack://cydran/./src/model/Evaluator.ts","webpack://cydran/./src/error/ScopeError.ts","webpack://cydran/./src/element/repeat/GeneratedIdStrategyImpl.ts","webpack://cydran/./src/util/UuidUtils.ts","webpack://cydran/./src/element/repeat/NoneIdStrategyImpl.ts","webpack://cydran/./src/element/repeat/UtilityComponentFactoryImpl.ts","webpack://cydran/./src/element/repeat/UtilityComponent.ts","webpack://cydran/./src/component/Region.ts","webpack://cydran/./src/error/UnknownRegionError.ts","webpack://cydran/./src/error/SetComponentError.ts","webpack://cydran/./src/model/ExternalMediator.ts","webpack://cydran/./src/mvvm/MvvmImpl.ts","webpack://cydran/./src/model/ModelMediatorImpl.ts","webpack://cydran/./src/model/Invoker.ts","webpack://cydran/./src/error/MalformedOnEventError.ts","webpack://cydran/./src/element/TextElementMediator.ts","webpack://cydran/./src/element/EventElementMediator.ts","webpack://cydran/./src/element/AttributeElementMediator.ts","webpack://cydran/./src/error/UnknownComponentError.ts","webpack://cydran/./src/mvvm/DigesterImpl.ts","webpack://cydran/./src/mvvm/DigestionContextImpl.ts","webpack://cydran/./src/component/NamedElementOperationsImpl.ts","webpack://cydran/./src/error/UnknownElementError.ts","webpack://cydran/./src/error/ModuleAffinityError.ts","webpack://cydran/./src/module/ModuleImpl.ts","webpack://cydran/./src/registry/Registry.ts","webpack://cydran/./src/error/RegistrationError.ts","webpack://cydran/./src/registry/Instantiator.ts","webpack://cydran/./src/message/BrokerImpl.ts","webpack://cydran/./src/constant/ScopeContents.ts","webpack://cydran/./src/element/repeat/ItemComponentFactoryImpl.ts","webpack://cydran/./src/element/repeat/ItemComponent.ts","webpack://cydran/./src/element/repeat/EmbeddedComponentFactoryImpl.ts","webpack://cydran/./src/element/repeat/InvalidIdStrategyImpl.ts","webpack://cydran/./src/element/repeat/ExpressionIdStrategyImpl.ts","webpack://cydran/./src/stage/Stage.ts","webpack://cydran/./src/stage/StageComponent.ts","webpack://cydran/./src/stage/StageComponentInternals.ts","webpack://cydran/./src/error/SelectorError.ts","webpack://cydran/./src/component/AnonymousComponent.ts","webpack://cydran/./src/filter/Filters.ts","webpack://cydran/./src/filter/SortPhaseImpl.ts","webpack://cydran/./src/model/ComparisonEvaluator.ts","webpack://cydran/./src/filter/PredicatePhaseImpl.ts","webpack://cydran/./src/model/IndexedEvaluator.ts","webpack://cydran/./src/filter/IdentityPhaseImpl.ts","webpack://cydran/./src/filter/SimplePredicatePhaseImpl.ts","webpack://cydran/./src/filter/DelegatingPhaseImpl.ts"],"names":[],"mappings":"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","file":"cydran.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cydran\"] = factory();\n\telse\n\t\troot[\"cydran\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 29);\n","import NullValueError from \"@/error/NullValueError\";\nimport ValidationError from \"@/error/ValidationError\";\n\n/* tslint:disable */\n\nconst LARGE_ARRAY_SIZE = 200;\nconst FUNC_ERROR_TEXT = \"Expected a function\";\nconst HASH_UNDEFINED = \"__lodash_hash_undefined__\";\nconst CLONE_DEEP_FLAG = 1;\nconst CLONE_FLAT_FLAG = 2;\nconst CLONE_SYMBOLS_FLAG = 4;\nconst COMPARE_PARTIAL_FLAG = 1;\nconst COMPARE_UNORDERED_FLAG = 2;\nconst MAX_SAFE_INTEGER = 9007199254740991;\nconst argsTag = \"[object Arguments]\";\nconst arrayTag = \"[object Array]\";\nconst asyncTag = \"[object AsyncFunction]\";\nconst boolTag = \"[object Boolean]\";\nconst dateTag = \"[object Date]\";\nconst errorTag = \"[object Error]\";\nconst funcTag = \"[object Function]\";\nconst genTag = \"[object GeneratorFunction]\";\nconst mapTag = \"[object Map]\";\nconst numberTag = \"[object Number]\";\nconst nullTag = \"[object Null]\";\nconst objectTag = \"[object Object]\";\nconst promiseTag = \"[object Promise]\";\nconst proxyTag = \"[object Proxy]\";\nconst regexpTag = \"[object RegExp]\";\nconst setTag = \"[object Set]\";\nconst stringTag = \"[object String]\";\nconst symbolTag = \"[object Symbol]\";\nconst undefinedTag = \"[object Undefined]\";\nconst weakMapTag = \"[object WeakMap]\";\nconst arrayBufferTag = \"[object ArrayBuffer]\";\nconst dataViewTag = \"[object DataView]\";\nconst float32Tag = \"[object Float32Array]\";\nconst float64Tag = \"[object Float64Array]\";\nconst int8Tag = \"[object Int8Array]\";\nconst int16Tag = \"[object Int16Array]\";\nconst int32Tag = \"[object Int32Array]\";\nconst uint8Tag = \"[object Uint8Array]\";\nconst uint8ClampedTag = \"[object Uint8ClampedArray]\";\nconst uint16Tag = \"[object Uint16Array]\";\nconst uint32Tag = \"[object Uint32Array]\";\nconst reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nconst reFlags = /\\w*$/;\nconst reIsHostCtor = /^\\[object .+?Constructor\\]$/;\nconst reIsUint = /^(?:0|[1-9]\\d*)$/;\nconst typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n\ttypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n\ttypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n\ttypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n\ttypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n\ttypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n\ttypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n\ttypedArrayTags[errorTag] = typedArrayTags[funcTag] =\n\ttypedArrayTags[mapTag] = typedArrayTags[numberTag] =\n\ttypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n\ttypedArrayTags[setTag] = typedArrayTags[stringTag] =\n\ttypedArrayTags[weakMapTag] = false;\nconst cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\n\tcloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n\tcloneableTags[boolTag] = cloneableTags[dateTag] =\n\tcloneableTags[float32Tag] = cloneableTags[float64Tag] =\n\tcloneableTags[int8Tag] = cloneableTags[int16Tag] =\n\tcloneableTags[int32Tag] = cloneableTags[mapTag] =\n\tcloneableTags[numberTag] = cloneableTags[objectTag] =\n\tcloneableTags[regexpTag] = cloneableTags[setTag] =\n\tcloneableTags[stringTag] = cloneableTags[symbolTag] =\n\tcloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n\tcloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\n\tcloneableTags[weakMapTag] = false;\nconst freeGlobal = typeof global === \"object\" && global && global.Object === Object && global;\nconst freeSelf = typeof self === \"object\" && self && self[\"Object\"] === Object && self;\nconst root = freeGlobal || freeSelf || Function(\"return this\")();\nconst freeExports = typeof exports === \"object\" && exports && !exports.nodeType && exports;\nconst freeModule = freeExports && typeof module === \"object\" && module && !module[\"nodeType\"] && module;\nconst moduleExports = freeModule && freeModule.exports === freeExports;\n\nfunction arrayEach(array: any[], iteratee: Function): any[] {\n\tconst length = array == null ? 0 : array.length;\n\n\tlet index = -1;\n\n\twhile (++index < length) {\n\t\tif (iteratee(array[index], index, array) === false) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nfunction arrayFilter(array: any[], predicate: Function): any[] {\n\tconst length = array == null ? 0 : array.length;\n\tconst result = [];\n\n\tlet index = -1;\n\tlet resIndex = 0;\n\n\twhile (++index < length) {\n\t\tconst value = array[index];\n\n\t\tif (predicate(value, index, array)) {\n\t\t\tresult[resIndex++] = value;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction arrayPush(array: any[], values: any[]): any[] {\n\tconst length = values.length;\n\tconst offset = array.length;\n\n\tlet index = -1;\n\n\twhile (++index < length) {\n\t\tarray[offset + index] = values[index];\n\t}\n\n\treturn array;\n}\n\nfunction arraySome(array: any[], predicate: Function): boolean {\n\tconst length = array == null ? 0 : array.length;\n\tlet index = -1;\n\n\twhile (++index < length) {\n\t\tif (predicate(array[index], index, array)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction baseTimes(n: number, iteratee: Function): any[] {\n\tconst result = Array(n);\n\tlet index = -1;\n\n\twhile (++index < n) {\n\t\tresult[index] = iteratee(index);\n\t}\n\n\treturn result;\n}\n\nfunction cacheHas(cache: any, key: string): boolean {\n\treturn cache.has(key);\n}\n\nfunction getValue(object: any, key: string): any {\n\treturn object == null ? undefined : object[key];\n}\n\nfunction mapToArray(map: any): any[] {\n\tconst result = Array(map.size);\n\n\tlet index = -1;\n\n\tmap.forEach(function(value: any, key: string) {\n\t\tresult[++index] = [key, value];\n\t});\n\n\treturn result;\n}\n\nfunction overArg(func: Function, transform: Function): Function {\n\treturn function(arg: any) {\n\t\treturn func(transform(arg));\n\t};\n}\n\nfunction setToArray(set: any): any[] {\n\tconst result = Array(set.size);\n\n\tlet index = -1;\n\n\tset.forEach(function(value: any) {\n\t\tresult[++index] = value;\n\t});\n\n\treturn result;\n}\n\ninterface ContextType {\n\t[x: string]: any;\n\tArray: any;\n\tDate: any;\n\tError: any;\n\tFunction: any;\n\tMath: any;\n\tObject: any;\n\tRegExp: any;\n\tString: any;\n\tTypeError: any;\n\tBuffer: any;\n\tSymbol: any;\n\tUint8Array: any;\n\tclearTimeout: any;\n\tsetTimeout: any;\n\tisFinite: any;\n\tparseInt: any;\n}\n\nconst context: ContextType = root;\n\nconst arrayProto = Array.prototype;\nconst funcProto = Function.prototype;\nconst objectProto = Object.prototype;\nconst coreJsData = context[\"__core-js_shared__\"];\nconst funcToString = funcProto.toString;\nconst hasOwnProperty = objectProto.hasOwnProperty;\nconst maskSrcKey = (function() {\n\tconst uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || \"\");\n\n\treturn uid ? (\"Symbol(src)_1.\" + uid) : \"\";\n}());\n\nconst nativeObjectToString = objectProto.toString;\nconst reIsNative = RegExp(\"^\" + funcToString.call(hasOwnProperty).replace(reRegExpChar, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\");\n\nconst Buffer = moduleExports ? context.Buffer : undefined;\nconst Symbol = context.Symbol;\nconst Uint8Array = context.Uint8Array;\nconst allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\nconst getPrototype = overArg(Object.getPrototypeOf, Object);\nconst objectCreate = Object.create;\nconst propertyIsEnumerable = objectProto.propertyIsEnumerable;\nconst splice = arrayProto.splice;\nconst symToStringTag = Symbol ? Symbol.toStringTag : undefined;\nconst nativeGetSymbols = Object.getOwnPropertySymbols;\nconst nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\nconst nativeKeys = overArg(Object.keys, Object);\nconst DataView = getNative(context, \"DataView\");\nconst Map = getNative(context, \"Map\");\nconst Promise = getNative(context, \"Promise\");\nconst Set = getNative(context, \"Set\");\nconst WeakMap = getNative(context, \"WeakMap\");\nconst nativeCreate = getNative(Object, \"create\");\nconst dataViewCtorString = toSource(DataView);\nconst mapCtorString = toSource(Map);\nconst promiseCtorString = toSource(Promise);\nconst setCtorString = toSource(Set);\nconst weakMapCtorString = toSource(WeakMap);\nconst symbolProto = Symbol ? Symbol.prototype : undefined;\nconst symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\nconst baseCreate = (function() {\n\tfunction object() {\n\t\t// Intentionally do nothing\n\t}\n\n\treturn function(proto: any) {\n\t\tif (!isObject(proto)) {\n\t\t\treturn {};\n\t\t}\n\t\tif (objectCreate) {\n\t\t\treturn objectCreate(proto);\n\t\t}\n\t\tobject.prototype = proto;\n\t\tconst result = new object();\n\t\tobject.prototype = undefined;\n\t\treturn result;\n\t};\n}());\n\nclass Hash {\n\n\tpublic size: number;\n\n\tpublic __DATA__: any;\n\n\tconstructor(entries?: any[]) {\n\t\tlet index = -1;\n\t\tconst length = entries == null ? 0 : entries.length;\n\n\t\tthis.clear();\n\t\twhile (++index < length) {\n\t\t\tconst entry = entries[index];\n\t\t\tthis.set(entry[0], entry[1]);\n\t\t}\n\t}\n\n\tpublic clear(): void {\n\t\tthis.__DATA__ = nativeCreate ? nativeCreate(null) : {};\n\t\tthis.size = 0;\n\t}\n\n\tpublic delete(key: string): boolean {\n\t\tconst result = this.has(key) && delete this.__DATA__[key];\n\t\tthis.size -= result ? 1 : 0;\n\t\treturn result;\n\t}\n\n\tpublic get(key: string): any {\n\t\tconst data = this.__DATA__;\n\t\tif (nativeCreate) {\n\t\t\tconst result = data[key];\n\t\t\treturn result === HASH_UNDEFINED ? undefined : result;\n\t\t}\n\t\treturn hasOwnProperty.call(data, key) ? data[key] : undefined;\n\t}\n\n\tpublic has(key: string): boolean {\n\t\tconst data = this.__DATA__;\n\t\treturn nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n\t}\n\n\tpublic set(key: string, value: any): any {\n\t\tconst data = this.__DATA__;\n\t\tthis.size += this.has(key) ? 0 : 1;\n\t\tdata[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n\t\treturn this;\n\t}\n\n}\n\nclass ListCache {\n\n\tpublic size: number;\n\n\tpublic __DATA__: any;\n\n\tconstructor(entries?: any[]) {\n\t\tlet index = -1;\n\t\tconst length = entries == null ? 0 : entries.length;\n\n\t\tthis.clear();\n\n\t\twhile (++index < length) {\n\t\t\tconst entry = entries[index];\n\t\t\tthis.set(entry[0], entry[1]);\n\t\t}\n\t}\n\n\tpublic clear(): void {\n\t\tthis.__DATA__ = [];\n\t\tthis.size = 0;\n\t}\n\n\tpublic delete(key: string): boolean {\n\t\tconst data = this.__DATA__;\n\t\tconst index = assocIndexOf(data, key);\n\n\t\tif (index < 0) {\n\t\t\treturn false;\n\t\t}\n\t\tconst lastIndex = data.length - 1;\n\t\tif (index == lastIndex) {\n\t\t\tdata.pop();\n\t\t} else {\n\t\t\tsplice.call(data, index, 1);\n\t\t}\n\t\t--this.size;\n\t\treturn true;\n\t}\n\n\tpublic get(key: string): any {\n\t\tconst data = this.__DATA__;\n\t\tconst index = assocIndexOf(data, key);\n\n\t\treturn index < 0 ? undefined : data[index][1];\n\t}\n\n\tpublic has(key: string): boolean {\n\t\treturn assocIndexOf(this.__DATA__, key) > -1;\n\t}\n\n\tpublic set(key: string, value: any): any {\n\t\tconst data = this.__DATA__;\n\t\tconst index = assocIndexOf(data, key);\n\n\t\tif (index < 0) {\n\t\t\t++this.size;\n\t\t\tdata.push([key, value]);\n\t\t} else {\n\t\t\tdata[index][1] = value;\n\t\t}\n\t\treturn this;\n\t}\n\n}\n\nclass MapCache {\n\n\tpublic size: number;\n\n\tpublic __DATA__: any;\n\n\tconstructor(entries?: any[]) {\n\t\tlet index = -1;\n\t\tconst length = entries == null ? 0 : entries.length;\n\n\t\tthis.clear();\n\t\twhile (++index < length) {\n\t\t\tconst entry = entries[index];\n\t\t\tthis.set(entry[0], entry[1]);\n\t\t}\n\t}\n\n\tpublic clear(): void {\n\t\tthis.size = 0;\n\t\tthis.__DATA__ = {\n\t\t\thash: new Hash(),\n\t\t\tmap: new (Map || ListCache)(),\n\t\t\tstring: new Hash(),\n\t\t};\n\t}\n\n\tpublic delete(key: string): boolean {\n\t\tconst result = getMapData(this, key)[\"delete\"](key);\n\t\tthis.size -= result ? 1 : 0;\n\t\treturn result;\n\t}\n\n\tpublic get(key: string): any {\n\t\treturn getMapData(this, key).get(key);\n\t}\n\n\tpublic has(key: string): boolean {\n\t\treturn getMapData(this, key).has(key);\n\t}\n\n\tpublic set(key: string, value: any): any {\n\t\tconst data = getMapData(this, key);\n\t\tconst size = data.size;\n\n\t\tdata.set(key, value);\n\t\tthis.size += data.size == size ? 0 : 1;\n\t\treturn this;\n\t}\n\n}\n\nclass SetCache {\n\n\tpublic __DATA__: any;\n\n\tconstructor(values?: any[]) {\n\t\tlet index = -1;\n\t\tconst length = values == null ? 0 : values.length;\n\n\t\tthis.__DATA__ = new MapCache();\n\t\twhile (++index < length) {\n\t\t\tthis.add(values[index]);\n\t\t}\n\t}\n\n\tpublic push(value: any): any {\n\t\treturn this.add(value);\n\t}\n\n\tpublic add(value: any): any {\n\t\tthis.__DATA__.set(value, HASH_UNDEFINED);\n\t\treturn this;\n\t}\n\n\tpublic has(value: any): boolean {\n\t\treturn this.__DATA__.has(value);\n\t}\n\n}\n\nclass Stack {\n\n\tpublic __DATA__: any;\n\n\tpublic size: number;\n\n\tconstructor(entries?: any[]) {\n\t\tconst data = this.__DATA__ = new ListCache(entries);\n\t\tthis.size = data.size;\n\t}\n\n\tpublic clear(): void {\n\t\tthis.__DATA__ = new ListCache();\n\t\tthis.size = 0;\n\t}\n\n\tpublic delete(key: string): boolean {\n\t\tconst data = this.__DATA__;\n\t\tconst result = data[\"delete\"](key);\n\n\t\tthis.size = data.size;\n\t\treturn result;\n\t}\n\n\tpublic get(key: string): any {\n\t\treturn this.__DATA__.get(key);\n\t}\n\n\tpublic has(key: string): boolean {\n\t\treturn this.__DATA__.has(key);\n\t}\n\n\tpublic set(key: string, value: any): any {\n\t\tlet data = this.__DATA__;\n\t\tif (data instanceof ListCache) {\n\t\t\tconst pairs = data.__DATA__;\n\t\t\tif (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n\t\t\t\tpairs.push([key, value]);\n\t\t\t\tthis.size = ++data.size;\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tdata = this.__DATA__ = new MapCache(pairs);\n\t\t}\n\t\tdata.set(key, value);\n\t\tthis.size = data.size;\n\t\treturn this;\n\t}\n\n}\n\nfunction arrayLikeKeys(value: any, inherited?: boolean): string[] {\n\tconst isArr = isArray(value);\n\tconst isArg = !isArr && isArguments(value);\n\tconst isBuff = !isArr && !isArg && isBuffer(value);\n\tconst isType = !isArr && !isArg && !isBuff && isTypedArray(value);\n\tconst skipIndexes = isArr || isArg || isBuff || isType;\n\tconst result = skipIndexes ? baseTimes(value.length, String) : [];\n\tconst length = result.length;\n\n\tfor (const key in value) {\n\t\tif ((inherited || hasOwnProperty.call(value, key)) &&\n\t\t\t!(skipIndexes && (\n\t\t\t\t// Safari 9 has enumerable `arguments.length` in strict mode.\n\t\t\t\tkey == \"length\" ||\n\t\t\t\t// Node.js 0.10 has enumerable non-index properties on buffers.\n\t\t\t\t(isBuff && (key == \"offset\" || key == \"parent\")) ||\n\t\t\t\t// PhantomJS 2 has enumerable non-index properties on typed arrays.\n\t\t\t\t(isType && (key == \"buffer\" || key == \"byteLength\" || key == \"byteOffset\")) ||\n\t\t\t\t// Skip index properties.\n\t\t\t\tisIndex(key, length)\n\t\t\t))) {\n\t\t\tresult.push(key);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction assignValue(object: any, key: string, value: any): void {\n\tconst objValue = object[key];\n\tif (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n\t\t(value === undefined && !(key in object))) {\n\t\tbaseAssignValue(object, key, value);\n\t}\n}\n\nfunction assocIndexOf(array: any[], key: any): number {\n\tlet length = array.length;\n\twhile (length--) {\n\t\tif (eq(array[length][0], key)) {\n\t\t\treturn length;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction baseAssign(object: any, source: any): any {\n\treturn object && copyObject(source, keys(source), object);\n}\n\nfunction baseAssignIn(object: any, source: any): any {\n\treturn object && copyObject(source, keysIn(source), object);\n}\n\nfunction baseAssignValue(object: any, key: string, value: any): void {\n\tif (key == \"__proto__\" && Object.defineProperty) {\n\t\tObject.defineProperty(object, key, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: value,\n\t\t\twritable: true,\n\t\t});\n\t} else {\n\t\tobject[key] = value;\n\t}\n}\n\nfunction baseClone(value: any, bitmask: number, customizer?: Function, key?: string, object?: any, stack?: any): any {\n\tlet result: any;\n\tconst isDeep = bitmask & CLONE_DEEP_FLAG;\n\tconst isFlat = bitmask & CLONE_FLAT_FLAG;\n\tconst isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n\tif (customizer) {\n\t\tresult = object ? customizer(value, key, object, stack) : customizer(value);\n\t}\n\tif (result !== undefined) {\n\t\treturn result;\n\t}\n\tif (!isObject(value)) {\n\t\treturn value;\n\t}\n\tconst isArr = isArray(value);\n\tif (isArr) {\n\t\tresult = initCloneArray(value);\n\t\tif (!isDeep) {\n\t\t\treturn copyArray(value, result);\n\t\t}\n\t} else {\n\t\tconst tag = getTag(value);\n\t\tconst isFunc = tag == funcTag || tag == genTag;\n\n\t\tif (isBuffer(value)) {\n\t\t\treturn cloneBuffer(value, !!isDeep);\n\t\t}\n\t\tif (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n\t\t\tresult = (isFlat || isFunc) ? {} : initCloneObject(value);\n\t\t\tif (!isDeep) {\n\t\t\t\treturn isFlat\n\t\t\t\t\t? copySymbolsIn(value, baseAssignIn(result, value))\n\t\t\t\t\t: copySymbols(value, baseAssign(result, value));\n\t\t\t}\n\t\t} else {\n\t\t\tif (!cloneableTags[tag]) {\n\t\t\t\treturn object ? value : {};\n\t\t\t}\n\t\t\tresult = initCloneByTag(value, tag, !!isDeep);\n\t\t}\n\t}\n\t// Check for circular references and return its corresponding clone.\n\tstack = (!stack) ? new Stack() : stack;\n\tconst stacked = stack.get(value);\n\tif (stacked) {\n\t\treturn stacked;\n\t}\n\tstack.set(value, result);\n\n\tif (isSet(value)) {\n\t\tvalue.forEach(function(subValue: any) {\n\t\t\tresult.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n\t\t});\n\t} else if (isMap(value)) {\n\t\tvalue.forEach(function(subValue: any, key: string) {\n\t\t\tresult.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n\t\t});\n\t}\n\n\tconst keysFunc = isFull ? (isFlat ? getAllKeysIn : getAllKeys) : (isFlat ? keysIn : keys);\n\tconst props = isArr ? undefined : keysFunc(value);\n\tarrayEach(props || value, function(subValue: any, key: string) {\n\t\tif (props) {\n\t\t\tkey = subValue;\n\t\t\tsubValue = value[key];\n\t\t}\n\t\t// Recursively populate clone (susceptible to call stack limits).\n\t\tassignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n\t});\n\treturn result;\n}\n\nfunction baseGetAllKeys(object: any, keysFunc: Function, symbolsFunc: Function): any[] {\n\tconst result = keysFunc(object);\n\treturn isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nfunction baseGetTag(value: any): string {\n\tif (value == null) {\n\t\treturn value === undefined ? undefinedTag : nullTag;\n\t}\n\treturn (symToStringTag && symToStringTag in Object(value))\n\t\t? getRawTag(value)\n\t\t: objectToString(value);\n}\n\nfunction baseIsArguments(value: any): boolean {\n\treturn isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nfunction baseIsEqual(value: any, other: any, bitmask?: number, customizer?: Function, stack?: any): boolean {\n\tif (value === other) {\n\t\treturn true;\n\t}\n\tif (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n\t\treturn value !== value && other !== other;\n\t}\n\treturn baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nfunction baseIsEqualDeep(object: any, other: any, bitmask: number, customizer: Function, equalFunc: Function, stack: any): boolean {\n\tlet objIsArr = isArray(object);\n\tconst othIsArr = isArray(other);\n\tlet objTag = objIsArr ? arrayTag : getTag(object);\n\tlet othTag = othIsArr ? arrayTag : getTag(other);\n\n\tobjTag = objTag == argsTag ? objectTag : objTag;\n\tothTag = othTag == argsTag ? objectTag : othTag;\n\n\tlet objIsObj = objTag == objectTag;\n\tconst othIsObj = othTag == objectTag;\n\tconst isSameTag = objTag == othTag;\n\n\tif (isSameTag && isBuffer(object)) {\n\t\tif (!isBuffer(other)) {\n\t\t\treturn false;\n\t\t}\n\t\tobjIsArr = true;\n\t\tobjIsObj = false;\n\t}\n\tif (isSameTag && !objIsObj) {\n\t\tstack = (!stack) ? new Stack() : stack;\n\t\treturn (objIsArr || isTypedArray(object))\n\t\t\t? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n\t\t\t: equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n\t}\n\tif (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n\t\tconst objIsWrapped = objIsObj && hasOwnProperty.call(object, \"__wrapped__\");\n\t\tconst othIsWrapped = othIsObj && hasOwnProperty.call(other, \"__wrapped__\");\n\n\t\tif (objIsWrapped || othIsWrapped) {\n\t\t\tconst objUnwrapped = objIsWrapped ? object.value() : object;\n\t\t\tconst othUnwrapped = othIsWrapped ? other.value() : other;\n\n\t\t\tstack = (!stack) ? new Stack() : stack;\n\t\t\treturn equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n\t\t}\n\t}\n\tif (!isSameTag) {\n\t\treturn false;\n\t}\n\tstack = (!stack) ? new Stack() : stack;\n\treturn equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nfunction baseIsMap(value: any): boolean {\n\treturn isObjectLike(value) && getTag(value) == mapTag;\n}\n\nfunction baseIsNative(value: any): boolean {\n\tif (!isObject(value) || isMasked(value)) {\n\t\treturn false;\n\t}\n\tconst pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n\treturn pattern.test(toSource(value));\n}\n\nfunction baseIsSet(value: any): boolean {\n\treturn isObjectLike(value) && getTag(value) == setTag;\n}\n\nfunction baseIsTypedArray(value: any): boolean {\n\treturn isObjectLike(value) &&\n\t\tisLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nfunction baseKeys(object: any): string[] {\n\tif (!isPrototype(object)) {\n\t\treturn nativeKeys(object);\n\t}\n\tconst result = [];\n\tfor (const key in Object(object)) {\n\t\tif (hasOwnProperty.call(object, key) && key != \"constructor\") {\n\t\t\tresult.push(key);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction baseKeysIn(object: any): string[] {\n\tif (!isObject(object)) {\n\t\treturn nativeKeysIn(object);\n\t}\n\tconst isProto = isPrototype(object);\n\tconst result = [];\n\n\tfor (const key in object) {\n\t\tif (!(key == \"constructor\" && (isProto || !hasOwnProperty.call(object, key)))) {\n\t\t\tresult.push(key);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction cloneBuffer(buffer: Buffer, isDeep: boolean): Buffer {\n\tif (isDeep) {\n\t\treturn buffer.slice();\n\t}\n\tconst length = buffer.length;\n\tconst ctor: any = buffer.constructor;\n\tconst result = allocUnsafe ? allocUnsafe(length) : new ctor(length);\n\n\tbuffer.copy(result);\n\treturn result;\n}\n\nfunction cloneArrayBuffer(arrayBuffer: ArrayBuffer): ArrayBuffer {\n\tconst ctor: any = arrayBuffer[\"constructor\"];\n\tconst result = new ctor(arrayBuffer.byteLength);\n\tnew Uint8Array(result).set(new Uint8Array(arrayBuffer));\n\treturn result;\n}\n\nfunction cloneDataView(dataView: any, isDeep: boolean): any {\n\tconst buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n\treturn new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nfunction cloneRegExp(regexp: any): any {\n\tconst result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n\tresult.lastIndex = regexp.lastIndex;\n\treturn result;\n}\n\nfunction cloneSymbol(symbol: any): any {\n\treturn symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nfunction cloneTypedArray(typedArray: any, isDeep: boolean): any {\n\tconst buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n\treturn new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nfunction copyArray(source: any[], array?: any[]): any[] {\n\tlet index = -1;\n\tconst length = source.length;\n\n\tarray = (!array) ? Array(length) : array;\n\twhile (++index < length) {\n\t\tarray[index] = source[index];\n\t}\n\treturn array;\n}\n\nfunction copyObject(source: any, props: string[], object?: any, customizer?: Function): any {\n\tconst isNew = !object;\n\tobject = (isNew) ? {} : object;\n\n\tlet index = -1;\n\tconst length = props.length;\n\n\twhile (++index < length) {\n\t\tconst key = props[index];\n\n\t\tlet newValue = customizer\n\t\t\t? customizer(object[key], source[key], key, object, source)\n\t\t\t: undefined;\n\n\t\tif (newValue === undefined) {\n\t\t\tnewValue = source[key];\n\t\t}\n\t\tif (isNew) {\n\t\t\tbaseAssignValue(object, key, newValue);\n\t\t} else {\n\t\t\tassignValue(object, key, newValue);\n\t\t}\n\t}\n\treturn object;\n}\n\nfunction copySymbols(source: any, object: any): any {\n\treturn copyObject(source, getSymbols(source), object);\n}\n\nfunction copySymbolsIn(source: any, object: any): any {\n\treturn copyObject(source, getSymbolsIn(source), object);\n}\n\nfunction equalArrays(array: any[], other: any[], bitmask: number, customizer: Function, equalFunc: Function, stack: any): boolean {\n\tconst isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n\tconst arrLength = array.length;\n\tconst othLength = other.length;\n\n\tif (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n\t\treturn false;\n\t}\n\t// Assume cyclic values are equal.\n\tconst stacked = stack.get(array);\n\tif (stacked && stack.get(other)) {\n\t\treturn stacked == other;\n\t}\n\tlet index = -1;\n\tlet result = true;\n\tconst seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache() : undefined;\n\n\tstack.set(array, other);\n\tstack.set(other, array);\n\n\t// Ignore non-index properties.\n\twhile (++index < arrLength) {\n\t\tconst arrValue = array[index];\n\t\tconst othValue = other[index];\n\n\t\tlet compared;\n\t\tif (customizer) {\n\t\t\tcompared = isPartial\n\t\t\t\t? customizer(othValue, arrValue, index, other, array, stack)\n\t\t\t\t: customizer(arrValue, othValue, index, array, other, stack);\n\t\t}\n\t\tif (compared !== undefined) {\n\t\t\tif (compared) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tresult = false;\n\t\t\tbreak;\n\t\t}\n\t\t// Recursively compare arrays (susceptible to call stack limits).\n\t\tif (seen) {\n\t\t\tif (!arraySome(other, function(othValue: any, othIndex: any) {\n\t\t\t\tif (!cacheHas(seen, othIndex) &&\n\t\t\t\t\t(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n\t\t\t\t\treturn seen.push(othIndex);\n\t\t\t\t}\n\t\t\t})) {\n\t\t\t\tresult = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else if (!(\n\t\t\tarrValue === othValue ||\n\t\t\tequalFunc(arrValue, othValue, bitmask, customizer, stack)\n\t\t)) {\n\t\t\tresult = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tstack[\"delete\"](array);\n\tstack[\"delete\"](other);\n\treturn result;\n}\n\nfunction equalByTag(object: any, other: any, tag: string, bitmask: number, customizer: Function, equalFunc: Function, stack: any): boolean {\n\tswitch (tag) {\n\t\tcase dataViewTag:\n\t\t\tif ((object.byteLength != other.byteLength) ||\n\t\t\t\t(object.byteOffset != other.byteOffset)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tobject = object.buffer;\n\t\t\tother = other.buffer;\n\n\t\tcase arrayBufferTag:\n\t\t\tif ((object.byteLength != other.byteLength) ||\n\t\t\t\t!equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\n\t\tcase boolTag:\n\t\tcase dateTag:\n\t\tcase numberTag:\n\t\t\t// Coerce booleans to `1` or `0` and dates to milliseconds.\n\t\t\t// Invalid dates are coerced to `NaN`.\n\t\t\treturn eq(+object, +other);\n\n\t\tcase errorTag:\n\t\t\treturn object.name == other.name && object.message == other.message;\n\n\t\tcase regexpTag:\n\t\tcase stringTag:\n\t\t\t// Coerce regexes to strings and treat strings, primitives and objects,\n\t\t\t// as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n\t\t\t// for more details.\n\t\t\treturn object == (other + \"\");\n\n\t\tcase mapTag:\n\t\t\tlet convert = mapToArray;\n\n\t\tcase setTag:\n\t\t\tconst isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n\t\t\tconvert = (!convert) ? setToArray : convert;\n\n\t\t\tif (object.size != other.size && !isPartial) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Assume cyclic values are equal.\n\t\t\tconst stacked = stack.get(object);\n\t\t\tif (stacked) {\n\t\t\t\treturn stacked == other;\n\t\t\t}\n\t\t\tbitmask |= COMPARE_UNORDERED_FLAG;\n\n\t\t\t// Recursively compare objects (susceptible to call stack limits).\n\t\t\tstack.set(object, other);\n\t\t\tconst result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n\t\t\tstack[\"delete\"](object);\n\t\t\treturn result;\n\n\t\tcase symbolTag:\n\t\t\tif (symbolValueOf) {\n\t\t\t\treturn symbolValueOf.call(object) == symbolValueOf.call(other);\n\t\t\t}\n\t}\n\treturn false;\n}\n\nfunction equalObjects(object: any, other: any, bitmask: number, customizer: Function, equalFunc: Function, stack: any): boolean {\n\tconst isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n\tconst objProps = getAllKeys(object);\n\tconst objLength = objProps.length;\n\tconst othProps = getAllKeys(other);\n\tconst othLength = othProps.length;\n\n\tif (objLength != othLength && !isPartial) {\n\t\treturn false;\n\t}\n\tlet index = objLength;\n\twhile (index--) {\n\t\tconst key = objProps[index];\n\t\tif (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Assume cyclic values are equal.\n\tconst stacked = stack.get(object);\n\tif (stacked && stack.get(other)) {\n\t\treturn stacked == other;\n\t}\n\tlet result = true;\n\tstack.set(object, other);\n\tstack.set(other, object);\n\n\tlet skipCtor: boolean = !!isPartial;\n\twhile (++index < objLength) {\n\t\tconst key = objProps[index];\n\t\tconst objValue = object[key];\n\t\tconst othValue = other[key];\n\n\t\tlet compared;\n\t\tif (customizer) {\n\t\t\tcompared = isPartial\n\t\t\t\t? customizer(othValue, objValue, key, other, object, stack)\n\t\t\t\t: customizer(objValue, othValue, key, object, other, stack);\n\t\t}\n\t\t// Recursively compare objects (susceptible to call stack limits).\n\t\tif (!(compared === undefined\n\t\t\t? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n\t\t\t: compared\n\t\t)) {\n\t\t\tresult = false;\n\t\t\tbreak;\n\t\t}\n\t\tskipCtor = (!skipCtor) ? key == \"constructor\" : skipCtor;\n\t}\n\tif (result && !skipCtor) {\n\t\tconst objCtor = object.constructor;\n\t\tconst othCtor = other.constructor;\n\n\t\t// Non `Object` object instances with different constructors are not equal.\n\t\tif (objCtor != othCtor &&\n\t\t\t(\"constructor\" in object && \"constructor\" in other) &&\n\t\t\t!(typeof objCtor == \"function\" && objCtor instanceof objCtor &&\n\t\t\t\ttypeof othCtor == \"function\" && othCtor instanceof othCtor)) {\n\t\t\tresult = false;\n\t\t}\n\t}\n\tstack[\"delete\"](object);\n\tstack[\"delete\"](other);\n\treturn result;\n}\n\nfunction getAllKeys(object: any): string[] {\n\treturn baseGetAllKeys(object, keys, getSymbols);\n}\n\nfunction getAllKeysIn(object: any): string[] {\n\treturn baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nfunction getMapData(map: any, key: string): any {\n\tconst data = map.__DATA__;\n\n\treturn isKeyable(key) ? data[typeof key === \"string\" ? \"string\" : \"hash\"]\n\t\t: data.map;\n}\n\nfunction getNative(object: any, key: string): any {\n\tconst value = getValue(object, key);\n\treturn baseIsNative(value) ? value : undefined;\n}\n\nfunction getRawTag(value: any): string {\n\tconst isOwn = hasOwnProperty.call(value, symToStringTag);\n\tconst tag = value[symToStringTag];\n\n\tlet unmasked = false;\n\n\ttry {\n\t\tvalue[symToStringTag] = undefined;\n\t\tunmasked = true;\n\t} catch (e) {\n\t\t// Intentionally do nothing\n\t}\n\n\tconst result = nativeObjectToString.call(value);\n\n\tif (unmasked) {\n\t\tif (isOwn) {\n\t\t\tvalue[symToStringTag] = tag;\n\t\t} else {\n\t\t\tdelete value[symToStringTag];\n\t\t}\n\t}\n\n\treturn result;\n}\n\nconst getSymbols: (source: any) => string[] = !nativeGetSymbols ? stubArray : function(object) {\n\tif (object == null) {\n\t\treturn [];\n\t}\n\tobject = Object(object);\n\treturn arrayFilter(nativeGetSymbols(object), function(symbol: any) {\n\t\treturn propertyIsEnumerable.call(object, symbol);\n\t});\n};\n\nconst getSymbolsIn: (source: any) => string[] = !nativeGetSymbols ? stubArray : function(object) {\n\tconst result = [];\n\n\twhile (object) {\n\t\tarrayPush(result, getSymbols(object));\n\t\tobject = getPrototype(object);\n\t}\n\n\treturn result;\n};\n\nlet getTag: (source: any) => string = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) !== dataViewTag) ||\n\t(Map && getTag(new Map()) !== mapTag) ||\n\t(Promise && getTag(Promise.resolve()) !== promiseTag) ||\n\t(Set && getTag(new Set()) !== setTag) ||\n\t(WeakMap && getTag(new WeakMap()) !== weakMapTag)) {\n\tgetTag = function(value) {\n\t\tconst result = baseGetTag(value);\n\t\tconst Ctor = result === objectTag ? value.constructor : undefined;\n\t\tconst ctorString = Ctor ? toSource(Ctor) : \"\";\n\n\t\tif (ctorString) {\n\t\t\tswitch (ctorString) {\n\t\t\t\tcase dataViewCtorString: return dataViewTag;\n\t\t\t\tcase mapCtorString: return mapTag;\n\t\t\t\tcase promiseCtorString: return promiseTag;\n\t\t\t\tcase setCtorString: return setTag;\n\t\t\t\tcase weakMapCtorString: return weakMapTag;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n}\n\nfunction initCloneArray(array: any): any[] {\n\tconst length = array.length;\n\tconst result = new array.constructor(length);\n\n\t// Add properties assigned by `RegExp#exec`.\n\tif (length && typeof array[0] === \"string\" && hasOwnProperty.call(array, \"index\")) {\n\t\tresult.index = array.index;\n\t\tresult.input = array.input;\n\t}\n\treturn result;\n}\n\nfunction initCloneObject(object: any): any {\n\treturn (typeof object.constructor === \"function\" && !isPrototype(object))\n\t\t? baseCreate(getPrototype(object))\n\t\t: {};\n}\n\nfunction initCloneByTag(object: any, tag: string, isDeep: boolean): any {\n\tconst Ctor = object.constructor;\n\n\tswitch (tag) {\n\t\tcase arrayBufferTag:\n\t\t\treturn cloneArrayBuffer(object);\n\n\t\tcase boolTag:\n\t\tcase dateTag:\n\t\t\treturn new Ctor(+object);\n\n\t\tcase dataViewTag:\n\t\t\treturn cloneDataView(object, isDeep);\n\n\t\tcase float32Tag: case float64Tag:\n\t\tcase int8Tag: case int16Tag: case int32Tag:\n\t\tcase uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n\t\t\treturn cloneTypedArray(object, isDeep);\n\n\t\tcase mapTag:\n\t\t\treturn new Ctor();\n\n\t\tcase numberTag:\n\t\tcase stringTag:\n\t\t\treturn new Ctor(object);\n\n\t\tcase regexpTag:\n\t\t\treturn cloneRegExp(object);\n\n\t\tcase setTag:\n\t\t\treturn new Ctor();\n\n\t\tcase symbolTag:\n\t\t\treturn cloneSymbol(object);\n\t}\n}\n\nfunction isIndex(value: any, length?: number): boolean {\n\tconst type = typeof value;\n\tlength = length == null ? MAX_SAFE_INTEGER : length;\n\n\treturn !!length &&\n\t\t(type === \"number\" ||\n\t\t\t(type !== \"symbol\" && reIsUint.test(value))) &&\n\t\t(value > -1 && value % 1 === 0 && value < length);\n}\n\nfunction isKeyable(value: any): boolean {\n\tconst type = typeof value;\n\n\treturn (type === \"string\" || type === \"number\" || type === \"symbol\" || type === \"boolean\")\n\t\t? (value !== \"__proto__\")\n\t\t: (value === null);\n}\n\nfunction isMasked(func: Function): boolean {\n\treturn !!maskSrcKey && (maskSrcKey in func);\n}\n\nfunction isPrototype(value: any): boolean {\n\tconst Ctor = value && value.constructor;\n\tconst proto = (typeof Ctor === \"function\" && Ctor.prototype) || objectProto;\n\n\treturn value === proto;\n}\n\nfunction nativeKeysIn(object: any): any[] {\n\tconst result = [];\n\n\tif (object != null) {\n\t\t/* tslint:disable-next-line */\n\t\tfor (const key in Object(object)) {\n\t\t\tresult.push(key);\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction objectToString(value: any): string {\n\treturn nativeObjectToString.call(value);\n}\n\nfunction toSource(func: Function): string {\n\tif (func != null) {\n\t\ttry {\n\t\t\treturn funcToString.call(func);\n\t\t} catch (e) {\n\t\t\t// Intentionally do nothing\n\t\t}\n\t\ttry {\n\t\t\treturn (func + \"\");\n\t\t} catch (e) {\n\t\t\t// Intentionally do nothing\n\t\t}\n\t}\n\treturn \"\";\n}\n\nfunction memoize(func: Function, resolver: Function): Function {\n\tif (typeof func !== \"function\" || (resolver != null && typeof resolver !== \"function\")) {\n\t\tthrow new TypeError(FUNC_ERROR_TEXT);\n\t}\n\n\tconst memoized = function() {\n\t\tconst args = arguments;\n\t\tconst key = resolver ? resolver.apply(this, args) : args[0];\n\t\tconst cache = memoized[\"cache\"];\n\n\t\tif (cache.has(key)) {\n\t\t\treturn cache.get(key);\n\t\t}\n\n\t\tconst result = func.apply(this, args);\n\t\tmemoized[\"cache\"] = cache.set(key, result) || cache;\n\n\t\treturn result;\n\t};\n\n\tmemoized[\"cache\"] = new (memoize.Cache || MapCache)();\n\n\treturn memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nfunction cloneDeep(value: any): any {\n\treturn baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nfunction eq(value: any, other: any): boolean {\n\treturn value === other || (value !== value && other !== other);\n}\n\nconst isArguments: (value: any) => boolean = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n\treturn isObjectLike(value) && hasOwnProperty.call(value, \"callee\") && !propertyIsEnumerable.call(value, \"callee\");\n};\n\nconst isArray: (value: any) => boolean = Array.isArray;\n\nfunction isArrayLike(value: any): boolean {\n\treturn value != null && isLength(value.length) && !isFunction(value);\n}\n\nconst isBuffer: (value: any) => boolean = nativeIsBuffer || stubFalse;\n\nfunction isEqual(value: any, other: any): boolean {\n\treturn baseIsEqual(value, other);\n}\n\nfunction isFunction(value: any): boolean {\n\tif (!isObject(value)) {\n\t\treturn false;\n\t}\n\n\tconst tag = baseGetTag(value);\n\n\treturn tag === funcTag || tag === genTag || tag === asyncTag || tag === proxyTag;\n}\n\nfunction isLength(value: any): boolean {\n\treturn typeof value === \"number\" && value > -1 && value % 1 === 0 && value <= MAX_SAFE_INTEGER;\n}\n\nfunction isObject(value: any): boolean {\n\tconst type = typeof value;\n\treturn value != null && (type === \"object\" || type === \"function\");\n}\n\nfunction isObjectLike(value: any): boolean {\n\treturn value != null && typeof value === \"object\";\n}\n\nconst isMap: (value: any) => boolean = baseIsMap;\n\nconst isSet: (value: any) => boolean = baseIsSet;\n\nconst isTypedArray: (value: any) => boolean = baseIsTypedArray;\n\nfunction keys(object: any): string[] {\n\treturn isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nfunction keysIn(object: any): string[] {\n\treturn isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nfunction stubArray(): any[] {\n\treturn [];\n}\n\nfunction stubFalse(): boolean {\n\treturn false;\n}\n\nconst encodeHtmlMap: any = {\n\t'\"': \"&quot;\",\n\t\"&\": \"&amp;\",\n\t\"'\": \"&#39;\",\n\t\"<\": \"&lt;\",\n\t\">\": \"&gt;\",\n};\n\nfunction lookupEncodeHtmlMap(key: string): string {\n\treturn encodeHtmlMap[key];\n}\n\nfunction encodeHtml(source: string): string {\n\treturn (source === null) ? null : (source + \"\").replace(/[&\"'<>]/g, lookupEncodeHtmlMap);\n}\n\nfunction clone(source: any) {\n\treturn cloneDeep(source);\n}\n\nfunction equals(first: any, second: any): boolean {\n\treturn isEqual(first, second);\n}\n\nfunction requireNotNull<T>(value: T, name: string): T {\n\tif (value === null || value === undefined) {\n\t\tthrow new NullValueError(name + \" shall not be null\");\n\t}\n\n\treturn value;\n}\n\nfunction requireValid(value: string, name: string, regex: RegExp): string {\n\tif (value === null || value === undefined) {\n\t\tthrow new NullValueError(name + \" shall not be null\");\n\t}\n\n\tif (!regex.test(value)) {\n\t\tthrow new ValidationError(name + \" must be valid\");\n\t}\n\n\treturn value;\n}\n\nfunction isDefined(value: any): boolean {\n\treturn value !== null && value !== undefined;\n}\n\nexport { clone, equals, requireNotNull, requireValid, isDefined, encodeHtml };\n","import Logger from \"@/logger/Logger\";\nimport LoggerImpl from \"@/logger/LoggerImpl\";\nimport LoggerServiceImpl from \"@/logger/LoggerServiceImpl\";\n\nclass LoggerFactory {\n\n\t/**\n\t * Get the named logger\n\t * @param name of the associated logger\n\t */\n\tpublic static getLogger(name: string): Logger {\n\t\treturn new LoggerImpl(name, LoggerServiceImpl.INSTANCE);\n\t}\n\n}\n\nexport default LoggerFactory;\n","const INTERNAL_DIRECT_CHANNEL_NAME: string = \"Cydran$$Direct$$Internal$$Channel\";\nconst TEXT_NODE_TYPE: number = 3;\nconst MODULE_FIELD_NAME: string = \"____internal$$cydran$$module____\";\nconst INTERNAL_CHANNEL_NAME: string = \"Cydran$$Internal$$Channel\";\nconst COMPONENT_INTERNALS_FIELD_NAME: string = \"____internal$$cydran____\";\nconst DEFAULT_MODULE_KEY: string = \"DEFAULT\";\n\nfunction NO_OP_FN() {\n\t// Intentionally do nothing\n}\n\nfunction EMPTY_OBJECT_FN() {\n\treturn {};\n}\n\nexport {\n\tCOMPONENT_INTERNALS_FIELD_NAME,\n\tDEFAULT_MODULE_KEY,\n\tINTERNAL_DIRECT_CHANNEL_NAME,\n\tINTERNAL_CHANNEL_NAME,\n\tMODULE_FIELD_NAME,\n\tTEXT_NODE_TYPE,\n\tNO_OP_FN,\n\tEMPTY_OBJECT_FN\n};\n","import Logger from \"@/logger/Logger\";\nimport ModelMediator from \"@/model/ModelMediator\";\nimport PubSub from \"@/message/PubSub\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport Module from \"@/module/Module\";\nimport { VALID_ID } from \"@/constant/ValidationRegExp\";\nimport Disposable from \"@/pattern/Disposable\";\nimport DigestionCandidateConsumer from \"@/mvvm/DigestionCandidateConsumer\";\nimport { OnContinuation } from \"@/message/Continuation\";\nimport { extractAttributes } from \"@/util/ParamUtils\";\nimport ElementMediatorDependencies from \"@/element/ElementMediatorDependencies\";\nimport { INTERNAL_CHANNEL_NAME } from \"@/constant/Constants\";\nimport Nestable from \"@/component/Nestable\";\nimport MediatorSource from \"@/mvvm/MediatorSource\";\nimport IdGenerator from \"@/pattern/IdGenerator\";\nimport PubSubImpl from \"@/message/PubSubImpl\";\nimport { requireNotNull, requireValid } from \"@/util/ObjectUtils\";\n\n/**\n * The piece of code between the HTMLElement and the Mvvm\n * @type M {@link ModelMediator}\n * @type E extends HTMLElement\n * @implements {@link Disposable}\n */\nabstract class ElementMediator<M, E extends HTMLElement | Text, P> implements Disposable, MediatorSource {\n\n\tprivate logger: Logger;\n\n\t// tslint:disable-next-line\n\tprivate ____internal$$cydran____: ElementMediatorDependencies;\n\n\tprivate mediator: ModelMediator<M>;\n\n\tprivate pubSub: PubSub;\n\n\tprivate propagation: boolean;\n\n\tprivate domListeners: {\n\t\t[name: string]: any;\n\t};\n\n\tprivate id: string;\n\n\tprivate params: P;\n\n\tprivate reducerFn?: (input: any) => M;\n\n\tconstructor(dependencies: any, propagation: boolean, reducerFn: (input: any) => M) {\n\t\tthis.____internal$$cydran____ = requireNotNull(dependencies, \"dependencies\");\n\t\tthis.logger = LoggerFactory.getLogger(\"ElementMediator: \" + dependencies.prefix);\n\t\tthis.domListeners = {};\n\t\tthis.pubSub = new PubSubImpl(this, this.getModule());\n\t\tthis.params = null;\n\t\tthis.propagation = propagation;\n\t\tthis.id = IdGenerator.INSTANCE.generate();\n\t\tthis.reducerFn = reducerFn;\n\t}\n\n\t/**\n\t * Dispose of ElementMediator when released.\n\t * + All event listeners will be removed.\n\t * + This element mediator will be unwired from any other DOM entanglements\n\t * + The mediator reference to the model is released/nulled\n\t * + Any value representation of this element mediator is released/nulled\n\t * + The [[Mvvm|mvvm]] refernce is released/nulled\n\t * + The parental reference is released/nulled\n\t */\n\tpublic dispose(): void {\n\t\tthis.removeDomListeners();\n\t\tthis.unwire();\n\t\tthis.____internal$$cydran____ = null;\n\t\tthis.mediator = null;\n\t}\n\n\t/**\n\t * Initialize this element mediator.\n\t */\n\tpublic init(): void {\n\t\tthis.mediator = this.mediate(this.getExpression(), this.reducerFn);\n\t\tthis.wire();\n\t}\n\n\t/**\n\t * Get the active module instance reference by id\n\t * @return U\n\t */\n\tpublic get<U>(id: string): U {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\treturn this.____internal$$cydran____.module.get(id);\n\t}\n\n\t// /**\n\t//  * Set the [[Module|module]] instance reference\n\t//  * @param {Module} moduleInstance\n\t//  */\n\t// public setModule(moduleInstance: Module): void {\n\t// \tthis.moduleInstance = requireNotNull(moduleInstance, \"moduleInstance\");\n\t// }\n\n\t/**\n\t * [message description]\n\t * @param {string} channelName [description]\n\t * @param {string} messageName [description]\n\t * @param {any}    payload     [description]\n\t */\n\tpublic message(channelName: string, messageName: string, payload?: any): void {\n\t\trequireNotNull(channelName, \"channelName\");\n\t\trequireNotNull(messageName, \"messageName\");\n\t\tconst actualPayload: any = (payload === null || payload === undefined) ? {} : payload;\n\t\tthis.pubSub.message(channelName, messageName, actualPayload);\n\t}\n\n\t/**\n\t * Broadcast a message\n\t * @param {string} channelName [description]\n\t * @param {string} messageName [description]\n\t * @param {any}    payload     [description]\n\t */\n\tpublic broadcast(channelName: string, messageName: string, payload?: any): void {\n\t\trequireNotNull(channelName, \"channelName\");\n\t\trequireNotNull(messageName, \"messageName\");\n\t\tconst actualPayload: any = (payload === null || payload === undefined) ? {} : payload;\n\t\tthis.getModule().broadcast(channelName, messageName, actualPayload);\n\t}\n\n\t/**\n\t * Broadcast a message in the Global context\n\t * @param {string} channelName [description]\n\t * @param {string} messageName [description]\n\t * @param {any}    payload     [description]\n\t */\n\tpublic broadcastGlobally(channelName: string, messageName: string, payload?: any): void {\n\t\trequireNotNull(channelName, \"channelName\");\n\t\trequireNotNull(messageName, \"messageName\");\n\t\tconst actualPayload: any = (payload === null || payload === undefined) ? {} : payload;\n\t\tthis.____internal$$cydran____.module.broadcastGlobally(channelName, messageName, actualPayload);\n\t}\n\n\tpublic on(messageName: string): OnContinuation {\n\t\trequireNotNull(messageName, \"messageName\");\n\n\t\treturn {\n\t\t\tforChannel: (channelName: string) => {\n\t\t\t\trequireNotNull(channelName, \"channelName\");\n\n\t\t\t\treturn {\n\t\t\t\t\tinvoke: (target: (payload: any) => void) => {\n\t\t\t\t\t\trequireNotNull(target, \"target\");\n\t\t\t\t\t\tthis.pubSub.on(messageName).forChannel(channelName).invoke((payload: any) => {\n\t\t\t\t\t\t\ttarget.apply(this, [payload]);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\t\t\tinvoke: (target: (payload: any) => void) => {\n\t\t\t\trequireNotNull(target, \"target\");\n\t\t\t\tthis.pubSub.on(messageName).forChannel(INTERNAL_CHANNEL_NAME).invoke((payload: any) => {\n\t\t\t\t\ttarget.apply(this, [payload]);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n\n\tpublic requestMediatorSources(sources: MediatorSource[]): void {\n\t\t// Intentionally do nothing by default\n\t}\n\n\tpublic getParentId(): string {\n\t\treturn this.____internal$$cydran____.mvvm.getId();\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.id;\n\t}\n\n\tpublic requestMediators(consumer: DigestionCandidateConsumer): void {\n\t\t// Intentionally do nothing by default\n\t}\n\n\tpublic hasPropagation(): boolean {\n\t\treturn this.propagation;\n\t}\n\n\tprotected getParams(): P {\n\t\tif (this.params === null) {\n\t\t\tthis.params = extractAttributes<P>(this.getPrefix(), this.getEl() as HTMLElement);\n\t\t}\n\n\t\treturn this.params;\n\t}\n\n\tprotected getModelFn(): () => any {\n\t\treturn this.____internal$$cydran____.mvvm.getModelFn();\n\t}\n\n\tprotected getExternalFn(): () => any {\n\t\treturn this.____internal$$cydran____.mvvm.getExternalFn();\n\t}\n\n\tprotected bridge(name: string): void {\n\t\trequireNotNull(name, \"name\");\n\n\t\tconst listener = (event: Event) => {\n\t\t\tthis.message(\"dom\", name, event);\n\t\t};\n\n\t\tif (!this.domListeners[name]) {\n\t\t\tthis.domListeners[name] = listener;\n\t\t\tthis.getEl().addEventListener(name, listener, false);\n\t\t}\n\t}\n\n\t/**\n\t * Get the associated {HTMLElement html element} of this element mediator.\n\t * @return {HTMLElement} [description]\n\t */\n\tprotected getEl(): E {\n\t\treturn this.____internal$$cydran____.el as E;\n\t}\n\n\t/**\n\t * [getModule description]\n\t * @return {Module} [description]\n\t */\n\tprotected getModule(): Module {\n\t\treturn this.____internal$$cydran____.module;\n\t}\n\n\t/**\n\t * Gets the prefix.\n\t * @return the prefix\n\t */\n\tprotected getPrefix(): string {\n\t\treturn this.____internal$$cydran____.prefix;\n\t}\n\n\t/**\n\t * [mediate description]\n\t * @param  {string}        expression [description]\n\t * @return {ModelMediator}            [description]\n\t */\n\tprotected mediate<T>(expression: string, reducerFn?: (input: any) => T): ModelMediator<T> {\n\t\trequireNotNull(expression, \"expression\");\n\t\treturn this.____internal$$cydran____.mvvm.mediate(expression, reducerFn);\n\t}\n\n\t/**\n\t * [getModel description]\n\t * @return {any} [description]\n\t */\n\tprotected getModel(): any {\n\t\treturn this.____internal$$cydran____.model;\n\t}\n\n\t/**\n\t * [getParent description]\n\t * @return {Component} [description]\n\t */\n\tprotected getParent(): Nestable {\n\t\treturn this.____internal$$cydran____.parent.getComponent();\n\t}\n\n\t/**\n\t * [getMediator description]\n\t * @return {ModelMediator} [description]\n\t */\n\tprotected getModelMediator(): ModelMediator<M> {\n\t\treturn this.mediator;\n\t}\n\n\tprotected $apply(fn: Function, args: any[]): any {\n\t\trequireNotNull(fn, \"fn\");\n\t\trequireNotNull(args, \"args\");\n\n\t\tif (this.____internal$$cydran____ && this.____internal$$cydran____.mvvm) {\n\t\t\tthis.____internal$$cydran____.mvvm.$apply(fn, args);\n\t\t}\n\t}\n\n\t/**\n\t * Get the expression specified\n\t * @return {string} [description]\n\t */\n\tprotected getExpression(): string {\n\t\treturn this.____internal$$cydran____.expression;\n\t}\n\n\t/**\n\t * Gets the logger.\n\t * @return {Logger} logger instance\n\t */\n\tprotected getLogger(): Logger {\n\t\treturn this.logger;\n\t}\n\n\t/**\n\t * Wire the element mediator\n\t */\n\tprotected abstract wire(): void;\n\n\t/**\n\t * Unwire the element mediator\n\t */\n\tprotected abstract unwire(): void;\n\n\tprivate removeDomListeners(): void {\n\t\tfor (const name in this.domListeners) {\n\t\t\tif (!this.domListeners.hasOwnProperty(name)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.getEl().removeEventListener(name, this.domListeners[name]);\n\t\t}\n\n\t\tthis.domListeners = {};\n\t}\n\n}\n\nexport default ElementMediator;\n","import SimpleMap from \"@/pattern/SimpleMap\";\nimport Type from \"@/type/Type\";\nimport ElementMediator from \"@/element/ElementMediator\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\n\nclass Factories {\n\n\tpublic static register(name: string, supportedTags: string[], elementMediatorClass: Type<ElementMediator<any, HTMLElement | Text, any>>): void {\n\t\trequireNotNull(name, \"name\");\n\t\trequireNotNull(supportedTags, \"supportedTags\");\n\t\trequireNotNull(elementMediatorClass, \"elementMediatorClass\");\n\n\t\tif (!Factories.factories[name]) {\n\t\t\tFactories.factories[name] = {};\n\t\t}\n\n\t\tfor (const supportedTag of supportedTags) {\n\t\t\tFactories.factories[name][supportedTag] = elementMediatorClass;\n\t\t}\n\t}\n\n\tpublic static get<T>(type: string): T {\n\t\treturn (Factories.factories[type] as any) as T;\n\t}\n\n\tprivate static factories: SimpleMap<SimpleMap<new () => any>> = {};\n\n}\n\nexport default Factories;\n","import { isDefined } from \"@/util/ObjectUtils\";\n\nfunction asIdentity(input: any): any {\n\treturn input;\n}\n\nfunction asBoolean(input: any): boolean {\n\treturn Boolean(input);\n}\n\nfunction asString(input: any): string {\n\treturn isDefined(input) ? ('' + input) : null;\n}\n\nfunction asNumber(input: any): number {\n\treturn isDefined(input) ? Number(input) : null;\n}\n\nexport { asIdentity, asBoolean, asString, asNumber };\n","abstract class CydranError extends Error {\n\n\tprivate static doMsgFilling(msg: string, reps: any): string {\n\t\treturn msg.replace(/%\\w+%/g, (all: string) => (reps[all] + \"\") || all);\n\t}\n\n\tpublic readonly message: string;\n\n\t/**\n\t * Constructor\n\t *\n\t * @param msg string object specific to context\n\t * @param reps optional {key:value, <n^1>} object of named substitution values\n\t * @returns string filled in values in the mesage\n\t */\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper();\n\n\t\tthis.name = new.target.name;\n\t\tthis.message = (reps) ? CydranError.doMsgFilling(msg, reps) : msg;\n\t}\n\n}\n\nexport { CydranError };\n","const VALID_ID: RegExp = /^[a-zA-Z][a-zA-Z0-9\\$\\@\\-\\_\\.\\:\\\\\\/]*$/m;\nconst VALID_KEY: RegExp = new RegExp(/^[a-zA-Z\\$\\_][a-zA-Z0-9\\$\\_]*$/);\n\nexport { VALID_ID, VALID_KEY };\n","import Properties from \"@/config/Properties\";\nimport { isDefined } from \"@/util/ObjectUtils\";\n\nlet win: Window = null;\nlet offDomDoc: Document = null;\n\nfunction getWindow(): Window {\n\tif (!isDefined(win)) {\n\t\twin = Properties.getWindow();\n\t}\n\n\treturn win;\n}\n\nfunction getDocument(): Document {\n\treturn getWindow().document;\n}\n\nfunction getOffDomDocument(): Document {\n\tif (!isDefined(offDomDoc)) {\n\t\toffDomDoc = getDocument().implementation.createHTMLDocument(\"\");\n\t}\n\n\treturn offDomDoc;\n}\n\nlet readyList: any = [];\nlet readyFired = false;\nlet readyEventHandlersInstalled = false;\n\nfunction ready() {\n\tif (!readyFired) {\n\t\t// this must be set to true before we start calling callbacks\n\t\treadyFired = true;\n\n\t\t// tslint:disable-next-line\n\t\tfor (let i = 0; i < readyList.length; i++) {\n\t\t\t// if a callback here happens to add new ready handlers,\n\t\t\t// the docReady() function will see that it already fired\n\t\t\t// and will schedule the callback to run right after\n\t\t\t// this event loop finishes so all handlers will still execute\n\t\t\t// in order and no new ones will be added to the readyList\n\t\t\t// while we are processing the list\n\t\t\treadyList[i].fn.call(getWindow(), readyList[i].ctx);\n\t\t}\n\t\t// allow any closures held by these functions to free\n\t\treadyList = [];\n\t}\n}\n\nfunction readyStateChange() {\n\tif (getDocument().readyState === \"complete\") {\n\t\tready();\n\t}\n}\n\nfunction domReady(callback?: any, context?: any) {\n\tif (typeof callback !== \"function\") {\n\t\tthrow new TypeError(\"callback for docReady(fn) must be a function\");\n\t}\n\n\t// if ready has already fired, then just schedule the callback\n\t// to fire asynchronously, but right away\n\tif (readyFired) {\n\t\tsetTimeout(function() { callback(context); }, 1);\n\t\treturn;\n\t} else {\n\t\t// add the function and context to the list\n\t\treadyList.push({ fn: callback, ctx: context });\n\t}\n\n\t// if document already ready to go, schedule the ready function to run\n\t// IE only safe when readyState is \"complete\", others safe when readyState is \"interactive\"\n\tif (getDocument().readyState === \"complete\" || (!getDocument()[\"attachEvent\"] && getDocument().readyState === \"interactive\")) {\n\t\tsetTimeout(ready, 1);\n\t} else if (!readyEventHandlersInstalled) {\n\t\t// otherwise if we don't have event handlers installed, install them\n\t\tif (getDocument().addEventListener) {\n\t\t\t// first choice is DOMContentLoaded event\n\t\t\tgetDocument().addEventListener(\"DOMContentLoaded\", ready, false);\n\t\t\t// backup is window load event\n\t\t\tgetWindow().addEventListener(\"load\", ready, false);\n\t\t} else {\n\t\t\t// must be IE\n\t\t\tgetDocument()[\"attachEvent\"](\"onreadystatechange\", readyStateChange);\n\t\t\tgetWindow()[\"attachEvent\"](\"onload\", ready);\n\t\t}\n\n\t\treadyEventHandlersInstalled = true;\n\t}\n}\n\nfunction createElementOffDom<E extends HTMLElement>(tagName: string): E {\n\treturn getOffDomDocument().createElement(tagName) as E;\n}\n\nfunction createCommentOffDom(content: string): Comment {\n\treturn getOffDomDocument().createComment(content);\n}\n\nfunction createDocumentFragmentOffDom(): DocumentFragment {\n\treturn getOffDomDocument().createDocumentFragment();\n}\n\nfunction createTextNodeOffDom(text: string): Text {\n\treturn getOffDomDocument().createTextNode(text);\n}\n\nexport { domReady, createElementOffDom, createCommentOffDom, createDocumentFragmentOffDom, createTextNodeOffDom };\n","import Module from \"@/module/Module\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\n\ninterface ComponentIdPair {\n\n\tcomponentId: string;\n\n\tmoduleId: string;\n\n}\n\ninterface ComponentConfig {\n\n\tgetMetadata(key: string): any;\n\n\tgetPrefix(): string;\n\n\tgetAttributes(): string[];\n\n}\n\nclass ComponentConfigImpl implements ComponentConfig {\n\n\tprivate metadata: any;\n\n\tprivate attributes: string[];\n\n\tprivate prefix: string;\n\n\tprivate topComponentIds: ComponentIdPair[];\n\n\tprivate bottomComponentIds: ComponentIdPair[];\n\n\tprivate parentModelFn: () => any;\n\n\tprivate module: Module;\n\n\tconstructor() {\n\t\tthis.metadata = {};\n\t\tthis.attributes = [];\n\t\tthis.prefix = \"c\";\n\t\tthis.topComponentIds = [];\n\t\tthis.bottomComponentIds = [];\n\t\tthis.parentModelFn = null;\n\t}\n\n\tpublic getMetadata(key: string): any {\n\t\treturn this.metadata[key] ? this.metadata[key] : null;\n\t}\n\n\tpublic getPrefix(): string {\n\t\treturn this.prefix;\n\t}\n\n\tpublic getAttributes(): string[] {\n\t\treturn this.attributes.slice();\n\t}\n\n\tpublic withMetadata(name: string, value: any): void {\n\t\tthis.metadata[name] = value;\n\t}\n\n\tpublic withAttribute(name: string): void {\n\t\tthis.attributes.push(name);\n\t}\n\n\tpublic withPrefix(prefix: string): void {\n\t\tthis.prefix = prefix;\n\t}\n\n\tpublic setTopComponentIds(topComponentIds: ComponentIdPair[]): void {\n\t\tthis.topComponentIds = topComponentIds;\n\t}\n\n\tpublic setBottomComponentIds(bottomComponentIds: ComponentIdPair[]): void {\n\t\tthis.bottomComponentIds = bottomComponentIds;\n\t}\n\n\tpublic getTopComponentIds(): ComponentIdPair[] {\n\t\treturn this.topComponentIds;\n\t}\n\n\tpublic getBottomComponentIds(): ComponentIdPair[] {\n\t\treturn this.bottomComponentIds;\n\t}\n\n\tpublic setModule(module: Module): void {\n\t\tthis.module = module;\n\t}\n\n\tpublic getModule(): Module {\n\t\treturn this.module;\n\t}\n\n\tpublic setParentModelFn(parentModelFn: () => any): void {\n\t\tthis.parentModelFn = parentModelFn;\n\t}\n\n\tpublic getParentModelFn(): () => any {\n\t\treturn this.parentModelFn;\n\t}\n\n}\n\nclass ComponentConfigBuilder {\n\n\tprivate instance: ComponentConfigImpl;\n\n\tconstructor() {\n\t\tthis.instance = new ComponentConfigImpl();\n\t}\n\n\tpublic withMetadata(name: string, value: any): ComponentConfigBuilder {\n\t\trequireNotNull(name, \"name\");\n\t\trequireNotNull(value, \"value\");\n\t\tthis.instance.withMetadata(name, value);\n\n\t\treturn this;\n\t}\n\n\tpublic withAttribute(name: string): ComponentConfigBuilder {\n\t\trequireNotNull(name, \"name\");\n\t\tthis.instance.withAttribute(name);\n\n\t\treturn this;\n\t}\n\n\tpublic withPrefix(prefix: string): ComponentConfigBuilder {\n\t\trequireNotNull(prefix, \"prefix\");\n\t\tthis.instance.withPrefix(prefix);\n\n\t\treturn this;\n\t}\n\n\tpublic build(): ComponentConfig {\n\t\treturn this.instance;\n\t}\n\n}\n\nexport { ComponentConfig, ComponentConfigImpl, ComponentConfigBuilder, ComponentIdPair };\n","import NullValueError from \"@/error/NullValueError\";\nimport ScopeError from \"@/error/ScopeError\";\nimport Scope from \"@/model/Scope\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport { VALID_KEY } from \"@/constant/ValidationRegExp\";\n\nconst EXCLUSIONS: SimpleMap<string> = {\n\te: \"e\",\n\texternal: \"external\",\n\ti: \"i\",\n\titem: \"item\",\n\tv: \"v\",\n\tvalue: \"value\",\n\tm: \"m\",\n\tmodel: \"model\",\n\tp: \"p\",\n\tparent: \"param\",\n\tcompare: \"compare\"\n};\n\nclass ScopeImpl implements Scope {\n\n\tprivate code: string;\n\n\tprivate children: ScopeImpl[];\n\n\tprivate localItems: SimpleMap<any>;\n\n\tprivate items: SimpleMap<any>;\n\n\tprivate parent: ScopeImpl;\n\n\tprivate restricted: boolean;\n\n\tconstructor(restricted?: boolean) {\n\t\tthis.children = [];\n\t\tthis.localItems = {};\n\t\tthis.items = {};\n\t\tthis.code = \"\";\n\t\tthis.parent = null;\n\t\tthis.restricted = (restricted === null || restricted === undefined) || restricted;\n\t}\n\n\tpublic setParent(parent: ScopeImpl): void {\n\t\tif (!parent) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.parent) {\n\t\t\tthis.parent.removeChild(this);\n\t\t}\n\n\t\tthis.parent = parent;\n\t\tthis.parent.addChild(this);\n\t\tthis.refresh();\n\t}\n\n\tpublic addChild(child: ScopeImpl): void {\n\t\tif (child) {\n\t\t\tthis.children.push(child);\n\t\t}\n\t}\n\n\tpublic removeChild(child: ScopeImpl): void {\n\t\tconst index: number = this.children.indexOf(child);\n\n\t\tif (index >= 0) {\n\t\t\tthis.children.splice(index, 1);\n\t\t}\n\t}\n\n\tpublic getItems(): SimpleMap<any> {\n\t\treturn this.items;\n\t}\n\n\tpublic getCode(): string {\n\t\treturn this.code;\n\t}\n\n\tpublic add(name: string, item: any): void {\n\t\tthis.checkName(name);\n\t\tthis.localItems[name] = item;\n\t\tthis.refresh();\n\t\tthis.refreshChildren();\n\t}\n\n\tpublic remove(name: string): void {\n\t\tthis.checkName(name);\n\t\tdelete this.localItems[name];\n\t\tthis.refresh();\n\t\tthis.refreshChildren();\n\t}\n\n\tprivate checkName(name: string): void {\n\t\tif (name === null || name === undefined) {\n\t\t\tthrow new NullValueError(\"name must not be null or undefined.\");\n\t\t}\n\n\t\tif (!VALID_KEY.test(name)) {\n\t\t\tthrow new ScopeError(\"Only objects with names containing letters and numbers and starting with a letter are allowed.\");\n\t\t}\n\n\t\tif (this.restricted && EXCLUSIONS[name]) {\n\t\t\tthrow new ScopeError(name + \" is a reserved name in the scope.\");\n\t\t}\n\t}\n\n\tprivate refresh(): void {\n\t\tthis.items = {};\n\n\t\tif (this.parent) {\n\t\t\tconst parentItems: SimpleMap<any> = this.parent.getItems();\n\n\t\t\tfor (const key in parentItems) {\n\t\t\t\tif (!parentItems.hasOwnProperty(key)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tthis.items[key] = parentItems[key];\n\t\t\t}\n\t\t}\n\n\t\tfor (const key in this.localItems) {\n\t\t\tif (!this.localItems.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.items[key] = this.localItems[key];\n\t\t}\n\n\t\tthis.refreshCode();\n\t}\n\n\tprivate refreshCode(): void {\n\t\tthis.code = \"\";\n\n\t\tfor (const key in this.items) {\n\t\t\tif (!this.items.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst statement: string = \"var \" + key + \" = arguments[0]['\" + key + \"'];\\n\";\n\t\t\tthis.code += statement;\n\t\t}\n\t}\n\n\tprivate refreshChildren(): void {\n\t\tfor (const child of this.children) {\n\t\t\tchild.refresh();\n\t\t}\n\t}\n\n}\n\nexport default ScopeImpl;\n","import ComponentInternals from \"@/component/ComponentInternals\";\nimport { ComponentConfig } from \"@/component/ComponentConfig\";\nimport MetadataContinuation from \"@/component/MetadataContinuation\";\nimport Scope from \"@/model/Scope\";\nimport { OnContinuation } from \"@/message/Continuation\";\nimport { INTERNAL_CHANNEL_NAME } from \"@/constant/Constants\";\nimport Logger from \"@/logger/Logger\";\nimport Nestable from \"@/component/Nestable\";\nimport ComponentInternalsImpl from \"@/component/ComponentInternalsImpl\";\nimport NamedElementOperations from \"@/component/NamedElementOperations\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\n\n/**\n * Core class for Cydran\n */\nclass Component implements Nestable {\n\n\t// tslint:disable-next-line\n\tprivate ____internal$$cydran____: ComponentInternals;\n\n\t// tslint:disable-next-line\n\tprivate ____internal$$cydran$$module____: any;\n\n\t/**\n\t * Constructor\n\t * @param template - string value representation of a template\n\t * @param config - optional {@link ComponentConfig} argument\n\t */\n\tconstructor(template: string, config?: ComponentConfig) {\n\t\tthis.____internal$$cydran$$init____(template, config);\n\t}\n\n\t/**\n\t * Get the {@link MetadataContinuation} of the {@link Component}\n\t */\n\tpublic metadata(): MetadataContinuation {\n\t\tconst internal: ComponentInternals = this.____internal$$cydran____;\n\n\t\treturn {\n\t\t\tget: (name: string) => internal.getMetadata(name),\n\t\t\thas: (name: string) => internal.hasMetadata(name)\n\t\t};\n\t}\n\n\t/**\n\t * Component has a {@link Region}\n\t * @returns boolean - true | false\n\t */\n\tpublic hasRegion(name: string): boolean {\n\t\treturn this.____internal$$cydran____.hasRegion(name);\n\t}\n\n\t/**\n\t * Get a child component from a region.\n\t * @param name - string name value of the child {@link Component}\n\t * @returns Component instance, or null\n\t */\n\tpublic getChild<N extends Nestable>(name: string): N {\n\t\treturn this.____internal$$cydran____.getChild(name);\n\t}\n\n\t/**\n\t * Set a child component into a region.\n\t * @param name - string name value of the child {@link Component}\n\t * @param component - the {@link Component} reference\n\t */\n\tpublic setChild(name: string, component: Nestable): void {\n\t\tthis.____internal$$cydran____.setChild(name, component);\n\t}\n\n\tpublic setChildFromRegistry(name: string, componentName: string, defaultComponentName?: string): void {\n\t\tthis.____internal$$cydran____.setChildFromRegistry(name, componentName, defaultComponentName);\n\t}\n\n\tpublic message(channelName: string, messageName: string, payload?: any): void {\n\t\tthis.____internal$$cydran____.message(channelName, messageName, payload);\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.____internal$$cydran____.dispose();\n\t}\n\n\tpublic getParent(): Nestable {\n\t\treturn this.____internal$$cydran____.getParent();\n\t}\n\n\tpublic getEl(): HTMLElement {\n\t\treturn this.____internal$$cydran____.getEl();\n\t}\n\n\tpublic get<T>(id: string): T {\n\t\treturn this.____internal$$cydran____.get(id);\n\t}\n\n\tpublic scope(): Scope {\n\t\treturn this.____internal$$cydran____.getScope();\n\t}\n\n\tpublic getPrefix(): string {\n\t\treturn this.____internal$$cydran____.getPrefix();\n\t}\n\n\tpublic isConnected(): boolean {\n\t\treturn this.____internal$$cydran____.isConnected();\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.____internal$$cydran____.getId();\n\t}\n\n\tpublic forElement<E extends HTMLElement>(name: string): NamedElementOperations<E> {\n\t\treturn this.____internal$$cydran____.forElement(name);\n\t}\n\n\tpublic watch<T>(expression: string, target: (previous: T, current: T) => void, reducerFn?: (input: any) => T, context?: any): void {\n\t\tthis.____internal$$cydran____.watch(expression, target, reducerFn, context);\n\t}\n\n\tpublic evaluate<T>(expression: string): T {\n\t\treturn this.____internal$$cydran____.evaluate(expression);\n\t}\n\n\tpublic getWatchContext(): any {\n\t\treturn this.____internal$$cydran____.getWatchContext();\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tprotected getItem<T>(): T {\n\t\treturn this.____internal$$cydran____.getData() as T;\n\t}\n\n\tprotected getValue<T>(): T {\n\t\treturn this.____internal$$cydran____.getData() as T;\n\t}\n\n\tprotected getExternals<T>(): T {\n\t\treturn this.____internal$$cydran____.getExternalCache() as T;\n\t}\n\n\tprotected broadcast(channelName: string, messageName: string, payload?: any): void {\n\t\tthis.____internal$$cydran____.broadcast(channelName, messageName, payload);\n\t}\n\n\tprotected broadcastGlobally(channelName: string, messageName: string, payload?: any): void {\n\t\tthis.____internal$$cydran____.broadcastGlobally(channelName, messageName, payload);\n\t}\n\n\tprotected $apply(fn?: Function, args?: any[]): void {\n\t\tthis.____internal$$cydran____.$apply(fn, args);\n\t}\n\n\tprotected on(messageName: string): OnContinuation {\n\t\trequireNotNull(messageName, \"messageName\");\n\n\t\treturn {\n\t\t\tforChannel: (channelName: string) => {\n\t\t\t\trequireNotNull(channelName, \"channelName\");\n\n\t\t\t\treturn {\n\t\t\t\t\tinvoke: (target: (payload: any) => void) => {\n\t\t\t\t\t\trequireNotNull(target, \"target\");\n\t\t\t\t\t\tthis.____internal$$cydran____.on(target, messageName, channelName);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\t\t\tinvoke: (target: (payload: any) => void) => {\n\t\t\t\trequireNotNull(target, \"target\");\n\t\t\t\tthis.____internal$$cydran____.on(target, messageName, INTERNAL_CHANNEL_NAME);\n\t\t\t}\n\t\t};\n\t}\n\n\tprotected getLogger(): Logger {\n\t\treturn this.____internal$$cydran____.getLogger();\n\t}\n\n\tprotected ____internal$$cydran$$init____(template: string, config: ComponentConfig): void {\n\t\tthis.____internal$$cydran____ = new ComponentInternalsImpl(this, template, config);\n\t\tthis.____internal$$cydran____.init();\n\t}\n\n}\n\nexport default Component;\n","enum Level {\n\tTRACE,\n\tDEBUG,\n\tINFO,\n\tWARN,\n\tERROR,\n\tFATAL,\n\tDISABLED\n}\n\nexport default Level;\n","import { OnContinuation } from \"@/message/Continuation\";\nimport Listener from \"@/message/Listener\";\nimport ListenerImpl from \"@/message/ListenerImpl\";\nimport Module from \"@/module/Module\";\nimport { INTERNAL_CHANNEL_NAME, INTERNAL_DIRECT_CHANNEL_NAME } from \"@/constant/Constants\";\nimport Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport PubSub from \"@/message/PubSub\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\n\nclass PubSubImpl implements PubSub {\n\n\tprivate logger: Logger;\n\n\tprivate listeners: Listener[];\n\n\tprivate listenersByChannel: {};\n\n\tprivate module: Module;\n\n\tprivate context: any;\n\n\tprivate globalEnabled: boolean;\n\n\tconstructor(context: any, module: Module) {\n\t\tthis.context = context;\n\t\tthis.module = module;\n\t\tthis.logger = LoggerFactory.getLogger(\"PubSub\");\n\t\tthis.globalEnabled = false;\n\t\tthis.listeners = [];\n\t\tthis.listenersByChannel = {};\n\t}\n\n\tpublic setContext(context: any): void {\n\t\tthis.context = context;\n\t}\n\n\tpublic setModule(module: Module): void {\n\t\tthis.module = module;\n\t}\n\n\tpublic message(channelName: string, messageName: string, payload?: any): void {\n\t\trequireNotNull(channelName, \"channelName\");\n\t\trequireNotNull(messageName, \"messageName\");\n\n\t\tconst actualPayload: any = (payload === null || payload === undefined) ? {} : payload;\n\n\t\tthis.listeners.forEach((listener) => {\n\t\t\tif (channelName === listener.getChannelName()) {\n\t\t\t\tlistener.receive(messageName, actualPayload);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic broadcast(channelName: string, messageName: string, payload?: any): void {\n\t\trequireNotNull(channelName, \"channelName\");\n\t\trequireNotNull(messageName, \"messageName\");\n\n\t\tconst actualPayload: any = (payload === null || payload === undefined) ? {} : payload;\n\t\tthis.module.broadcast(channelName, messageName, actualPayload);\n\t}\n\n\tpublic broadcastGlobally(channelName: string, messageName: string, payload?: any): void {\n\t\tthis.module.broadcastGlobally(channelName, messageName, payload);\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.disableGlobal();\n\t\tthis.listeners = [];\n\t\tthis.listenersByChannel = {};\n\t}\n\n\tpublic on(messageName: string): OnContinuation {\n\t\trequireNotNull(messageName, \"messageName\");\n\n\t\tconst mine: PubSubImpl = this;\n\n\t\treturn {\n\t\t\tforChannel: (channelName: string) => {\n\t\t\t\trequireNotNull(channelName, \"channelName\");\n\n\t\t\t\treturn {\n\t\t\t\t\tinvoke: (target: (payload: any) => void) => {\n\t\t\t\t\t\trequireNotNull(target, \"target\");\n\t\t\t\t\t\tmine.listenTo(channelName, messageName, target);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\t\t\tinvoke: (target: (payload: any) => void) => {\n\t\t\t\trequireNotNull(target, \"target\");\n\t\t\t\tmine.listenTo(INTERNAL_CHANNEL_NAME, messageName, target);\n\t\t\t}\n\t\t};\n\t}\n\n\tpublic enableGlobal(): void {\n\t\tif (this.globalEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.logger.trace(\"Enabling global\");\n\n\t\tfor (const listener of this.listeners) {\n\t\t\tthis.module.message(INTERNAL_DIRECT_CHANNEL_NAME, \"addListener\", listener);\n\t\t}\n\n\t\tthis.globalEnabled = true;\n\t}\n\n\tpublic disableGlobal(): void {\n\t\tif (!this.globalEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.logger.trace(\"Disabling global\");\n\n\t\tfor (const listener of this.listeners) {\n\t\t\tthis.module.message(INTERNAL_DIRECT_CHANNEL_NAME, \"removeListener\", listener);\n\t\t}\n\n\t\tthis.globalEnabled = false;\n\t}\n\n\tpublic listenTo(channel: string, messageName: string, target: (payload: any) => void): void {\n\t\tlet listener: Listener = this.listenersByChannel[channel];\n\n\t\tif (!listener) {\n\t\t\tlistener = new ListenerImpl(channel, this.context);\n\n\t\t\tif (this.globalEnabled) {\n\t\t\t\tthis.module.message(INTERNAL_DIRECT_CHANNEL_NAME, \"addListener\", listener);\n\t\t\t}\n\n\t\t\tthis.listeners.push(listener);\n\t\t}\n\n\t\tlistener.register(messageName, target);\n\t}\n\n\tpublic isGlobalEnabled(): boolean {\n\t\treturn this.globalEnabled;\n\t}\n\n}\n\nexport default PubSubImpl;\n","import { requireNotNull, isDefined, equals, clone } from \"@/util/ObjectUtils\";\nimport { Phase } from \"@/filter/Interfaces\";\nimport { NO_OP_FN } from \"@/constant/Constants\";\n\nabstract class AbstractPhaseImpl implements Phase {\n\n\tprivate previous: Phase;\n\n\tprivate memo: any[];\n\n\tprivate callback: () => void;\n\n\tconstructor(previous: Phase) {\n\t\tthis.previous = requireNotNull(previous, \"previous\");\n\t\tthis.memo = null;\n\t\tthis.callback = NO_OP_FN;\n\t}\n\n\tpublic process(items: any[]): any[] {\n\t\tconst processed: any[] = this.previous.process(items);\n\n\t\tif (!isDefined(processed) || equals(processed, this.memo)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tthis.memo = clone(processed);\n\n\t\treturn this.execute(processed);\n\t}\n\n\tpublic onChange(): void {\n\t\tthis.memo = null;\n\t\tthis.callback();\n\t}\n\n\tpublic invalidate(): void {\n\t\tthis.onChange();\n\t\tthis.previous.invalidate();\n\t}\n\n\tpublic setCallback(callback: () => void): void {\n\t\tthis.callback = callback;\n\t\tthis.previous.setCallback(callback);\n\t}\n\n\tprotected abstract execute(items: any[]): any[];\n\n}\n\nexport default AbstractPhaseImpl;\n","const Events: any = {\n\tAFTER_CHILD_ADDED: \"AFTER_CHILD_ADDED\",\n\tAFTER_CHILD_CHANGED: \"AFTER_CHILD_CHANGED\",\n\tAFTER_CHILD_REMOVED: \"AFTER_CHILD_REMOVED\",\n\tAFTER_PARENT_ADDED: \"AFTER_PARENT_ADDED\",\n\tAFTER_PARENT_CHANGED: \"AFTER_PARENT_CHANGED\",\n\tAFTER_PARENT_REMOVED: \"AFTER_PARENT_REMOVED\",\n\tBEFORE_CHILD_ADDED: \"BEFORE_CHILD_ADDED\",\n\tBEFORE_CHILD_CHANGED: \"BEFORE_CHILD_CHANGED\",\n\tBEFORE_CHILD_REMOVED: \"BEFORE_CHILD_REMOVED\",\n\tBEFORE_DISPOSE: \"BEFORE_DISPOSE\",\n\tBEFORE_PARENT_ADDED: \"BEFORE_PARENT_ADDED\",\n\tBEFORE_PARENT_CHANGED: \"BEFORE_PARENT_CHANGED\",\n\tBEFORE_PARENT_REMOVED: \"BEFORE_PARENT_REMOVED\",\n\tCOMPONENT_NESTING_CHANGED: \"COMPONENT_NESTING_CHANGED\"\n};\n\nexport default Events;\n","import TemplateError from \"@/error/TemplateError\";\nimport Region from \"@/component/Region\";\nimport Logger from \"@/logger/Logger\";\nimport Scope from \"@/model/Scope\";\nimport UnknownRegionError from \"@/error/UnknownRegionError\";\nimport { VALID_ID } from \"@/constant/ValidationRegExp\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport PubSub from \"@/message/PubSub\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport SetComponentError from \"@/error/SetComponentError\";\nimport { INTERNAL_DIRECT_CHANNEL_NAME, INTERNAL_CHANNEL_NAME, MODULE_FIELD_NAME, NO_OP_FN, EMPTY_OBJECT_FN } from \"@/constant/Constants\";\nimport { ComponentConfigBuilder, ComponentConfig, ComponentConfigImpl } from \"@/component/ComponentConfig\";\nimport Events from \"@/constant/Events\";\nimport ComponentFlags from \"@/component/ComponentFlags\";\nimport Mvvm from \"@/mvvm/Mvvm\";\nimport ExternalMediator from \"@/model/ExternalMediator\";\nimport MvvmImpl from \"@/mvvm/MvvmImpl\";\nimport ExternalAttributeDetail from \"@/model/ExternalAttributeDetail\";\nimport Module from \"@/module/Module\";\nimport Nestable from \"@/component/Nestable\";\nimport MediatorSource from \"@/mvvm/MediatorSource\";\nimport ComponentInternals from \"@/component/ComponentInternals\";\nimport DirectEvents from \"@/constant/DirectEvents\";\nimport IdGenerator from \"@/pattern/IdGenerator\";\nimport NamedElementOperationsImpl from \"@/component/NamedElementOperationsImpl\";\nimport NamedElementOperations from \"@/component/NamedElementOperations\";\nimport UnknownElementError from \"@/error/UnknownElementError\";\nimport Getter from \"@/model/Getter\";\nimport ModuleAffinityError from \"@/error/ModuleAffinityError\";\nimport PubSubImpl from \"@/message/PubSubImpl\";\nimport ModulesContextImpl from \"@/module/ModulesContextImpl\";\nimport { requireNotNull, isDefined, requireValid } from \"@/util/ObjectUtils\";\nimport { createElementOffDom } from \"@/util/DomUtils\";\n\nconst DEFAULT_COMPONENT_CONFIG: ComponentConfig = new ComponentConfigBuilder().build();\n\nclass ComponentInternalsImpl implements ComponentInternals {\n\n\tprivate id: string;\n\n\tprivate flags: ComponentFlags;\n\n\tprivate component: Nestable;\n\n\tprivate logger: Logger;\n\n\tprivate el: HTMLElement;\n\n\tprivate regions: { [id: string]: Region; };\n\n\tprivate regionsAsArray: Region[];\n\n\tprivate parent: Nestable;\n\n\tprivate itemFn: () => any;\n\n\tprivate template: string;\n\n\tprivate mvvm: Mvvm;\n\n\tprivate pubSub: PubSub;\n\n\tprivate scope: ScopeImpl;\n\n\tprivate parentScope: ScopeImpl;\n\n\tprivate externalCache: any;\n\n\tprivate externalMediators: SimpleMap<ExternalMediator<any>>;\n\n\tprivate externalFields: SimpleMap<string>;\n\n\tprivate readonly prefix: string;\n\n\tprivate hasExternals: boolean;\n\n\tprivate config: ComponentConfigImpl;\n\n\tprivate parentModelFn: () => any;\n\n\tprivate parentSeen: boolean;\n\n\tconstructor(component: Nestable, template: string, config: ComponentConfig) {\n\t\trequireNotNull(template, \"template\");\n\n\t\tif (typeof template !== \"string\") {\n\t\t\tthrow new TemplateError(\"Template must be a string\");\n\t\t}\n\n\t\tthis.parentSeen = false;\n\t\tthis.id = IdGenerator.INSTANCE.generate();\n\t\tthis.config = (config || DEFAULT_COMPONENT_CONFIG) as ComponentConfigImpl;\n\t\tthis.hasExternals = false;\n\t\tthis.parentModelFn = this.config.getParentModelFn();\n\t\tthis.itemFn = EMPTY_OBJECT_FN;\n\t\tthis.parent = null;\n\t\tthis.component = component;\n\t\tthis.prefix = this.config.getPrefix().toLowerCase();\n\t\tthis.template = template.trim();\n\t\tthis.scope = new ScopeImpl();\n\t\tthis.externalMediators = {};\n\t\tthis.externalCache = {};\n\t\tthis.externalFields = {};\n\t\tconst effectiveExternalAttributes: string[] = this.config.getAttributes();\n\n\t\tif (isDefined(this.config.getModule())) {\n\t\t\tthis.component[MODULE_FIELD_NAME] = this.config.getModule();\n\t\t}\n\n\t\tthis.validateModulePresent();\n\n\t\tfor (const attribute of effectiveExternalAttributes) {\n\t\t\tthis.externalize(attribute);\n\t\t}\n\n\t\tthis.flags = {\n\t\t\trepeatable: false\n\t\t};\n\n\t\tif (this.getModule()) {\n\t\t\tthis.scope.setParent(this.getModule().getScope() as ScopeImpl);\n\t\t}\n\n\t\tthis.regions = {};\n\t\tthis.regionsAsArray = [];\n\t\tthis.pubSub = new PubSubImpl(this.component, this.getModule());\n\t}\n\n\tpublic init(): void {\n\t\tthis.mvvm = new MvvmImpl(this.id, this.component, this.getModule(), this.prefix, this.scope, this.parentModelFn);\n\t\tthis.render();\n\t\tthis.mvvm.init(this.el, this, (name: string) => this.getRegion(name));\n\t\tthis.logger = LoggerFactory.getLogger(this.component.constructor.name + \" Component \" + this.mvvm.getId());\n\t}\n\n\tpublic hasMetadata(name: string): boolean {\n\t\treturn this.getMetadata(name) ? true : false;\n\t}\n\n\tpublic getMetadata(name: string): any {\n\t\trequireNotNull(name, \"name\");\n\t\treturn this.config.getMetadata(name);\n\t}\n\n\tpublic hasRegion(name: string): boolean {\n\t\trequireNotNull(name, \"name\");\n\t\treturn ((this.regions[name]) ? true : false);\n\t}\n\n\tpublic $apply(fn: Function, args: any[]): void {\n\t\tconst actualFn: Function = fn || NO_OP_FN;\n\t\tconst actualArgs = args || [];\n\n\t\tif (this.parentSeen) {\n\t\t\tthis.mvvm.$apply(actualFn, actualArgs);\n\t\t} else {\n\t\t\tactualFn.apply(this.component, actualArgs);\n\t\t}\n\t}\n\n\tpublic evaluate<T>(expression: string): T {\n\t\treturn new Getter<T>(expression).get(this.mvvm.getScope()) as T;\n\t}\n\n\tpublic getChild<N extends Nestable>(name: string): N {\n\t\trequireNotNull(name, \"name\");\n\n\t\treturn this.hasRegion(name) ? this.getRegion(name).getComponent() : null;\n\t}\n\n\tpublic setChild(name: string, component: Nestable): void {\n\t\trequireNotNull(name, \"name\");\n\n\t\tif (!this.hasRegion(name)) {\n\t\t\tthrow new UnknownRegionError(\"Region \\'%rName%\\' is unknown and must be declared in component template.\",\n\t\t\t\t{ \"%rName%\": name });\n\t\t}\n\n\t\tconst hasComponent: boolean = this.getRegion(name).hasComponent();\n\t\tconst childAdded: boolean = !!(component !== null && !hasComponent);\n\t\tconst childRemoved: boolean = !!(component === null && hasComponent);\n\t\tthis.messageInternalIf(childAdded, Events.BEFORE_CHILD_ADDED, { name: name });\n\t\tthis.messageInternalIf(childRemoved, Events.BEFORE_CHILD_REMOVED, { name: name });\n\t\tthis.message(INTERNAL_CHANNEL_NAME, Events.BEFORE_CHILD_CHANGED, { name: name });\n\t\tthis.getRegion(name).setComponent(component);\n\t\tthis.message(INTERNAL_CHANNEL_NAME, Events.AFTER_CHILD_CHANGED, { name: name });\n\t\tthis.messageInternalIf(childAdded, Events.AFTER_CHILD_ADDED, { name: name });\n\t\tthis.messageInternalIf(childRemoved, Events.AFTER_CHILD_REMOVED, { name: name });\n\t\tthis.broadcastGlobally(INTERNAL_CHANNEL_NAME, Events.COMPONENT_NESTING_CHANGED);\n\t}\n\n\tpublic setChildFromRegistry(name: string, componentId: string, defaultComponentName?: string): void {\n\t\trequireNotNull(name, \"name\");\n\t\trequireValid(componentId, \"componentId\", VALID_ID);\n\n\t\tif (!this.hasRegion(name)) {\n\t\t\tthrow new UnknownRegionError(\"Region \\'%rName%\\' is unknown and must be declared in component template.\", { \"%rName%\": name });\n\t\t}\n\n\t\tlet component: Nestable = this.get(componentId);\n\n\t\tif (!component && defaultComponentName) {\n\t\t\tcomponent = this.get(defaultComponentName);\n\t\t}\n\n\t\tif (component) {\n\t\t\tthis.setChild(name, component);\n\t\t} else {\n\t\t\tconst error = new SetComponentError(\"Unable to set component %cName% on region %name%\",\n\t\t\t\t{ \"%cName%\": componentId, \"%name%\": name });\n\t\t\tthis.getLogger().error(error);\n\t\t}\n\t}\n\n\tpublic message(channelName: string, messageName: string, payload: any): void {\n\t\tif (channelName !== INTERNAL_DIRECT_CHANNEL_NAME) {\n\t\t\tthis.pubSub.message(channelName, messageName, payload);\n\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (messageName) {\n\t\t\tcase \"setMode\":\n\t\t\t\tswitch (payload) {\n\t\t\t\t\tcase \"repeatable\":\n\t\t\t\t\t\tthis.flags.repeatable = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.flags.repeatable = false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"consumeRegionDigestionCandidates\":\n\t\t\t\tfor (const region of this.regionsAsArray) {\n\t\t\t\t\tif (region.hasExpression() && region.hasComponent()) {\n\t\t\t\t\t\tregion.getComponent().message(INTERNAL_DIRECT_CHANNEL_NAME, \"consumeDigestionCandidates\", payload);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"consumeDigestionCandidates\":\n\t\t\t\t(payload as MediatorSource[]).push(this.mvvm);\n\t\t\t\tbreak;\n\n\t\t\tcase DirectEvents.NESTING_CHANGED:\n\t\t\t\tthis.nestingChanged();\n\t\t\t\tbreak;\n\n\t\t\tcase \"digest\":\n\t\t\t\tthis.digest();\n\t\t\t\tbreak;\n\n\t\t\tcase \"setParent\":\n\t\t\t\tthis.setParent(payload as Nestable);\n\t\t\t\tbreak;\n\n\t\t\tcase \"skipId\":\n\t\t\t\tthis.mvvm.skipId(payload as string);\n\t\t\t\tbreak;\n\n\t\t\tcase \"setParentScope\":\n\t\t\t\tthis.setParentScope(payload as ScopeImpl);\n\t\t\t\tbreak;\n\n\t\t\tcase \"setItemFn\":\n\t\t\t\tthis.setItemFn(payload);\n\t\t\t\tbreak;\n\n\t\t\tcase \"addExternalAttribute\":\n\t\t\t\tthis.addExternalAttribute(payload as ExternalAttributeDetail);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t// Intentionally do nothing\n\t\t}\n\t}\n\n\tpublic broadcast(channelName: string, messageName: string, payload?: any): void {\n\t\tthis.getModule().broadcast(channelName, messageName, payload);\n\t}\n\n\tpublic broadcastGlobally(channelName: string, messageName: string, payload?: any): void {\n\t\tthis.getModule().broadcastGlobally(channelName, messageName, payload);\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.message(INTERNAL_CHANNEL_NAME, Events.BEFORE_DISPOSE, {});\n\t\tthis.pubSub.dispose();\n\t\tthis.parent = null;\n\t\tthis.parentScope = null;\n\t\tthis.scope = null;\n\t\tthis.regions = null;\n\t\tthis.regionsAsArray = [];\n\t}\n\n\tpublic getEl(): HTMLElement {\n\t\treturn this.el;\n\t}\n\n\tpublic getComponent(): Nestable {\n\t\treturn this.component;\n\t}\n\n\tpublic get<T>(id: string): T {\n\t\treturn this.getModule().get(id);\n\t}\n\n\tpublic getPrefix(): string {\n\t\treturn this.prefix;\n\t}\n\n\tpublic isConnected(): boolean {\n\t\treturn this.parent !== null && this.parent !== undefined && this.parent.isConnected();\n\t}\n\n\tpublic getScope(): Scope {\n\t\treturn this.scope;\n\t}\n\n\tpublic watch<T>(expression: string, target: (previous: T, current: T) => void, reducerFn?: (input: any) => T, context?: any): void {\n\t\trequireNotNull(expression, \"expression\");\n\t\trequireNotNull(target, \"target\");\n\t\tconst actualContext: any = isDefined(context) ? context : this.component;\n\t\tthis.mvvm.mediate(expression, reducerFn).watch(actualContext, target);\n\t}\n\n\tpublic on(target: (payload: any) => void, messageName: string, channel?: string): void {\n\t\tthis.pubSub.on(messageName).forChannel(channel || INTERNAL_CHANNEL_NAME).invoke((payload: any) => this.$apply(target, [payload]));\n\t}\n\n\tpublic forElement<E extends HTMLElement>(name: string): NamedElementOperations<E> {\n\t\trequireNotNull(name, \"name\");\n\t\tconst element: E = this.mvvm.getNamedElement(name) as E;\n\n\t\tif (!isDefined(element)) {\n\t\t\tthrow new UnknownElementError(\"Unknown element: \" + name);\n\t\t}\n\n\t\treturn new NamedElementOperationsImpl<E>(element);\n\t}\n\n\tpublic getLogger(): Logger {\n\t\treturn this.logger;\n\t}\n\n\tpublic getModule(): Module {\n\t\treturn this.component[MODULE_FIELD_NAME] as Module;\n\t}\n\n\tpublic getParent(): Nestable {\n\t\treturn this.parent;\n\t}\n\n\tpublic setItemFn(itemFn: () => any): void {\n\t\tthis.itemFn = isDefined(itemFn) ? itemFn : EMPTY_OBJECT_FN;\n\t}\n\n\tpublic getData(): any {\n\t\treturn this.itemFn();\n\t}\n\n\tpublic importExternals(): void {\n\t\tthis.externalCache = {};\n\n\t\tfor (const key in this.externalMediators) {\n\t\t\tif (!this.externalMediators.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst mediator: ExternalMediator<any> = this.externalMediators[key];\n\t\t\tthis.externalCache[key] = mediator.get(this.parentScope);\n\t\t}\n\t}\n\n\tpublic exportExternals(): void {\n\t\tfor (const key in this.externalMediators) {\n\t\t\tif (!this.externalMediators.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst mediator: ExternalMediator<any> = this.externalMediators[key];\n\t\t\tmediator.set(this.parentScope, this.externalCache[key]);\n\t\t}\n\n\t\tthis.externalCache = {};\n\t}\n\n\tpublic hasExternalMediators(): boolean {\n\t\treturn this.hasExternals;\n\t}\n\n\tpublic getExternalCache(): any {\n\t\treturn this.externalCache;\n\t}\n\n\tpublic getFlags(): ComponentFlags {\n\t\treturn this.flags;\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.id;\n\t}\n\n\tpublic \tgetWatchContext(): any {\n\t\treturn this.mvvm.getScope();\n\t}\n\n\tprotected getConfig(): ComponentConfig {\n\t\treturn this.config;\n\t}\n\n\tprotected getRegion(name: string): Region {\n\t\tif (!this.regions[name]) {\n\t\t\tconst created: Region = new Region(name, this);\n\t\t\tthis.regions[name] = created;\n\t\t\tthis.regionsAsArray.push(created);\n\t\t}\n\n\t\treturn this.regions[name];\n\t}\n\n\tprotected getTemplate(): string {\n\t\treturn this.template;\n\t}\n\n\tprotected render(): void {\n\t\tconst templateEl: HTMLTemplateElement = createElementOffDom(\"template\");\n\t\ttemplateEl.insertAdjacentHTML(\"afterbegin\", this.template.trim());\n\t\tconst count: number = templateEl.childElementCount;\n\n\t\tif (count !== 1) {\n\t\t\tconst parmObj = { \"%count%\": \"\" + count, \"%template%\": this.template };\n\t\t\tconst errmsg = \"Component template must have a single top level element, but had %count% top level elements:\\n\\n%template%\\n\\n\";\n\t\t\tconst error = new TemplateError(errmsg, parmObj);\n\t\t\tthrow error;\n\t\t}\n\n\t\tthis.el = templateEl.firstElementChild as HTMLElement;\n\t}\n\n\tprotected setEl(el: HTMLElement): void {\n\t\tthis.el = el;\n\t}\n\n\tprotected validateModulePresent(): void {\n\t\tconst moduleInstance: Module = this.component[MODULE_FIELD_NAME] as Module;\n\n\t\tif (!isDefined(moduleInstance)) {\n\t\t\tif (ModulesContextImpl.getInstances().length === 0) {\n\t\t\t\tthrow new ModuleAffinityError(\"Component \"+ this.component.constructor.name + \" does not have affinity with a module and no stages are active.  Unable to determine component affinity\");\n\t\t\t} else if (ModulesContextImpl.getInstances().length === 1) {\n\t\t\t\tthis.component[MODULE_FIELD_NAME] = ModulesContextImpl.getInstances()[0].getDefaultModule();\n\t\t\t} else {\n\t\t\t\tthrow new ModuleAffinityError(\"Component \"+ this.component.constructor.name + \" does not have affinity with a module and multiple stages are active.  Unable to determine component affinity\");\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate messageInternalIf(condition: boolean, messageName: string, payload?: any): void {\n\t\tif (condition) {\n\t\t\tthis.message(INTERNAL_CHANNEL_NAME, messageName, payload);\n\t\t}\n\t}\n\n\tprivate messageChildren(channelName: string, messageName: string, payload?: any): void {\n\t\tfor (const id in this.regions) {\n\t\t\tif (!this.regions.hasOwnProperty(id)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.regions[id].message(channelName, messageName, payload);\n\t\t}\n\t}\n\n\tprivate externalize(name: string): void {\n\t\tthis.externalFields[name.toLowerCase()] = name.toLowerCase();\n\t}\n\n\tprivate addExternalAttribute(detail: ExternalAttributeDetail): void {\n\t\tconst fieldName: string = this.externalFields[detail.attributeName];\n\t\tthis.hasExternals = true;\n\n\t\tif (fieldName) {\n\t\t\tthis.externalMediators[fieldName] = new ExternalMediator(detail.expression);\n\t\t}\n\t}\n\n\tprivate setParentScope(scope: ScopeImpl): void {\n\t\tthis.parentScope = scope;\n\t}\n\n\tprivate setParent(parent: Nestable): void {\n\t\tthis.parentSeen = true;\n\t\tconst changed: boolean = this.bothPresentButDifferent(parent, this.parent) || this.exactlyOneDefined(parent, this.parent);\n\t\tconst parentAdded: boolean = !!(parent !== null && this.parent === null);\n\t\tconst parentRemoved: boolean = !!(parent === null && this.parent !== null);\n\t\tthis.messageInternalIf(parentAdded, Events.BEFORE_PARENT_ADDED, {});\n\t\tthis.messageInternalIf(parentRemoved, Events.BEFORE_PARENT_REMOVED, {});\n\t\tthis.message(INTERNAL_CHANNEL_NAME, Events.BEFORE_PARENT_CHANGED, {});\n\t\tthis.parent = parent;\n\n\t\tif (changed) {\n\t\t\tthis.nestingChanged();\n\t\t}\n\n\t\tif (isDefined(this.parent)) {\n\t\t\tthis.digest();\n\t\t}\n\n\t\tthis.message(INTERNAL_CHANNEL_NAME, Events.AFTER_PARENT_CHANGED, {});\n\t\tthis.messageInternalIf(parentAdded, Events.AFTER_PARENT_ADDED, {});\n\t\tthis.messageInternalIf(parentRemoved, Events.AFTER_PARENT_REMOVED, {});\n\t}\n\n\tprivate nestingChanged(): void {\n\t\tif (this.isConnected() && !this.pubSub.isGlobalEnabled()) {\n\t\t\tthis.pubSub.enableGlobal();\n\t\t} else if (!this.isConnected() && this.pubSub.isGlobalEnabled()) {\n\t\t\tthis.pubSub.disableGlobal();\n\t\t}\n\n\t\tthis.mvvm.nestingChanged();\n\t\tthis.messageChildren(INTERNAL_DIRECT_CHANNEL_NAME, DirectEvents.NESTING_CHANGED);\n\t}\n\n\tprivate digest(): void {\n\t\tthis.$apply(NO_OP_FN, []);\n\t}\n\n\tprivate bothPresentButDifferent(first: Nestable, second: Nestable): boolean {\n\t\treturn isDefined(first) && isDefined(second) && first.getId() !== second.getId();\n\t}\n\n\tprivate exactlyOneDefined(first: any, second: any): boolean {\n\t\treturn isDefined(first) ? !isDefined(second) : isDefined(second);\n\t}\n\n}\n\nexport default ComponentInternalsImpl;\n","import Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\n\nclass Getter<T> {\n\n\tprivate expression: string;\n\n\tprivate logger: Logger;\n\n\tconstructor(expression: string) {\n\t\tthis.logger = LoggerFactory.getLogger(\"Getter: \" + expression);\n\t\tthis.expression = expression;\n\t}\n\n\tpublic get(scope: ScopeImpl): T {\n\t\tconst code: string = '\"use strict\"; ' + scope.getCode() + \" return (\" + this.expression + \");\";\n\t\tlet value: any = null;\n\n\t\ttry {\n\t\t\tvalue = Function(code).apply({}, [scope.getItems()]);\n\t\t} catch (e) {\n\t\t\tthis.logInvocationError(code, e);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tprivate logInvocationError(code: string, e: Error) {\n\t\tthis.logger.ifWarn(() => \"\\nAn exception (\" + e.name + \") was thrown invoking the element mediator expression: \" + this.expression\n\t\t\t+ \"\\n\\nIn context:\\n\" + code + \"\\n\\nException message: \" + e.message + \"\\n\\n\", e);\n\t}\n\n}\n\nexport default Getter;\n","import { requireNotNull } from \"@/util/ObjectUtils\";\nimport { asIdentity } from \"@/model/Reducers\";\nimport Watchable from \"@/model/Watchable\";\nimport { Watcher, Callback } from \"@/filter/Interfaces\";\n\nclass WatcherImpl<T> implements Watcher<T> {\n\n\tprivate value: any;\n\n\tprivate callbacks: Callback[];\n\n\tconstructor(watchable: Watchable, expression: string) {\n\t\trequireNotNull(watchable, \"watchable\");\n\t\trequireNotNull(expression, \"expression\");\n\t\tthis.callbacks = [];\n\t\tthis.value = watchable.evaluate(expression);\n\t\twatchable.watch(expression, this.onChange, asIdentity, this);\n\t}\n\n\tpublic onChange(previous: any, current: any): void {\n\t\tthis.value = current;\n\n\t\tfor (const callback of this.callbacks) {\n\t\t\tcallback.fn.apply(callback.context, []);\n\t\t}\n\t}\n\n\tpublic addCallback(context: any, callback: () => void): Watcher<T> {\n\t\trequireNotNull(context, \"context\");\n\t\trequireNotNull(callback, \"callback\");\n\n\t\tthis.callbacks.push({\n\t\t\tcontext: context,\n\t\t\tfn: callback\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tpublic get(): T {\n\t\treturn this.value as T;\n\t}\n\n}\n\nexport default WatcherImpl;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass NullValueError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default NullValueError;\n","import ConsoleOutputStrategy from \"@/logger/ConsoleOutputStrategy\";\nimport Level from \"@/logger/Level\";\nimport Logger from \"@/logger/Logger\";\nimport LoggerService from \"@/logger/LoggerService\";\nimport OutputStrategy from \"@/logger/OutputStrategy\";\n\nclass LoggerServiceImpl implements LoggerService {\n\n\tpublic static INSTANCE: LoggerServiceImpl = new LoggerServiceImpl();\n\n\tprivate level: Level;\n\n\tprivate outputStrategy: OutputStrategy;\n\n\tconstructor() {\n\t\tthis.level = Level.INFO;\n\t\tthis.outputStrategy = new ConsoleOutputStrategy();\n\t}\n\n\tpublic log(logger: Logger, level: Level, payload: any, errorStack?: Error | boolean): void {\n\t\tif (level >= this.level && level !== Level.DISABLED) {\n\t\t\tthis.outputStrategy.log(logger.getName(), level, payload, errorStack);\n\t\t}\n\t}\n\n\tpublic setLevel(level: Level): void {\n\t\tthis.level = level;\n\t}\n\n\tpublic isTrace(): boolean {\n\t\treturn (Level.TRACE >= this.level);\n\t}\n\n\tpublic isDebug(): boolean {\n\t\treturn (Level.DEBUG >= this.level);\n\t}\n\n\tpublic isInfo(): boolean {\n\t\treturn (Level.INFO >= this.level);\n\t}\n\n\tpublic isWarn(): boolean {\n\t\treturn (Level.WARN >= this.level);\n\t}\n\n\tpublic isError(): boolean {\n\t\treturn (Level.ERROR >= this.level);\n\t}\n\n\tpublic isFatal(): boolean {\n\t\treturn (Level.FATAL >= this.level);\n\t}\n\n\tpublic isDisabled(): boolean {\n\t\treturn (Level.DISABLED >= this.level);\n\t}\n\n}\n\nexport default LoggerServiceImpl;\n","class IdGenerator {\n\n\tpublic static readonly INSTANCE: IdGenerator = new IdGenerator();\n\n\tprivate static readonly MAX_VALUE: number = 9007199254740989;\n\n\tprivate major: number;\n\n\tprivate minor: number;\n\n\tprivate micro: number;\n\n\tconstructor() {\n\t\tthis.major = 0;\n\t\tthis.minor = 0;\n\t\tthis.micro = 0;\n\t}\n\n\tpublic generate(): string {\n\t\tconst result: string = this.major + \"-\" + this.minor + \"-\" + this.micro;\n\n\t\tthis.micro++;\n\n\t\tif (this.micro > IdGenerator.MAX_VALUE) {\n\t\t\tthis.micro = 0;\n\t\t\tthis.minor++;\n\t\t}\n\n\t\tif (this.minor > IdGenerator.MAX_VALUE) {\n\t\t\tthis.minor = 0;\n\t\t\tthis.major++;\n\t\t}\n\n\t\treturn result;\n\t}\n\n}\n\nexport default IdGenerator;\n","class Properties {\n\n\tpublic static setWindow(instance: Window): void {\n\t\tProperties.window = instance;\n\t}\n\n\tpublic static getWindow(): Window {\n\t\treturn Properties.window || global[\"window\"];\n\t}\n\n\tprivate static window: Window;\n\n}\n\nexport default Properties;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass TemplateError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default TemplateError;\n","import Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\n\nclass Setter<T> {\n\n\tprivate expression: string;\n\n\tprivate logger: Logger;\n\n\tconstructor(expression: string) {\n\t\tthis.logger = LoggerFactory.getLogger(\"Setter: \" + expression);\n\t\tthis.expression = expression;\n\t}\n\n\tpublic set(scope: ScopeImpl, value: T): void {\n\t\tconst code: string = '\"use strict\"; ' + scope.getCode() + \" \" + this.expression + \" = arguments[1];\";\n\n\t\ttry {\n\t\t\tFunction(code).apply({}, [scope.getItems(), value]);\n\t\t} catch (e) {\n\t\t\tthis.logInvocationError(code, e);\n\t\t}\n\t}\n\n\tprivate logInvocationError(code: string, e: Error) {\n\t\tthis.logger.error(\"\\nAn exception (\" + e.name + \") was thrown invoking the element mediator expression: \" + this.expression\n\t\t\t + \"\\n\\nIn context:\\n\" + code + \"\\n\\nException message: \" + e.message + \"\\n\\n\", e);\n\t}\n\n}\n\nexport default Setter;\n","const DirectEvents: any = {\n\tNESTING_CHANGED: \"NESTING_CHANGED\"\n};\n\nexport default DirectEvents;\n","import Module from \"@/module/Module\";\nimport { VALID_ID } from \"@/constant/ValidationRegExp\";\nimport { DEFAULT_MODULE_KEY } from \"@/constant/Constants\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport Scope from \"@/model/Scope\";\nimport Factories from \"@/mvvm/Factories\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport ModulesContext from \"@/module/ModulesContext\";\nimport ModuleImpl from \"@/module/ModuleImpl\";\nimport ElementMediator from \"@/element/ElementMediator\";\nimport Type from \"@/type/Type\";\nimport { requireValid, requireNotNull } from \"@/util/ObjectUtils\";\nimport { COMPARE } from \"@/constant/ScopeContents\";\n\nclass ModulesContextImpl implements ModulesContext {\n\n\tpublic static getInstances(): ModulesContext[] {\n\t\treturn ModulesContextImpl.INSTANCES;\n\t}\n\n\tpublic static resetInstances(): void {\n\t\tModulesContextImpl.INSTANCES = [];\n\t}\n\n\tprivate static INSTANCES: ModulesContext[] = [];\n\n\tprivate readonly defaultModule: Module;\n\n\tprivate modules: SimpleMap<Module>;\n\n\tprivate rootScope: ScopeImpl;\n\n\tconstructor() {\n\t\tthis.rootScope = new ScopeImpl(false);\n\t\tthis.rootScope.add(\"compare\", COMPARE);\n\t\tthis.defaultModule = new ModuleImpl(DEFAULT_MODULE_KEY, this, this.rootScope);\n\t\tthis.modules = {\n\t\t\tDEFAULT: this.defaultModule\n\t\t};\n\n\t\tModulesContextImpl.INSTANCES.push(this);\n\t}\n\n\tpublic getModule(name: string): Module {\n\t\trequireValid(name, \"name\", VALID_ID);\n\n\t\tif (!this.modules[name]) {\n\t\t\tthis.modules[name] = new ModuleImpl(name, this, this.defaultModule.getScope() as ScopeImpl);\n\t\t}\n\n\t\treturn this.modules[name];\n\t}\n\n\tpublic getDefaultModule(): Module {\n\t\treturn this.getModule(DEFAULT_MODULE_KEY);\n\t}\n\n\tpublic forEach(fn: (instace: Module) => void): void {\n\t\trequireNotNull(fn, \"fn\");\n\n\t\tfor (const name in this.modules) {\n\t\t\tif (!this.modules.hasOwnProperty(name)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst current: Module = this.modules[name];\n\n\t\t\tfn(current);\n\t\t}\n\t}\n\n\tpublic broadcast(channelName: string, messageName: string, payload?: any): void {\n\t\tthis.forEach((instance) => instance.broadcast(channelName, messageName, payload));\n\t}\n\n\tpublic registerConstant(id: string, instance: any): void {\n\t\tthis.getDefaultModule().registerConstant(id, instance);\n\t}\n\n\tpublic registerPrototype(id: string, classInstance: Type<any>, dependencies: string[]): void {\n\t\tthis.getDefaultModule().registerPrototype(id, classInstance, dependencies);\n\t}\n\n\tpublic registerPrototypeWithFactory(id: string, factoryFn: () => any, dependencies: string[]): void {\n\t\tthis.getDefaultModule().registerPrototypeWithFactory(id, factoryFn, dependencies);\n\t}\n\n\tpublic registerSingleton(id: string, classInstance: Type<any>, dependencies: string[]): void {\n\t\tthis.getDefaultModule().registerSingleton(id, classInstance, dependencies);\n\t}\n\n\tpublic registerSingletonWithFactory(id: string, factoryFn: () => any, dependencies: string[]): void {\n\t\tthis.getDefaultModule().registerSingletonWithFactory(id, factoryFn, dependencies);\n\t}\n\n\tpublic registerElementMediator(name: string, supportedTags: string[], elementMediatorClass: Type<ElementMediator<any, HTMLElement | Text, any>>): void {\n\t\tFactories.register(name, supportedTags, elementMediatorClass);\n\t}\n\n\tpublic getScope(): Scope {\n\t\treturn this.getDefaultModule().getScope();\n\t}\n\n\tpublic get<T>(id: string): T {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\tlet result: T = null;\n\n\t\tconst moduleId: string = ModuleImpl.ALIASES[id];\n\n\t\tif (moduleId) {\n\t\t\tresult = this.getModule(id).getLocal(id);\n\t\t}\n\n\t\tif (!result) {\n\t\t\tresult = this.defaultModule.getLocal(id);\n\t\t}\n\n\t\treturn result;\n\t}\n\n}\n\nexport default ModulesContextImpl;\n","import Level from \"@/logger/Level\";\nimport LoggerServiceImpl from \"@/logger/LoggerServiceImpl\";\n\nclass CydranConfig {\n\n\tconstructor() { /**/ }\n\n\tpublic useTrace(): void {\n\t\tLoggerServiceImpl.INSTANCE.setLevel(Level.TRACE);\n\t}\n\n\tpublic useDebug(): void {\n\t\tLoggerServiceImpl.INSTANCE.setLevel(Level.DEBUG);\n\t}\n\n\tpublic useInfo(): void {\n\t\tLoggerServiceImpl.INSTANCE.setLevel(Level.INFO);\n\t}\n\n\tpublic useWarn(): void {\n\t\tLoggerServiceImpl.INSTANCE.setLevel(Level.WARN);\n\t}\n\n\tpublic useError(): void {\n\t\tLoggerServiceImpl.INSTANCE.setLevel(Level.ERROR);\n\t}\n\n\tpublic useFatal(): void {\n\t\tLoggerServiceImpl.INSTANCE.setLevel(Level.FATAL);\n\t}\n\n\tpublic useDisabled(): void {\n\t\tLoggerServiceImpl.INSTANCE.setLevel(Level.DISABLED);\n\t}\n}\n\nexport default CydranConfig;\n","import \"@/component/\";\nimport \"@/config/\";\nimport \"@/constant/\";\nimport \"@/element/\";\nimport \"@/error/\";\nimport \"@/logger/\";\nimport \"@/message/\";\nimport \"@/model/\";\nimport \"@/module/\";\nimport \"@/mvvm/\";\nimport \"@/pattern/\";\nimport \"@/registry/\";\nimport \"@/stage/\";\nimport \"@/util/\";\n\nimport { ComponentConfigBuilder } from \"@/component/ComponentConfig\";\nimport * as CydranConfig from \"@/config/CydranConfig\";\nimport Events from \"@/constant/Events\";\nimport Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport PubSub from \"@/message/PubSub\";\nimport { builder, Stage, StageBuilder } from \"@/stage/Stage\";\nimport ElementMediator from \"@/element/ElementMediator\";\nimport Component from \"@/component/Component\";\nimport RegistryStrategy from \"@/registry/RegistryStrategy\";\nimport { isDefined, requireNotNull, requireValid } from \"@/util/ObjectUtils\";\nimport Filters from \"@/filter/Filters\";\nimport { Filter, PagedFilter, LimitOffsetFilter } from \"@/filter/Interfaces\";\n\nconst CYDRAN_KEY: string = \"cydran\";\nconst ORIGINAL_CYDRAN: any = window[CYDRAN_KEY];\n\nfunction noConflict() {\n\tconst currentCydran: any = window[CYDRAN_KEY];\n\twindow[CYDRAN_KEY] = ORIGINAL_CYDRAN;\n\n\treturn currentCydran;\n}\n\nexport {\n\tComponentConfigBuilder,\n\tComponent,\n\tEvents,\n\tStage,\n\tStageBuilder,\n\tbuilder,\n\tElementMediator,\n\tLogger,\n\tLoggerFactory,\n\tCydranConfig,\n\tPubSub,\n\tRegistryStrategy,\n\tnoConflict,\n\tisDefined,\n\trequireNotNull,\n\trequireValid,\n\tFilter,\n\tPagedFilter,\n\tLimitOffsetFilter,\n\tFilters\n};\n","import \"@/element/Checked\";\nimport \"@/element/CSSClass\";\nimport \"@/element/Enabled\";\nimport \"@/element/ReadOnly\";\nimport \"@/element/Style\";\nimport \"@/element/ForceFocus\";\nimport \"@/element/MultiSelectValueModel\";\nimport \"@/element/ValuedModel\";\nimport \"@/element/InputValueModel\";\nimport \"@/element/Visible\";\nimport \"@/element/If\";\nimport \"@/element/repeat/Repeat\";\n\nexport { };\n","import Factories from \"@/mvvm/Factories\";\nimport ElementMediator from \"@/element/ElementMediator\";\nimport { asBoolean } from \"@/model/Reducers\";\n\n/**\n *\n */\nclass Checked extends ElementMediator<boolean, HTMLInputElement, any> {\n\n\tconstructor(deps: any) {\n\t\tsuper(deps, false, asBoolean);\n\t}\n\n\tpublic wire(): void {\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tprotected onTargetChange(previous: boolean, current: boolean): void {\n\t\tthis.getEl().checked = !current;\n\t}\n}\n\nFactories.register(\"checked\", [\"input\"], Checked);\n\nexport default Checked;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass ValidationError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default ValidationError;\n","import Level from \"@/logger/Level\";\nimport Logger from \"@/logger/Logger\";\nimport LoggerService from \"@/logger/LoggerService\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\n\nconst LOGGER_NAME_LENGTH = 20;\n\nclass LoggerImpl implements Logger {\n\n\tprivate name: string;\n\n\tprivate loggerService: LoggerService;\n\n\tconstructor(name: string, loggerService: LoggerService) {\n\t\trequireNotNull(name, \"name\");\n\n\t\tif (name.length < LOGGER_NAME_LENGTH) {\n\t\t\tlet count: number = LOGGER_NAME_LENGTH - name.length;\n\n\t\t\twhile (count > 0) {\n\t\t\t\tname = name + \" \";\n\t\t\t\t--count;\n\t\t\t}\n\t\t}\n\n\t\tthis.name = name;\n\t\tthis.loggerService = loggerService;\n\t}\n\n\tpublic trace(payload: any, error?: Error): void {\n\t\tthis.loggerService.log(this, Level.TRACE, payload, error);\n\t}\n\n\tpublic ifTrace(payloadFn: () => any, error?: Error): void {\n\t\tif (payloadFn !== null && this.isTrace()) {\n\t\t\tthis.trace(payloadFn(), error);\n\t\t}\n\t}\n\n\tpublic debug(payload: any, error?: Error): void {\n\t\tthis.loggerService.log(this, Level.DEBUG, payload, error);\n\t}\n\n\tpublic ifDebug(payloadFn: () => any, error?: Error): void {\n\t\tif (payloadFn !== null && this.isDebug()) {\n\t\t\tthis.debug(payloadFn(), error);\n\t\t}\n\t}\n\n\tpublic info(payload: any, error?: Error): void {\n\t\tthis.loggerService.log(this, Level.INFO, payload, error);\n\t}\n\n\tpublic ifInfo(payloadFn: () => any, error?: Error): void {\n\t\tif (payloadFn !== null && this.isInfo()) {\n\t\t\tthis.info(payloadFn(), error);\n\t\t}\n\t}\n\n\tpublic warn(payload: any, error?: Error): void {\n\t\tthis.loggerService.log(this, Level.WARN, payload, error);\n\t}\n\n\tpublic ifWarn(payloadFn: () => any, error?: Error): void {\n\t\tif (payloadFn !== null && this.isWarn()) {\n\t\t\tthis.warn(payloadFn(), error);\n\t\t}\n\t}\n\n\tpublic error(payload: any, error?: Error): void {\n\t\tthis.loggerService.log(this, Level.ERROR, payload, error);\n\t}\n\n\tpublic ifError(payloadFn: () => any, error?: Error): void {\n\t\tif (payloadFn !== null && this.isError()) {\n\t\t\tthis.error(payloadFn(), error);\n\t\t}\n\t}\n\n\tpublic fatal(payload: any, error?: Error): void {\n\t\tthis.loggerService.log(this, Level.FATAL, payload, error);\n\t}\n\n\tpublic ifFatal(payloadFn: () => any, error?: Error): void {\n\t\tif (payloadFn !== null && this.isFatal()) {\n\t\t\tthis.fatal(payloadFn(), error);\n\t\t}\n\t}\n\n\tpublic isTrace(): boolean {\n\t\treturn this.loggerService.isTrace();\n\t}\n\n\tpublic isDebug(): boolean {\n\t\treturn this.loggerService.isDebug();\n\t}\n\n\tpublic isInfo(): boolean {\n\t\treturn this.loggerService.isInfo();\n\t}\n\n\tpublic isWarn(): boolean {\n\t\treturn this.loggerService.isWarn();\n\t}\n\n\tpublic isError(): boolean {\n\t\treturn this.loggerService.isError();\n\t}\n\n\tpublic isFatal(): boolean {\n\t\treturn this.loggerService.isFatal();\n\t}\n\n\tpublic isDisabled(): boolean {\n\t\treturn this.loggerService.isDisabled();\n\t}\n\n\tpublic getName(): string {\n\t\treturn this.name;\n\t}\n\n}\n\nexport default LoggerImpl;\n","import Level from \"@/logger/Level\";\nimport OutputStrategy from \"@/logger/OutputStrategy\";\n\nclass ConsoleOutputStrategy implements OutputStrategy {\n\n\tprivate static getNow(): string {\n\t\tconst now = new Date();\n\n\t\treturn now.getUTCFullYear()\n\t\t\t+ \"-\"\n\t\t\t+ now.getUTCMonth()\n\t\t\t+ \":\"\n\t\t\t+ now.getUTCDate()\n\t\t\t+ \":\"\n\t\t\t+ now.getUTCHours()\n\t\t\t+ \":\"\n\t\t\t+ now.getUTCMinutes()\n\t\t\t+ \":\"\n\t\t\t+ now.getUTCSeconds()\n\t\t\t+ \":\"\n\t\t\t+ now.getUTCMilliseconds();\n\t}\n\n\tpublic log(logName: string, level: Level, payload: any, stacked?: Error | boolean): void {\n\t\tif (level === Level.DISABLED) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst preamble: string = ConsoleOutputStrategy.getNow() + \" \" + level + \" [\" + logName + \"]\";\n\t\tconst shortArgs: boolean = payload instanceof Error;\n\t\tconst printFullStack: boolean = !(stacked instanceof Error) ? (null !== stacked ? stacked : false) : false;\n\n\t\tif (level >= Level.WARN) {\n\t\t\tconst logMsg: string = (shortArgs ? payload.stack : payload);\n\t\t\tconst errMsg: string = (stacked instanceof Error) ? stacked.stack : \"\";\n\t\t\tconst secondPreamble = (shortArgs ? \"\" : ((stacked) ? \" - %s\" : \"\"));\n\n\t\t\tswitch (level) {\n\t\t\t\tcase Level.WARN:\n\t\t\t\t\t// tslint:disable-next-line\n\t\t\t\t\tconsole.warn(\"%c\" + preamble + secondPreamble, \"color:#ff9400;\", logMsg, errMsg);\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase Level.ERROR:\n\t\t\t\tcase Level.FATAL:\n\t\t\t\tdefault:\n\t\t\t\t\t// tslint:disable-next-line\n\t\t\t\t\tconsole.error(preamble + secondPreamble, logMsg, errMsg);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (level) {\n\t\t\t\tcase Level.TRACE:\n\t\t\t\t\tif (printFullStack) {\n\t\t\t\t\t\t// tslint:disable-next-line\n\t\t\t\t\t\tconsole.log(\"%c\" + preamble, \"color:#00752d;\", payload);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// tslint:disable-next-line\n\t\t\t\t\t\tconsole.log(\"%c\" + preamble, \"color:#ff9400;\", payload);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase Level.DEBUG:\n\t\t\t\t\t// tslint:disable-next-line\n\t\t\t\t\tconsole.log(\"%c\" + preamble, \"color:#00752d;\", payload);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase Level.INFO:\n\t\t\t\t\t// tslint:disable-next-line\n\t\t\t\t\tconsole.log(\"%c\" + preamble, \"color:#2d57ca;\", payload);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t// tslint:disable-next-line\n\t\t\t\t\tconsole.log(preamble, payload);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nexport default ConsoleOutputStrategy;\n","function extractParams<T>(tagName: string, el: HTMLElement): T {\n\tconst result: any = {};\n\n\t// tslint:disable-next-line\n\tfor (let i = 0; i < el.children.length; i++) {\n\t\tconst child: HTMLElement = el.children[i] as HTMLElement;\n\n\t\tif (child.tagName.toLowerCase() === tagName.toLowerCase()) {\n\t\t\tconst paramName: string = child.getAttribute(\"name\");\n\t\t\tconst paramValue: string = child.getAttribute(\"value\");\n\t\t\tresult[paramName] = paramValue;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction extractAttributes<T>(prefix: string, el: HTMLElement): T {\n\tconst result: any = {};\n\tconst lowerCasePrefix: string = prefix.toLowerCase() + \":\";\n\n\t// tslint:disable-next-line\n\tfor (let i = 0; i < el.attributes.length; i++) {\n\t\tconst attribute: Attr = el.attributes[i] as Attr;\n\n\t\tconst name: string = attribute.name.toLowerCase();\n\n\t\tif (name.indexOf(lowerCasePrefix) === 0) {\n\t\t\tconst paramName: string = name.slice(lowerCasePrefix.length);\n\t\t\tconst paramValue: string = attribute.value;\n\t\t\tresult[paramName] = paramValue;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport { extractParams, extractAttributes };\n","import Listener from \"@/message/Listener\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\n\nclass ListenerImpl implements Listener {\n\n\tprivate context: any;\n\n\tprivate channelName: string;\n\n\tprivate mappings: SimpleMap<((payload: any) => void)[]>;\n\n\tconstructor(channelName: string, context: any) {\n\t\tthis.mappings = {};\n\t\tthis.channelName = channelName;\n\t\tthis.context = context;\n\t}\n\n\tpublic receive(messageName: string, payload: any): void {\n\t\tconst mappings: ((payload: any) => void)[] = this.mappings[messageName];\n\n\t\tif (!mappings) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const mapping of mappings) {\n\t\t\tmapping.call(this.context, payload);\n\t\t}\n\t}\n\n\tpublic register(messageName: string, fn: (payload: any) => void): void {\n\t\tif (!this.mappings[messageName]) {\n\t\t\tthis.mappings[messageName] = [];\n\t\t}\n\n\t\tthis.mappings[messageName].push(fn);\n\t}\n\n\tpublic getChannelName(): string {\n\t\treturn this.channelName;\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.mappings = {};\n\t\tthis.context = null;\n\t}\n\n}\n\nexport default ListenerImpl;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\n\nclass CSSClass extends ElementMediator<any, HTMLElement, any> {\n\n\tpublic wire(): void {\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tprivate onTargetChange(previous: any, current: any): void {\n\t\tconst oldClasses: string[] = (this.getEl().className || \"\").trim().split(\" \");\n\t\tconst newClasses: string[] = [];\n\t\tconst map: any = current || {};\n\n\t\tfor (const value of oldClasses) {\n\t\t\tif (!map.hasOwnProperty(value)) {\n\t\t\t\tnewClasses.push(value);\n\t\t\t}\n\t\t}\n\n\t\tfor (const key in map) {\n\t\t\tif (map.hasOwnProperty(key) && !!map[key]) {\n\t\t\t\tnewClasses.push(key);\n\t\t\t}\n\t\t}\n\n\t\tthis.getEl().className = newClasses.join(\" \");\n\t}\n\n}\n\nFactories.register(\"class\", [\"*\"], CSSClass);\n\nexport default CSSClass;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\nimport { asBoolean } from \"@/model/Reducers\";\n\nclass Enabled extends ElementMediator<boolean, HTMLInputElement, any> {\n\n\tconstructor(deps: any) {\n\t\tsuper(deps, false, asBoolean);\n\t}\n\n\tpublic wire(): void {\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tprotected onTargetChange(previous: boolean, current: boolean): void {\n\t\tthis.getEl().disabled = !current;\n\t}\n\n}\n\nFactories.register(\"enabled\", [\"*\"], Enabled);\n\nexport default Enabled;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\nimport { asBoolean } from \"@/model/Reducers\";\n\nclass ReadOnly extends ElementMediator<boolean, HTMLInputElement, any> {\n\n\tconstructor(deps: any) {\n\t\tsuper(deps, false, asBoolean);\n\t}\n\n\tpublic wire(): void {\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tprotected onTargetChange(previous: boolean, current: boolean): void {\n\t\tthis.getEl().readOnly = current;\n\t}\n\n}\n\nFactories.register(\"readonly\", [\"*\"], ReadOnly);\n\nexport default ReadOnly;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\n\nclass Style extends ElementMediator<any, HTMLElement, any> {\n\n\tpublic wire(): void {\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tprotected onTargetChange(previous: any, current: any): void {\n\t\tif (current === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const key in current) {\n\t\t\tif (!current.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.getEl().style[key] = current[key] + \"\";\n\t\t}\n\t}\n\n}\n\nFactories.register(\"style\", [\"*\"], Style);\n\nexport default Style;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport { INTERNAL_CHANNEL_NAME } from \"@/constant/Constants\";\nimport Events from \"@/constant/Events\";\nimport Factories from \"@/mvvm/Factories\";\nimport { asBoolean } from \"@/model/Reducers\";\n\nclass ForceFocus extends ElementMediator<boolean, HTMLElement, any> {\n\n\tprivate shouldFocus: boolean;\n\n\tconstructor(deps: any) {\n\t\tsuper(deps, false, asBoolean);\n\t}\n\n\tpublic wire(): void {\n\t\tthis.bridge(\"focusout\");\n\t\tthis.on(\"focusout\").forChannel(\"dom\").invoke(this.handleFocus);\n\t\tthis.on(Events.COMPONENT_NESTING_CHANGED).forChannel(INTERNAL_CHANNEL_NAME).invoke(this.handleFocus);\n\t\tthis.shouldFocus = this.getModelMediator().get();\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t\tthis.handleFocus();\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tpublic handleFocus(): void {\n\t\tif (this.shouldFocus) {\n\t\t\tthis.getEl().focus();\n\t\t}\n\t}\n\n\tprotected onTargetChange(previous: boolean, current: boolean): void {\n\t\tthis.shouldFocus = current;\n\t\tthis.handleFocus();\n\t}\n\n}\n\nFactories.register(\"force-focus\", [\"*\"], ForceFocus);\n\nexport default ForceFocus;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\n\n/**\n *\n */\nclass MultiSelectValueModel extends ElementMediator<string | string[], HTMLSelectElement, any> {\n\n\tpublic wire(): void {\n\t\tthis.bridge(\"input\");\n\t\tthis.on(\"input\").forChannel(\"dom\").invoke(this.handleInput);\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tpublic handleInput(event: Event): void {\n\t\tif (this.getEl().multiple) {\n\t\t\tconst selectedValues: (string | number)[] = [];\n\n\t\t\tfor (let i = 0; i < this.getEl().selectedOptions.length; i++) {\n\t\t\t\tconst optValue: string = this.getEl().selectedOptions.item(i).getAttribute(\"value\");\n\t\t\t\tselectedValues.push(optValue);\n\t\t\t}\n\n\t\t\tthis.$apply(() => {\n\t\t\t\tthis.getModelMediator().set(selectedValues);\n\t\t\t}, []);\n\t\t} else {\n\t\t\tthis.$apply(() => {\n\t\t\t\tthis.getModelMediator().set(this.getEl()[\"value\"]);\n\t\t\t}, []);\n\t\t}\n\t}\n\n\tprotected onTargetChange(previous: string | string[], current: string | string[]): void {\n\t\tif (this.getEl().multiple) {\n\t\t\tcurrent = (current === null) ? [] : current;\n\n\t\t\tfor (let i = 0; i < this.getEl().options.length; i++) {\n\t\t\t\tconst element: HTMLOptionElement = this.getEl().options.item(i);\n\t\t\t\telement.selected = current.includes(element.value);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.getEl().value = current as string;\n\t\t}\n\t}\n\n}\n\nFactories.register(\"model\", [\"select\"], MultiSelectValueModel);\n\nexport default MultiSelectValueModel;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\n\n/**\n *\n */\nclass ValuedModel extends ElementMediator<string, HTMLInputElement, any> {\n\n\tpublic wire(): void {\n\t\tthis.bridge(\"input\");\n\t\tthis.on(\"input\").forChannel(\"dom\").invoke(this.handleInput);\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tpublic handleInput(event: Event): void {\n\t\tthis.$apply(() => {\n\t\t\tthis.getModelMediator().set(this.getEl().value);\n\t\t}, []);\n\t}\n\n\tprotected onTargetChange(previous: string, current: string): void {\n\t\tthis.getEl().value = current;\n\t}\n\n}\n\nFactories.register(\"model\", [\"textarea\"], ValuedModel);\n\nexport default ValuedModel;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\n\n/**\n *\n */\nclass InputValueModel extends ElementMediator<string, HTMLInputElement, any> {\n\n\tpublic wire(): void {\n\t\tthis.bridge(\"input\");\n\t\tconst isRadio: boolean = this.getEl().type.toLowerCase() === \"radio\";\n\t\tthis.on(\"input\").forChannel(\"dom\").invoke(isRadio ? this.handleRadioInput : this.handleInput);\n\t\tthis.getModelMediator().watch(this, (isRadio ? this.onRadioTargetChange : this.onTargetChange));\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tpublic handleInput(event: Event): void {\n\t\tthis.$apply(() => {\n\t\t\tthis.getModelMediator().set(this.getEl().value);\n\t\t}, []);\n\t}\n\n\tpublic handleRadioInput(event: Event): void {\n\t\tif (this.getEl().checked) {\n\t\t\tthis.$apply(() => {\n\t\t\t\tthis.getModelMediator().set(this.getEl().value);\n\t\t\t}, []);\n\t\t}\n\t}\n\n\tprotected onTargetChange(previous: string, current: string): void {\n\t\tthis.getEl().value = current;\n\t}\n\n\tprotected onRadioTargetChange(previous: string, current: string): void {\n\t\tif (this.getEl().value === current) {\n\t\t\tthis.getEl().checked = true;\n\t\t}\n\t}\n\n}\n\nFactories.register(\"model\", [\"input\"], InputValueModel);\n\nexport default InputValueModel;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\nimport { asBoolean } from \"@/model/Reducers\";\n\n/**\n *\n */\nclass Visible extends ElementMediator<boolean, HTMLElement, any> {\n\n\tconstructor(deps: any) {\n\t\tsuper(deps, false, asBoolean);\n\t}\n\n\tpublic wire(): void {\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tprotected onTargetChange(previous: boolean, current: boolean): void {\n\t\tthis.getEl().hidden = !current;\n\t}\n\n}\n\nFactories.register(\"visible\", [\"*\"], Visible);\n\nexport default Visible;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\nimport { asBoolean } from \"@/model/Reducers\";\nimport { createCommentOffDom } from \"@/util/DomUtils\";\n\n/**\n *\n */\nclass If extends ElementMediator<boolean, HTMLElement, any> {\n\n\tprivate comment: Comment;\n\n\tprivate initialized: boolean = false;\n\n\tconstructor(deps: any) {\n\t\tsuper(deps, false, asBoolean);\n\t}\n\n\tpublic wire(): void {\n\t\tthis.comment = createCommentOffDom(\" hidden \");\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tprotected onTargetChange(previous: boolean, current: boolean): void {\n\t\tif (this.initialized) {\n\t\t\tconst activeEl: any = current ? this.comment : this.getEl();\n\t\t\tactiveEl.parentElement.replaceChild((current ? this.getEl() : this.comment) as HTMLElement, activeEl as HTMLElement);\n\t\t} else {\n\t\t\tif (!current) {\n\t\t\t\tthis.getEl().parentElement.replaceChild((this.comment as any) as HTMLElement, this.getEl());\n\t\t\t}\n\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\n}\n\nFactories.register(\"if\", [\"*\"], If);\n\nexport default If;\n","import Evaluator from \"@/model/Evaluator\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport { INTERNAL_DIRECT_CHANNEL_NAME } from \"@/constant/Constants\";\nimport ElementMediator from \"@/element/ElementMediator\";\nimport Nestable from \"@/component/Nestable\";\nimport MediatorSource from \"@/mvvm/MediatorSource\";\nimport Factories from \"@/mvvm/Factories\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport IdStrategy from \"@/element/repeat/IdStrategy\";\nimport GeneratedIdStrategyImpl from \"@/element/repeat/GeneratedIdStrategyImpl\";\nimport NoneIdStrategyImpl from \"@/element/repeat/NoneIdStrategyImpl\";\nimport ComponentFactory from \"@/element/repeat/ComponentFactory\";\nimport Params from \"@/element/repeat/Params\";\nimport UtilityComponentFactoryImpl from \"@/element/repeat/UtilityComponentFactoryImpl\";\nimport ItemComponentFactoryImpl from \"@/element/repeat/ItemComponentFactoryImpl\";\nimport EmbeddedComponentFactoryImpl from \"@/element/repeat/EmbeddedComponentFactoryImpl\";\nimport InvalidIdStrategyImpl from \"@/element/repeat/InvalidIdStrategyImpl\";\nimport ExpressionIdStrategyImpl from \"@/element/repeat/ExpressionIdStrategyImpl\";\nimport { asIdentity } from \"@/model/Reducers\";\nimport { isDefined, equals } from \"@/util/ObjectUtils\";\nimport { createElementOffDom, createDocumentFragmentOffDom } from \"@/util/DomUtils\";\n\nconst DEFAULT_ID_KEY: string = \"id\";\n\n/**\n *\n */\nclass Repeat extends ElementMediator<any[], HTMLElement, Params> {\n\n\tprivate map: SimpleMap<Nestable>;\n\n\tprivate empty: Nestable;\n\n\tprivate first: Nestable;\n\n\tprivate last: Nestable;\n\n\tprivate ids: string[];\n\n\tprivate localScope: ScopeImpl;\n\n\tprivate scopeItem: any;\n\n\tprivate itemFactory: ComponentFactory;\n\n\tprivate idStrategy: IdStrategy;\n\n\tprivate elIsSelect: boolean;\n\n\tprivate alternatives: {\n\t\ttest: Evaluator;\n\t\tfactory: ComponentFactory;\n\t}[];\n\n\tconstructor(deps: any) {\n\t\tsuper(deps, true, asIdentity);\n\t\tthis.idStrategy = null;\n\t\tthis.elIsSelect = (this.getEl().tagName.toLowerCase() === \"select\");\n\t}\n\n\tpublic wire(): void {\n\t\tthis.map = {};\n\t\tthis.empty = null;\n\t\tthis.ids = [];\n\t\tthis.itemFactory = null;\n\t\tthis.alternatives = [];\n\t\tthis.localScope = new ScopeImpl(false);\n\n\t\tconst modelFn: () => any = () => this.getModelFn();\n\t\tconst itemFn: () => any = () => this.scopeItem;\n\t\tthis.localScope.setParent(this.getParent().scope() as ScopeImpl);\n\t\tthis.localScope.add(\"m\", modelFn);\n\t\tthis.localScope.add(\"model\", modelFn);\n\t\tthis.localScope.add(\"i\", itemFn);\n\t\tthis.localScope.add(\"item\", itemFn);\n\t\tthis.localScope.add(\"v\", itemFn);\n\t\tthis.localScope.add(\"value\", itemFn);\n\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t\tconst idKey: string = this.getParams().idkey || DEFAULT_ID_KEY;\n\t\tconst idExpression: string = this.getParams().expression;\n\t\tconst mode: string = this.getParams().mode || null;\n\n\t\tswitch (mode) {\n\t\t\tcase \"generated\":\n\t\t\t\tthis.idStrategy = new GeneratedIdStrategyImpl(idKey);\n\t\t\t\tbreak;\n\n\t\t\tcase \"none\":\n\t\t\t\tthis.idStrategy = new NoneIdStrategyImpl(idKey);\n\t\t\t\tbreak;\n\n\t\t\tcase \"expression\":\n\t\t\t\tthis.idStrategy = new ExpressionIdStrategyImpl(idExpression);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthis.idStrategy = new InvalidIdStrategyImpl();\n\t\t}\n\n\t\tthis.idStrategy.init();\n\n\t\tconst children: HTMLCollection = this.getEl().children;\n\n\t\t// tslint:disable-next-line\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst child: ChildNode = children[i];\n\n\t\t\tif (\"template\" !== child.nodeName.toLowerCase()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst template: HTMLElement = child as HTMLElement;\n\n\t\t\tif (!isDefined(template.innerHTML)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst markup: string = template.innerHTML.trim();\n\t\t\tconst type: string = template.getAttribute(\"type\");\n\n\t\t\tswitch (type) {\n\t\t\t\tcase \"empty\":\n\t\t\t\t\tthis.empty = this.createFactory(markup, UtilityComponentFactoryImpl).create();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"first\":\n\t\t\t\t\tthis.first = this.createFactory(markup, UtilityComponentFactoryImpl).create();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"after\":\n\t\t\t\t\tthis.last = this.createFactory(markup, UtilityComponentFactoryImpl).create();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"alt\":\n\t\t\t\t\tconst expression: string = template.getAttribute(\"test\");\n\t\t\t\t\tthis.alternatives.push({\n\t\t\t\t\t\tfactory: this.createFactory(markup, ItemComponentFactoryImpl),\n\t\t\t\t\t\ttest: new Evaluator(expression, this.localScope)\n\t\t\t\t\t});\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"item\":\n\t\t\t\t\tthis.itemFactory = this.createFactory(markup, ItemComponentFactoryImpl);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tconst el: HTMLElement = this.getEl();\n\n\t\twhile (el.firstChild) {\n\t\t\tel.removeChild(el.firstChild);\n\t\t}\n\n\t\tif (this.empty) {\n\t\t\tel.appendChild(this.empty.getEl());\n\t\t}\n\t}\n\n\tpublic unwire(): void {\n\t\tif (this.empty) {\n\t\t\tthis.empty.dispose();\n\t\t}\n\n\t\tif (this.first) {\n\t\t\tthis.first.dispose();\n\t\t}\n\n\t\tif (this.last) {\n\t\t\tthis.last.dispose();\n\t\t}\n\n\t\tfor (const key in this.map) {\n\t\t\tif (!this.map.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst component: Nestable = this.map[key];\n\t\t\tcomponent.dispose();\n\t\t}\n\n\t\tthis.empty = null;\n\t\tthis.map = {};\n\t}\n\n\tpublic requestMediatorSources(sources: MediatorSource[]): void {\n\t\tfor (const key in this.map) {\n\t\t\tif (!this.map.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst component: Nestable = this.map[key];\n\t\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"consumeDigestionCandidates\", sources);\n\t\t}\n\n\t\tif (this.first) {\n\t\t\tthis.first.message(INTERNAL_DIRECT_CHANNEL_NAME, \"consumeDigestionCandidates\", sources);\n\t\t}\n\n\t\tif (this.last) {\n\t\t\tthis.last.message(INTERNAL_DIRECT_CHANNEL_NAME, \"consumeDigestionCandidates\", sources);\n\t\t}\n\n\t\tif (this.empty) {\n\t\t\tthis.empty.message(INTERNAL_DIRECT_CHANNEL_NAME, \"consumeDigestionCandidates\", sources);\n\t\t}\n\t}\n\n\tprotected onTargetChange(previous: any[], current: any[]): void {\n\t\tconst newIds: string[] = [];\n\t\tconst items: any[] = current || [];\n\n\t\t// tslint:disable-next-line\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tconst item = items[i];\n\n\t\t\tif (!this.idStrategy.check(item)) {\n\t\t\t\tthis.idStrategy.enrich(item, i);\n\t\t\t}\n\n\t\t\tconst id: string = this.idStrategy.extract(item);\n\t\t\tnewIds.push(id);\n\t\t}\n\n\t\tif (!equals(this.ids, newIds)) {\n\t\t\tconst newMap: SimpleMap<Nestable> = {};\n\t\t\tconst components: Nestable[] = [];\n\n\t\t\tfor (const item of items) {\n\t\t\t\tconst id: string = this.idStrategy.extract(item);\n\t\t\t\tconst component: Nestable = this.map[id] ? this.map[id] : this.create(item);\n\t\t\t\tnewMap[id] = component;\n\t\t\t\tcomponents.push(component);\n\t\t\t\tdelete this.map[id];\n\t\t\t}\n\n\t\t\tfor (const key in this.map) {\n\t\t\t\tif (this.map.hasOwnProperty(key)) {\n\t\t\t\t\tconst component: Nestable = this.map[key];\n\t\t\t\t\tcomponent.dispose();\n\t\t\t\t\tdelete this.map[key];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.map = newMap;\n\t\t\tconst el: HTMLElement = this.getEl();\n\n\t\t\twhile (el.firstChild) {\n\t\t\t\tel.removeChild(el.lastChild);\n\t\t\t}\n\n\t\t\tif (components.length === 0) {\n\t\t\t\tif (this.empty) {\n\t\t\t\t\tel.appendChild(this.empty.getEl());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst workingEl: HTMLElement | DocumentFragment\n\t\t\t\t\t= (this.elIsSelect) ? el : createDocumentFragmentOffDom();\n\n\t\t\t\tif (this.first) {\n\t\t\t\t\tworkingEl.appendChild(this.first.getEl());\n\t\t\t\t}\n\n\t\t\t\tfor (const component of components) {\n\t\t\t\t\tworkingEl.appendChild(component.getEl());\n\t\t\t\t}\n\n\t\t\t\tif (this.last) {\n\t\t\t\t\tworkingEl.appendChild(this.last.getEl());\n\t\t\t\t}\n\t\t\t\tif (!this.elIsSelect) {\n\t\t\t\t\tel.appendChild(workingEl);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.ids = newIds;\n\t}\n\n\tprivate create(item: any): Nestable {\n\t\tlet factory: ComponentFactory = this.itemFactory;\n\t\tthis.scopeItem = item;\n\n\t\ttry {\n\t\t\tif (this.alternatives.length > 0) {\n\t\t\t\tfor (const alternative of this.alternatives) {\n\t\t\t\t\tif (alternative.test.test()) {\n\t\t\t\t\t\tfactory = alternative.factory;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} finally {\n\t\t\tthis.scopeItem = null;\n\t\t}\n\n\t\treturn factory.create(item);\n\t}\n\n\tprivate createFactory(markup: string, factory: any): ComponentFactory {\n\t\t// TODO - Look into optimizing this DOM creation without the need for a workaround\n\t\tconst templateEl: HTMLTemplateElement = createElementOffDom(\"template\");\n\t\ttemplateEl.insertAdjacentHTML(\"afterbegin\", markup.trim());\n\t\tconst expectedTag: string = this.getParent().getPrefix() + \":component\";\n\n\t\tlet result: ComponentFactory = null;\n\n\t\tif (templateEl.childElementCount === 1 && templateEl.firstElementChild.nodeName.toLowerCase() === expectedTag.toLowerCase()) {\n\t\t\tconst componentId: string = templateEl.firstElementChild.getAttribute(\"name\");\n\t\t\tconst moduleId: string = templateEl.firstElementChild.getAttribute(\"module\");\n\t\t\tresult = new EmbeddedComponentFactoryImpl(this.getModule(), componentId, moduleId, this.getParent(), this.getParentId());\n\t\t} else {\n\t\t\tresult = new factory(this.getModule(), markup, this.getParent().getPrefix(), this.getParent(), this.getParentId(), this.getModelFn());\n\t\t}\n\n\t\treturn result;\n\t}\n\n}\n\nFactories.register(\"repeat\", [\"*\"], Repeat);\n\nexport default Repeat;\n","import Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\n\nclass Evaluator {\n\n\tprivate expression: string;\n\n\tprivate logger: Logger;\n\n\tprivate scope: ScopeImpl;\n\n\tprivate code: string;\n\n\tconstructor(expression: string, scope: ScopeImpl) {\n\t\tthis.logger = LoggerFactory.getLogger(\"Evaluator: \" + expression);\n\t\tthis.expression = expression;\n\t\tthis.scope = scope;\n\t\tthis.code = '\"use strict\"; ' + scope.getCode() + \" return (\" + this.expression + \");\";\n\t}\n\n\tpublic test(): boolean {\n\t\tlet value: boolean = null;\n\n\t\ttry {\n\t\t\tvalue = !!Function(this.code).apply({}, [this.scope.getItems()]);\n\t\t} catch (e) {\n\t\t\tthis.logger.error(\"\\nAn exception (\" + e.name + \") was thrown invoking the element mediator expression: \"\n\t\t\t\t+ this.expression + \"\\n\\nIn context:\\n\" + this.code + \"\\n\\nException message: \" + e.message + \"\\n\\n\", e);\n\t\t}\n\n\t\treturn value;\n\t}\n\n}\n\nexport default Evaluator;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass ScopeError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default ScopeError;\n","import IdStrategy from \"@/element/repeat/IdStrategy\";\nimport { uuidV4 } from \"@/util/UuidUtils\";\nimport { isDefined } from \"@/util/ObjectUtils\";\n\nclass GeneratedIdStrategyImpl implements IdStrategy {\n\n\tprivate idKey: string;\n\n\tconstructor(idKey: string) {\n\t\tthis.idKey = idKey;\n\t}\n\n\tpublic check(item: any): boolean {\n\t\treturn isDefined(item[this.idKey]);\n\t}\n\n\tpublic enrich(item: any, index: number): void {\n\t\titem[this.idKey] = uuidV4();\n\t}\n\n\tpublic extract(item: any): string {\n\t\treturn item[this.idKey] + \"\";\n\t}\n\n\tpublic init(): void {\n\t\t// Intentionally do nothing\n\t}\n\n}\n\nexport default GeneratedIdStrategyImpl;\n","const CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\n\nfunction uuidV4() {\n\tconst chars = CHARS;\n\tconst uuid = new Array(36);\n\tlet rnd=0;\n\tlet r = null;\n\n\tfor (let i: number = 0; i < 36; i++) {\n\t\tif (i === 8 || i === 13 || i === 18 || i === 23) {\n\t\t\tuuid[i] = '-';\n\t\t} else if (i === 14) {\n\t\t\tuuid[i] = '4';\n\t\t} else {\n\t\t\tif (rnd <= 0x02) {\n\t\t\t\trnd = 0x2000000 + (Math.random()*0x1000000)|0;\n\t\t\t}\n\n\t\t\tr = rnd & 0xf;\n\t\t\trnd = rnd >> 4;\n\t\t\tuuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r];\n\t\t}\n\t}\n\n\treturn uuid.join('');\n}\n\nexport { uuidV4 };\n","import IdStrategy from \"@/element/repeat/IdStrategy\";\nimport { isDefined } from \"@/util/ObjectUtils\";\n\nclass NoneIdStrategyImpl implements IdStrategy {\n\n\tprivate idKey: string;\n\n\tconstructor(idKey: string) {\n\t\tthis.idKey = idKey;\n\t}\n\n\tpublic check(item: any): boolean {\n\t\treturn isDefined(item[this.idKey]);\n\t}\n\n\tpublic enrich(item: any, index: number): void {\n\t\tthrow new Error(\"Missing id in field \" + this.idKey + \" for item at index \" + index\n\t\t\t+ \".  All repeat items must include a string convertable id to be repeated.\");\n\t}\n\n\tpublic extract(item: any): string {\n\t\treturn item[this.idKey] + \"\";\n\t}\n\n\tpublic init(): void {\n\t\t// Intentionally do nothing\n\t}\n\n}\n\nexport default NoneIdStrategyImpl;\n","import ComponentFactory from \"@/element/repeat/ComponentFactory\";\nimport Nestable from \"@/component/Nestable\";\nimport UtilityComponent from \"@/element/repeat/UtilityComponent\";\nimport Module from \"@/module/Module\";\n\nclass UtilityComponentFactoryImpl implements ComponentFactory {\n\n\tprivate template: string;\n\n\tprivate prefix: string;\n\n\tprivate parent: Nestable;\n\n\tprivate parentId: string;\n\n\tprivate parentModelFn: () => any;\n\n\tprivate module: Module;\n\n\tconstructor(module: Module, template: string, prefix: string, parent: Nestable, parentId: string, parentModelFn: () => any) {\n\t\tthis.module = module;\n\t\tthis.template = template;\n\t\tthis.prefix = prefix;\n\t\tthis.parent = parent;\n\t\tthis.parentId = parentId;\n\t\tthis.parentModelFn = parentModelFn;\n\t}\n\n\tpublic create(): Nestable {\n\t\treturn new UtilityComponent(this.module, this.template, this.prefix, this.parent, this.parentId, this.parentModelFn);\n\t}\n\n}\n\nexport default UtilityComponentFactoryImpl;\n","import Component from \"@/component/Component\";\nimport Nestable from \"@/component/Nestable\";\nimport { ComponentConfigImpl } from \"@/component/ComponentConfig\";\nimport { INTERNAL_DIRECT_CHANNEL_NAME } from \"@/constant/Constants\";\nimport Module from \"@/module/Module\";\n\nclass UtilityComponent extends Component {\n\n\tconstructor(module: Module, template: string, prefix: string, parent: Nestable, parentId: string, parentModelFn: () => any) {\n\t\tconst config: ComponentConfigImpl = new ComponentConfigImpl();\n\t\tconfig.withPrefix(prefix);\n\t\tconfig.setParentModelFn(parentModelFn);\n\t\tconfig.setModule(module);\n\t\tsuper(template, config);\n\t\tthis.message(INTERNAL_DIRECT_CHANNEL_NAME, \"skipId\", parentId);\n\t\tthis.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setMode\", \"repeatable\");\n\t\tthis.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParent\", parent);\n\t}\n\n}\n\nexport default UtilityComponent;\n","import Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport { INTERNAL_DIRECT_CHANNEL_NAME, EMPTY_OBJECT_FN } from \"@/constant/Constants\";\nimport Nestable from \"@/component/Nestable\";\nimport ComponentInternals from \"@/component/ComponentInternals\";\nimport { isDefined } from \"@/util/ObjectUtils\";\n\nclass Region {\n\n\tprivate logger: Logger;\n\n\tprivate defaultEl: HTMLElement;\n\n\tprivate component: Nestable;\n\n\tprivate parent: ComponentInternals;\n\n\tprivate name: string;\n\n\tprivate itemFn: () => any;\n\n\tprivate expression: string;\n\n\tconstructor(name: string, parent: ComponentInternals) {\n\t\tthis.logger = LoggerFactory.getLogger(\"Region \" + this.name + \" for \" + parent.getId());\n\t\tthis.itemFn = EMPTY_OBJECT_FN;\n\t\tthis.defaultEl = null;\n\t\tthis.component = null;\n\t\tthis.parent = parent;\n\t\tthis.name = name;\n\t\tthis.expression = null;\n\t}\n\n\tpublic setDefaultEl(defaultEl: HTMLElement): void {\n\t\tthis.defaultEl = defaultEl;\n\t}\n\n\tpublic hasExpression(): boolean {\n\t\treturn isDefined(this.expression);\n\t}\n\n\tpublic setExpression(expression: string): void {\n\t\tthis.itemFn = isDefined(expression)\n\t\t\t? () => this.parent.evaluate(expression)\n\t\t\t: EMPTY_OBJECT_FN;\n\n\t\tthis.expression = expression;\n\n\t\tthis.syncComponentMode();\n\t}\n\n\tpublic getComponent<N extends Nestable>(): N {\n\t\treturn this.component as N;\n\t}\n\n\tpublic setComponent(component: Nestable): void {\n\t\tif (this.component === component) {\n\t\t\tthis.logger.trace(\"Component unchanged, so not setting.\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (isDefined(component)) {\n\t\t\tthis.logger.ifTrace(() => \"Setting component \" + component.getId());\n\t\t}\n\n\t\tif (isDefined(this.component)) {\n\t\t\tthis.component.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setItemFn\", EMPTY_OBJECT_FN);\n\t\t\tthis.component.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setMode\", \"\");\n\t\t}\n\n\t\tif (isDefined(component)) {\n\t\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setItemFn\", this.itemFn);\n\t\t}\n\n\t\tif (isDefined(component) && !isDefined(this.component)) {\n\t\t\t// Component being set, no existing component\n\t\t\tthis.component = component;\n\t\t\tconst newComponentEl: HTMLElement = component.getEl();\n\t\t\tconst parentElement: HTMLElement = this.defaultEl.parentElement;\n\t\t\tthis.component.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParent\", this.parent.getComponent());\n\t\t\tparentElement.replaceChild(newComponentEl, this.defaultEl);\n\t\t} else if (!isDefined(component) && isDefined(this.component)) {\n\t\t\t// Component being nulled, existing component present\n\t\t\tthis.component.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParent\", null);\n\t\t\tconst oldComponentEl: HTMLElement = this.component.getEl();\n\t\t\tthis.component = null;\n\t\t\tconst parentElement: HTMLElement = oldComponentEl.parentElement;\n\t\t\tparentElement.replaceChild(this.defaultEl, oldComponentEl);\n\t\t} else if (isDefined(component) && isDefined(this.component)) {\n\t\t\t// Component being set, existing component present\n\t\t\tthis.component.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParent\", null);\n\t\t\tconst newComponentEl: HTMLElement = component.getEl();\n\t\t\tconst oldComponentEl: HTMLElement = this.component.getEl();\n\t\t\tconst parentElement: HTMLElement = oldComponentEl.parentElement;\n\t\t\tthis.component = component;\n\t\t\tthis.component.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParent\", this.parent.getComponent());\n\t\t\tparentElement.replaceChild(newComponentEl, oldComponentEl);\n\t\t}\n\n\t\tthis.syncComponentMode();\n\t}\n\n\tpublic message(channelName: string, messageName: string, payload: any): void {\n\t\tif (isDefined(this.component)) {\n\t\t\tthis.component.message(channelName, messageName, payload);\n\t\t}\n\t}\n\n\tpublic hasComponent(): boolean {\n\t\treturn isDefined(this.component);\n\t}\n\n\tpublic dispose() {\n\t\tif (isDefined(this.component)) {\n\t\t\tthis.component.dispose();\n\t\t}\n\n\t\tthis.setComponent(null);\n\t}\n\n\tprivate syncComponentMode(): void {\n\t\tif (isDefined(this.component)) {\n\t\t\tif (isDefined(this.expression)) {\n\t\t\t\tthis.component.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setMode\", \"repeatable\");\n\t\t\t} else {\n\t\t\t\tthis.component.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setMode\", \"\");\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nexport default Region;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass UnknownRegionError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default UnknownRegionError;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass SetComponentError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default SetComponentError;\n","import Getter from \"@/model/Getter\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport Setter from \"@/model/Setter\";\n\nclass ExternalMediator<T> {\n\n\tprivate getter: Getter<T>;\n\n\tprivate setter: Setter<T>;\n\n\tconstructor(expression: string) {\n\t\tthis.getter = new Getter(expression);\n\t\tthis.setter = new Setter(expression);\n\t}\n\n\tpublic get(scope: ScopeImpl): T {\n\t\treturn this.getter.get(scope);\n\t}\n\n\tpublic set(scope: ScopeImpl, value: T): void {\n\t\tthis.setter.set(scope, value);\n\t}\n\n}\n\nexport default ExternalMediator;\n","import Mvvm from \"@/mvvm/Mvvm\";\nimport Logger from \"@/logger/Logger\";\nimport Region from \"@/component/Region\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport { INTERNAL_DIRECT_CHANNEL_NAME, TEXT_NODE_TYPE } from \"@/constant/Constants\";\nimport ModelMediatorImpl from \"@/model/ModelMediatorImpl\";\nimport ModelMediator from \"@/model/ModelMediator\";\nimport MalformedOnEventError from \"@/error/MalformedOnEventError\";\nimport Module from \"@/module/Module\";\nimport ElementMediator from \"@/element/ElementMediator\";\nimport ComponentInternals from \"@/component/ComponentInternals\";\nimport Nestable from \"@/component/Nestable\";\nimport TemplateError from \"@/error/TemplateError\";\nimport ExternalAttributeDetail from \"@/model/ExternalAttributeDetail\";\nimport Properties from \"@/config/Properties\";\nimport TextElementMediator from \"@/element/TextElementMediator\";\nimport EventElementMediator from \"@/element/EventElementMediator\";\nimport AttributeElementMediator from \"@/element/AttributeElementMediator\";\nimport Factories from \"@/mvvm/Factories\";\nimport MediatorSource from \"@/mvvm/MediatorSource\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport DigestionCandidateConsumer from \"@/mvvm/DigestionCandidateConsumer\";\nimport DigestionCandidate from \"@/mvvm/DigestionCandidate\";\nimport DirectEvents from \"@/constant/DirectEvents\";\nimport ElementMediatorDependencies from \"@/element/ElementMediatorDependencies\";\nimport Type from \"@/type/Type\";\nimport { isDefined, requireNotNull } from \"@/util/ObjectUtils\";\nimport UnknownComponentError from \"@/error/UnknownComponentError\";\nimport Digester from \"@/mvvm/Digester\";\nimport DigesterImpl from \"@/mvvm/DigesterImpl\";\nimport Messagable from \"@/message/Messagable\";\nimport { createCommentOffDom, createTextNodeOffDom } from \"@/util/DomUtils\";\n\nclass MvvmImpl implements Mvvm {\n\n\tprivate logger: Logger;\n\n\tprivate el: HTMLElement;\n\n\tprivate elementMediators: ElementMediator<any, HTMLElement | Text, any>[];\n\n\tprivate mediators: ModelMediatorImpl<any>[];\n\n\tprivate propagatingElementMediators: ElementMediator<any, HTMLElement | Text, any>[];\n\n\tprivate model: any;\n\n\tprivate parent: ComponentInternals;\n\n\tprivate moduleInstance: Module;\n\n\tprivate elementMediatorPrefix: string;\n\n\tprivate eventElementMediatorPrefix: string;\n\n\tprivate externalAttributePrefix: string;\n\n\tprivate regionPrefix: string;\n\n\tprivate namePrefix: string;\n\n\tprivate componentPrefix: string;\n\n\tprivate components: Nestable[];\n\n\tprivate scope: ScopeImpl;\n\n\tprivate id: string;\n\n\tprivate namedElements: SimpleMap<HTMLElement>;\n\n\tprivate regionLookupFn: (name: string) => Region;\n\n\tprivate modelFn: () => any;\n\n\tprivate itemFn: () => any;\n\n\tprivate externalFn: () => any;\n\n\tprivate digester: Digester;\n\n\tconstructor(id: string, model: any, moduleInstance: Module, prefix: string, scope: ScopeImpl, parentModelFn: () => any) {\n\t\tthis.id = requireNotNull(id, \"id\");\n\t\tthis.elementMediatorPrefix = prefix + \":\";\n\t\tthis.eventElementMediatorPrefix = prefix + \":on\";\n\t\tthis.externalAttributePrefix = prefix + \":property-\";\n\t\tthis.regionPrefix = prefix + \":region\";\n\t\tthis.namePrefix = prefix + \":name\";\n\t\tthis.componentPrefix = prefix + \":component\";\n\t\tthis.logger = LoggerFactory.getLogger(\"Mvvm \" + this.id);\n\t\tthis.propagatingElementMediators = [];\n\t\tthis.scope = new ScopeImpl(false);\n\t\tthis.scope.setParent(scope);\n\t\tthis.elementMediators = [];\n\t\tthis.namedElements = {};\n\t\tthis.mediators = [];\n\t\tthis.model = model;\n\t\tthis.moduleInstance = moduleInstance;\n\t\tthis.components = [];\n\t\tthis.digester = new DigesterImpl(this, this.id, () => this.parent.getComponent().constructor.name, () => this.components);\n\n\t\tconst localModelFn: () => any = () => this.model;\n\t\tthis.modelFn = parentModelFn ? parentModelFn : localModelFn;\n\t\tthis.itemFn = () => this.parent.getData();\n\t\tthis.externalFn = () => this.parent.getExternalCache();\n\n\t\tthis.scope.add(\"m\", this.modelFn);\n\t\tthis.scope.add(\"model\", this.modelFn);\n\t\tthis.scope.add(\"i\", this.itemFn);\n\t\tthis.scope.add(\"item\", this.itemFn);\n\t\tthis.scope.add(\"v\", this.itemFn);\n\t\tthis.scope.add(\"value\", this.itemFn);\n\t\tthis.scope.add(\"e\", this.externalFn);\n\t\tthis.scope.add(\"external\", this.externalFn);\n\t}\n\n\tpublic init(el: HTMLElement, parent: ComponentInternals, regionLookupFn: (name: string) => Region): void {\n\t\tthis.el = el;\n\t\tthis.parent = parent;\n\t\tthis.regionLookupFn = regionLookupFn;\n\t\tthis.validateEl();\n\t\tthis.populateElementMediators();\n\t}\n\n\tpublic nestingChanged(): void {\n\t\tfor (const elementMediator of this.elementMediators) {\n\t\t\telementMediator.message(INTERNAL_DIRECT_CHANNEL_NAME, DirectEvents.NESTING_CHANGED);\n\t\t}\n\n\t\tfor (const component of this.components) {\n\t\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, DirectEvents.NESTING_CHANGED);\n\t\t}\n\t}\n\n\tpublic dispose(): void {\n\t\tfor (const elementMediator of this.elementMediators) {\n\t\t\telementMediator.dispose();\n\t\t}\n\n\t\tthis.elementMediators = [];\n\t\tthis.components = [];\n\n\t\tfor (const component of this.components) {\n\t\t\tcomponent.dispose();\n\t\t}\n\n\t\tthis.parent = null;\n\t\tthis.namedElements = null;\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.id;\n\t}\n\n\tpublic getNamedElement<E extends HTMLElement>(name: string): E {\n\t\tconst element: E = this.namedElements[name] as E;\n\t\treturn (element === undefined) ? null : element;\n\t}\n\n\tpublic mediate<T>(expression: string, reducerFn?: (input: any) => T): ModelMediator<T> {\n\t\tconst mediator: ModelMediator<T> = new ModelMediatorImpl<T>(this.model, expression, this.scope, this, reducerFn);\n\t\tthis.mediators.push(mediator as ModelMediatorImpl<any>);\n\n\t\treturn mediator;\n\t}\n\n\tpublic getScope(): ScopeImpl {\n\t\treturn this.scope;\n\t}\n\n\tpublic digest(): void {\n\t\tif (this.parent.getFlags().repeatable) {\n\t\t\tthis.parent.getParent().message(INTERNAL_DIRECT_CHANNEL_NAME, \"digest\");\n\t\t} else {\n\t\t\tthis.digester.digest();\n\t\t}\n\t}\n\n\tpublic requestMediators(consumer: DigestionCandidateConsumer): void {\n\t\tif (this.parent.hasExternalMediators()) {\n\t\t\tconst mediators: DigestionCandidate[] = [];\n\n\t\t\tmediators.push({\n\t\t\t\tevaluate: () => {\n\t\t\t\t\tthis.parent.importExternals();\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tnotify: () => {\n\t\t\t\t\t// Intentionally do nothing\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (const mediator of this.mediators) {\n\t\t\t\tmediators.push(mediator);\n\t\t\t}\n\n\t\t\tmediators.push({\n\t\t\t\tevaluate: () => {\n\t\t\t\t\tthis.parent.exportExternals();\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tnotify: () => {\n\t\t\t\t\t// Intentionally do nothing\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconsumer.add(this.getId(), mediators);\n\t\t} else {\n\t\t\tconsumer.add(this.getId(), this.mediators);\n\t\t}\n\t}\n\n\tpublic requestMediatorSources(sources: MediatorSource[]): void {\n\t\tif (this.parent.hasExternalMediators() || this.parent.getFlags().repeatable) {\n\t\t\tif (isDefined(this.parent.getParent())) {\n\t\t\t\tthis.parent.getParent().message(INTERNAL_DIRECT_CHANNEL_NAME, \"consumeDigestionCandidates\", sources);\n\t\t\t}\n\t\t}\n\n\t\tthis.parent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"consumeRegionDigestionCandidates\", sources);\n\n\t\tfor (const source of this.propagatingElementMediators) {\n\t\t\tsources.push(source);\n\t\t}\n\t}\n\n\tpublic getParent(): ComponentInternals {\n\t\treturn this.parent;\n\t}\n\n\tpublic $apply(fn: Function, args: any[]): any {\n\t\tlet result: any = null;\n\n\t\ttry {\n\t\t\tthis.parent.importExternals();\n\t\t} catch (e) {\n\t\t\tthis.logger.error(\"Error importing externals\");\n\t\t}\n\n\t\tresult = fn.apply(this.model, args);\n\n\t\ttry {\n\t\t\tthis.parent.exportExternals();\n\t\t} catch (e) {\n\t\t\tthis.logger.error(\"Error exporting externals\");\n\t\t}\n\n\t\tthis.digest();\n\n\t\treturn result;\n\t}\n\n\tpublic getModelFn(): () => any {\n\t\treturn this.modelFn;\n\t}\n\n\tpublic getItemFn(): () => any {\n\t\treturn this.itemFn;\n\t}\n\n\tpublic getExternalFn(): () => any {\n\t\treturn this.externalFn;\n\t}\n\n\tpublic skipId(id: string): void {\n\t\tthis.digester.skipId(id);\n\t}\n\n\tpublic getMessagables(): Messagable[] {\n\t\treturn this.components;\n\t}\n\n\tprivate validateEl(): void {\n\t\tif (this.el.tagName.toLowerCase() === this.componentPrefix.toLowerCase()) {\n\t\t\tthrow new TemplateError(\"Templates must not have a component tag as the top level tag.\");\n\t\t}\n\t}\n\n\tprivate populateElementMediators(): void {\n\t\tconst queue: HTMLElement[] = [this.el];\n\n\t\twhile (queue.length > 0) {\n\t\t\tthis.processChild(queue);\n\t\t}\n\t}\n\n\tprivate processChild(queue: HTMLElement[]): void {\n\t\tconst el: HTMLElement = queue.pop();\n\t\tconst EVT_NAME_ERR = \"Event expressor \\'%eventName%\\' MUST correspond to a valid event in the target environment: \\'\";\n\t\tconst regex = /^[A-Za-z]+$/;\n\t\tconst elName: string = el.tagName.toLowerCase();\n\n\t\tif (elName === this.regionPrefix) {\n\t\t\tconst regionName: string = el.getAttribute(\"name\");\n\t\t\tconst valueExpression: string = el.getAttribute(\"value\") || null;\n\t\t\tconst region: Region = this.regionLookupFn(regionName);\n\t\t\tregion.setDefaultEl(el as HTMLElement);\n\t\t\tregion.setExpression(valueExpression);\n\t\t\treturn;\n\t\t} else if (elName === this.componentPrefix) {\n\t\t\tconst componentName: string = el.getAttribute(\"name\");\n\t\t\tconst moduleName: string = el.getAttribute(\"module\");\n\t\t\tconst moduleToUse: Module = moduleName ? this.moduleInstance.getModule(moduleName) : this.moduleInstance;\n\t\t\tconst component: Nestable = (moduleToUse || this.moduleInstance).get(componentName);\n\n\t\t\tif (!isDefined(component)) {\n\t\t\t\tthrow new UnknownComponentError(\"Unknown component \" + componentName + \" referenced in component \" + this.parent.getComponent().constructor.name);\n\t\t\t}\n\n\t\t\tel.parentElement.replaceChild(component.getEl(), el);\n\n\t\t\tfor (let i = el.attributes.length - 1; i >= 0; i--) {\n\t\t\t\tconst attributeName: string = el.attributes[i].name.toLowerCase();\n\t\t\t\tconst attributeValue: string = el.attributes[i].value;\n\n\t\t\t\tif (attributeName.indexOf(this.externalAttributePrefix) === 0) {\n\t\t\t\t\tconst propertyName: string = attributeName.substr(this.externalAttributePrefix.length);\n\t\t\t\t\tconst detail: ExternalAttributeDetail = {\n\t\t\t\t\t\tattributeName: propertyName,\n\t\t\t\t\t\texpression: attributeValue\n\t\t\t\t\t};\n\n\t\t\t\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"addExternalAttribute\", detail);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParentScope\", this.scope);\n\t\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParent\", this.parent.getComponent());\n\t\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setMode\", \"repeatable\");\n\t\t\tthis.components.push(component);\n\t\t\treturn;\n\t\t}\n\n\t\t// tslint:disable-next-line\n\t\tfor (let i = 0; i < el.children.length; i++) {\n\t\t\tqueue.push(el.children[i] as HTMLElement);\n\t\t}\n\n\t\tthis.processTextChildren(el.childNodes);\n\n\t\tconst attributes: NamedNodeMap = el.attributes;\n\t\tconst length: number = attributes.length;\n\t\tconst names: string[] = [];\n\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tnames.push(attributes[i].name);\n\t\t}\n\n\t\tfor (const name of names) {\n\t\t\tconst expression: string = el.getAttribute(name);\n\n\t\t\tif (name.indexOf(this.eventElementMediatorPrefix) === 0) {\n\t\t\t\tconst eventName: string = name.substr(this.eventElementMediatorPrefix.length);\n\n\t\t\t\tif (!regex.test(eventName)) {\n\t\t\t\t\tthrow new MalformedOnEventError(EVT_NAME_ERR, { \"%eventName%\": eventName });\n\t\t\t\t}\n\n\t\t\t\tthis.addEventElementMediator(eventName.toLowerCase(), this.trimExpression(expression), el as HTMLElement);\n\t\t\t\tel.removeAttribute(name);\n\t\t\t} else if (name.indexOf(this.namePrefix) === 0) {\n\t\t\t\tconst namedElementName: string = el.getAttribute(name);\n\t\t\t\tthis.namedElements[namedElementName] = el;\n\t\t\t\tel.removeAttribute(name);\n\t\t\t} else if (name.indexOf(this.elementMediatorPrefix) === 0) {\n\t\t\t\tconst elementMediatorType: string = name.substr(this.elementMediatorPrefix.length);\n\t\t\t\tthis.addElementMediator(el.tagName.toLowerCase(), elementMediatorType, this.trimExpression(expression), el as HTMLElement);\n\t\t\t\tel.removeAttribute(name);\n\t\t\t} else if (expression.length > 4 && expression.indexOf(\"{{\") === 0 && expression.indexOf(\"}}\", expression.length - 2) !== -1) {\n\t\t\t\tthis.addAttributeElementMediator(name, this.trimExpression(expression), el as HTMLElement);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate processTextChildren(children: NodeListOf<ChildNode>): void {\n\t\tconst discoveredNodes: ChildNode[] = [];\n\n\t\t// tslint:disable-next-line\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst child: ChildNode = children[i];\n\n\t\t\tif (TEXT_NODE_TYPE === child.nodeType) {\n\t\t\t\tdiscoveredNodes.push(child);\n\t\t\t}\n\t\t}\n\n\t\tfor (const node of discoveredNodes) {\n\t\t\tconst result: Node[] = this.splitChild(node);\n\n\t\t\tif (result.length > 1) {\n\t\t\t\tfor (const newNode of result) {\n\t\t\t\t\tnode.parentNode.insertBefore(newNode, node);\n\t\t\t\t}\n\n\t\t\t\tnode.remove();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate trimExpression(input: string): string {\n\t\tconst result: string = (input.length > 4 && input.indexOf(\"{{\") === 0 && input.indexOf(\"}}\", input.length - 2) !== -1)\n\t\t\t? input.substring(2, input.length - 2)\n\t\t\t: input;\n\n\t\treturn result;\n\t}\n\n\tprivate splitChild(node: Node): Node[] {\n\t\tconst source: string = node.textContent || \"\";\n\t\tconst sections: string[] = source.split(/(\\{\\{|\\}\\})/);\n\n\t\tif (sections.length < 2) {\n\t\t\treturn [node];\n\t\t}\n\n\t\tlet inside: boolean = false;\n\n\t\tconst collected: Node[] = [];\n\n\t\tfor (const section of sections) {\n\t\t\tswitch (section) {\n\t\t\t\tcase \"{{\":\n\t\t\t\t\tinside = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"}}\":\n\t\t\t\t\tinside = false;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (inside) {\n\t\t\t\t\t\tconst beginComment: Comment = createCommentOffDom(\"#\");\n\t\t\t\t\t\tcollected.push(beginComment);\n\t\t\t\t\t\tconst textNode: Text = createTextNodeOffDom(section);\n\t\t\t\t\t\ttextNode.textContent = \"\";\n\t\t\t\t\t\tthis.addTextElementMediator(section, textNode);\n\t\t\t\t\t\tcollected.push(textNode);\n\t\t\t\t\t\tconst endComment: Comment = createCommentOffDom(\"#\");\n\t\t\t\t\t\tcollected.push(endComment);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst textNode: Text = createTextNodeOffDom(section);\n\t\t\t\t\t\tcollected.push(textNode);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn collected;\n\t}\n\n\tprivate addTextElementMediator(expression: string, el: Text): void {\n\t\tconst deps: ElementMediatorDependencies = {\n\t\t\tmvvm: this,\n\t\t\tparent: this.parent,\n\t\t\tel: el,\n\t\t\texpression: expression,\n\t\t\tmodel: this.model,\n\t\t\tprefix: \"Text\",\n\t\t\tmodule: this.moduleInstance\n\t\t};\n\n\t\tconst elementMediator: TextElementMediator = new TextElementMediator(deps);\n\t\telementMediator.init();\n\t\tthis.elementMediators.push(elementMediator);\n\t}\n\n\tprivate addEventElementMediator(eventName: string, expression: string, el: HTMLElement): void {\n\t\tconst deps: ElementMediatorDependencies = {\n\t\t\tmvvm: this,\n\t\t\tparent: this.parent,\n\t\t\tel: el,\n\t\t\texpression: expression,\n\t\t\tmodel: this.model,\n\t\t\tprefix: \"Event\",\n\t\t\tmodule: this.moduleInstance\n\t\t};\n\n\t\tconst elementMediator: EventElementMediator = new EventElementMediator(deps);\n\t\telementMediator.setEventKey(eventName);\n\t\telementMediator.init();\n\t\tthis.elementMediators.push(elementMediator);\n\t}\n\n\tprivate addAttributeElementMediator(attributeName: string, expression: string, el: HTMLElement): void {\n\t\tconst deps: ElementMediatorDependencies = {\n\t\t\tmvvm: this,\n\t\t\tparent: this.parent,\n\t\t\tel: el,\n\t\t\texpression: expression,\n\t\t\tmodel: this.model,\n\t\t\tprefix: \"Event\",\n\t\t\tmodule: this.moduleInstance\n\t\t};\n\n\t\tconst elementMediator: AttributeElementMediator = new AttributeElementMediator(deps);\n\t\telementMediator.setAttributeName(attributeName);\n\t\telementMediator.init();\n\t\tthis.elementMediators.push(elementMediator);\n\t}\n\n\tprivate addElementMediator(tag: string, elementMediatorType: string, attributeValue: string, el: HTMLElement): void {\n\t\tconst tags: SimpleMap<Type<ElementMediator<any, HTMLElement, any>>> = Factories.get(elementMediatorType);\n\t\tconst prefix: string = this.elementMediatorPrefix + elementMediatorType;\n\n\t\tlet elementMediator: ElementMediator<any, HTMLElement, any> = null;\n\n\t\tif (!tags) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet elementMediatorClass: Type<ElementMediator<any, HTMLElement, any>> = tags[tag];\n\n\t\tif (!elementMediatorClass) {\n\t\t\telementMediatorClass = tags[\"*\"];\n\t\t}\n\n\t\tif (!elementMediatorClass) {\n\t\t\tthis.logger.error(\"Unsupported tag: \" + tag + \" for elementMediator \" + elementMediatorType + \".\");\n\t\t\treturn;\n\t\t}\n\n\t\tconst deps: ElementMediatorDependencies = {\n\t\t\tmvvm: this,\n\t\t\tparent: this.parent,\n\t\t\tel: el,\n\t\t\texpression: attributeValue,\n\t\t\tmodel: this.model,\n\t\t\tprefix: prefix,\n\t\t\tmodule: this.moduleInstance\n\t\t};\n\n\t\telementMediator = new elementMediatorClass(deps);\n\t\telementMediator.init();\n\n\t\tthis.elementMediators.push(elementMediator);\n\n\t\tif (elementMediator.hasPropagation()) {\n\t\t\tthis.propagatingElementMediators.push(elementMediator);\n\t\t}\n\t}\n\n}\n\nexport default MvvmImpl;\n","import Getter from \"@/model/Getter\";\nimport Invoker from \"@/model/Invoker\";\nimport Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport ModelMediator from \"@/model/ModelMediator\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport Setter from \"@/model/Setter\";\nimport Mvvm from \"@/mvvm/Mvvm\";\nimport { asIdentity } from \"@/model/Reducers\";\nimport { isDefined, requireNotNull, equals, clone } from \"@/util/ObjectUtils\";\n\nclass ModelMediatorImpl<T> implements ModelMediator<T> {\n\n\tprivate logger: Logger;\n\n\tprivate model: any;\n\n\tprivate expression: string;\n\n\tprivate previous: T;\n\n\tprivate watchPrevious: T;\n\n\tprivate watchCurrent: T;\n\n\tprivate watchDispatchPending: boolean;\n\n\tprivate scope: ScopeImpl;\n\n\tprivate context: any;\n\n\tprivate digested: boolean = false;\n\n\tprivate target: (previous: T, current: T) => void;\n\n\tprivate invoker: Invoker;\n\n\tprivate getter: Getter<T>;\n\n\tprivate setter: Setter<T>;\n\n\tprivate mvvm: Mvvm;\n\n\tprivate reducerFn: (input: any) => T;\n\n\tconstructor(model: any, expression: string, scope: ScopeImpl, mvvm: Mvvm, reducerFn: (input: any) => T) {\n\t\tthis.reducerFn = isDefined(reducerFn) ? reducerFn : asIdentity;\n\t\tthis.model = requireNotNull(model, \"model\");\n\t\tthis.expression = requireNotNull(expression, \"expression\");\n\t\tthis.scope = requireNotNull(scope, \"scope\");\n\t\tthis.mvvm = requireNotNull(mvvm, \"mvvm\");\n\t\tthis.logger = LoggerFactory.getLogger(\"ModelMediator: \" + expression);\n\t\tthis.previous = null;\n\t\tthis.context = {};\n\t\tthis.target = null;\n\t\t// this.watchDispatchPending = false;\n\t\tthis.invoker = new Invoker(expression);\n\t\tthis.getter = new Getter(expression);\n\t\tthis.setter = new Setter(expression);\n\t}\n\n\tpublic invoke(params?: any): void {\n\t\tthis.invoker.invoke(this.scope, params || {});\n\t}\n\n\tpublic get(): T {\n\t\treturn this.reducerFn.apply({}, [this.getter.get(this.scope)]);\n\t}\n\n\tpublic set(value: T): void {\n\t\tthis.setter.set(this.scope, value);\n\t}\n\n\tpublic evaluate(): boolean {\n\t\tif (!this.target) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet changed: boolean = false;\n\t\tconst value: T = this.get();\n\n\t\tif (this.digested) {\n\t\t\tif (equals(this.previous, value)) {\n\t\t\t\tthis.logger.ifTrace(() => ({message: \"Not different.\", value: value}));\n\t\t\t} else {\n\t\t\t\tif (this.logger.isTrace()) {\n\t\t\t\t\tthis.logger.trace({ current: value, previous: this.previous });\n\t\t\t\t}\n\n\t\t\t\tthis.logger.trace(\"Invoking listener\");\n\t\t\t\tthis.swap(value);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.swap(value);\n\t\t\tchanged = true;\n\t\t\tthis.digested = true;\n\t\t}\n\n\t\treturn changed;\n\t}\n\n\tpublic notify(): void {\n\t\tif (this.watchDispatchPending) {\n\t\t\tthis.mvvm.getParent().importExternals();\n\t\t\tthis.target.apply(this.context, [this.watchPrevious, this.watchCurrent]);\n\t\t\tthis.mvvm.getParent().exportExternals();\n\t\t\tthis.watchDispatchPending = false;\n\t\t}\n\t}\n\n\tpublic watch(context: any, target: (previous: T, current: T) => void): void {\n\t\tthis.context = requireNotNull(context, \"context\");\n\t\tthis.target = requireNotNull(target, \"target\");\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.model = null;\n\t\tthis.mvvm = null;\n\t\tthis.previous = null;\n\t\tthis.context = null;\n\t\tthis.target = null;\n\t\tthis.watchPrevious = null;\n\t\tthis.watchCurrent = null;\n\t\tthis.watchDispatchPending = false;\n\t}\n\n\tprotected getExpression(): string {\n\t\treturn this.expression;\n\t}\n\n\tprivate swap(value: T): void {\n\t\tconst newPrevious: T = clone(value);\n\t\tthis.watchPrevious = this.previous;\n\t\tthis.watchCurrent = value;\n\t\tthis.watchDispatchPending = true;\n\t\tthis.previous = newPrevious;\n\t}\n\n}\n\nexport default ModelMediatorImpl;\n","import Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\n\nclass Invoker {\n\n\tprivate expression: string;\n\n\tprivate logger: Logger;\n\n\tconstructor(expression: string) {\n\t\tthis.expression = expression;\n\t\tthis.logger = LoggerFactory.getLogger(\"Invoker: \" + expression);\n\t}\n\n\tpublic invoke(scope: ScopeImpl, params: any): void {\n\t\tconst aggregateScope: SimpleMap<any> = {};\n\t\tconst scopeItems: SimpleMap<any> = scope.getItems();\n\n\t\tfor (const key in scopeItems) {\n\t\t\tif (!scopeItems.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\taggregateScope[key] = scopeItems[key];\n\t\t}\n\n\t\tif (params !== null && params !== undefined) {\n\t\t\tfor (const key in params) {\n\t\t\t\tif (!params.hasOwnProperty(key)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\taggregateScope[key] = params[key];\n\t\t\t}\n\t\t}\n\n\t\tlet aggregateScopeCode: string = \"\";\n\n\t\tfor (const key in aggregateScope) {\n\t\t\tif (!aggregateScope.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst statement: string = \"var \" + key + \" = arguments[0]['\" + key + \"'];\\n\";\n\t\t\taggregateScopeCode += statement;\n\t\t}\n\n\t\tconst code: string = '\"use strict\"; ' + aggregateScopeCode + \" (\" + this.expression + \");\";\n\n\t\ttry {\n\t\t\tFunction(code).apply({}, [aggregateScope]);\n\t\t} catch (e) {\n\t\t\tthis.logInvocationError(code, e);\n\t\t}\n\t}\n\n\tprivate logInvocationError(code: string, e: Error) {\n\t\tthis.logger.error(\"\\nAn exception (\" + e.name + \") was thrown invoking the element mediator expression: \" + this.expression\n\t\t\t + \"\\n\\nIn context:\\n\" + code + \"\\n\\nException message: \" + e.message + \"\\n\\n\", e);\n\t}\n\n}\n\nexport default Invoker;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass MalformedOnEventError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default MalformedOnEventError;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport { asString } from \"@/model/Reducers\";\n\nclass TextElementMediator extends ElementMediator<string, Text, any> {\n\n\tconstructor(dependencies: any) {\n\t\tsuper(dependencies, false, asString);\n\t}\n\n\tpublic wire(): void {\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tprotected onTargetChange(previous: any, current: any): void {\n\t\tthis.getEl().textContent = current;\n\t}\n\n}\n\nexport default TextElementMediator;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport { asIdentity } from \"@/model/Reducers\";\n\nclass EventElementMediator extends ElementMediator<any, HTMLElement, any> {\n\n\tprivate eventKey: string;\n\n\tconstructor(dependencies: any) {\n\t\tsuper(dependencies, false, asIdentity);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tpublic handleEvent(event: Event): void {\n\t\tthis.$apply(() => {\n\t\t\tthis.getModelMediator().invoke({\n\t\t\t\tevent: event\n\t\t\t});\n\t\t}, [event]);\n\t}\n\n\tpublic wire(): void {\n\t\tthis.bridge(this.eventKey);\n\t\tthis.on(this.eventKey).forChannel(\"dom\").invoke(this.handleEvent);\n\t}\n\n\tpublic setEventKey(eventKey: string): void {\n\t\tthis.eventKey = eventKey;\n\t}\n\n}\n\nexport default EventElementMediator;\n","import ElementMediator from \"@/element/ElementMediator\";\nimport { asString } from \"@/model/Reducers\";\n\nclass AttributeElementMediator extends ElementMediator<string, HTMLElement, any> {\n\n\tprivate attributeName: string;\n\n\tconstructor(dependencies: any) {\n\t\tsuper(dependencies, false, asString);\n\t}\n\n\tpublic wire(): void {\n\t\tthis.getModelMediator().watch(this, this.onTargetChange);\n\t}\n\n\tpublic unwire(): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tpublic setAttributeName(attributeName: string): void {\n\t\tthis.attributeName = attributeName;\n\t}\n\n\tprotected onTargetChange(previous: string, current: string): void {\n\t\tthis.getEl().setAttribute(this.attributeName, current);\n\t}\n\n}\n\nexport default AttributeElementMediator;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass UnknownComponentError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default UnknownComponentError;\n","import Digester from \"@/mvvm/Digester\";\nimport Logger from \"@/logger/Logger\";\nimport DigestionContext from \"@/mvvm/DigestionContext\";\nimport DigestionContextImpl from \"@/mvvm/DigestionContextImpl\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport MediatorSource from \"@/mvvm/MediatorSource\";\nimport { INTERNAL_DIRECT_CHANNEL_NAME } from \"@/constant/Constants\";\nimport Notifyable from \"@/mvvm/Notifyable\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport Messagable from \"@/message/Messagable\";\n\nconst MAX_EVALUATIONS: number = 10000;\n\nclass DigesterImpl implements Digester {\n\n\tprivate logger: Logger;\n\n\tprivate nameFn: () => string;\n\n\tprivate messagableSourceFn: () => Messagable[];\n\n\tprivate rootMediatorSource: MediatorSource;\n\n\tprivate skipableIds: string[];\n\n\tconstructor(rootMediatorSource: MediatorSource, id: string, nameFn: () => string, messagableSourceFn: () => Messagable[]) {\n\t\tthis.skipableIds = [];\n\t\tthis.rootMediatorSource = requireNotNull(rootMediatorSource, \"rootMediatorSource\");\n\t\tthis.nameFn = requireNotNull(nameFn, \"nameFn\");\n\t\tthis.messagableSourceFn = requireNotNull(messagableSourceFn, \"messagableSourceFn\");\n\t\tthis.logger = LoggerFactory.getLogger(\"Digester \" + id);\n\t}\n\n\tpublic skipId(id: string): void {\n\t\tif (id !== null && id !== undefined) {\n\t\t\tthis.skipableIds.push(id);\n\t\t}\n\t}\n\n\tpublic digest(): void {\n\t\tthis.logger.ifTrace(() => \"Started digest on \" + this.nameFn());\n\t\tlet remainingEvaluations: number = MAX_EVALUATIONS;\n\t\tlet pending: boolean = true;\n\n\t\twhile (pending && remainingEvaluations > 0) {\n\t\t\tthis.logger.trace(\"Top digest loop\");\n\t\t\tremainingEvaluations--;\n\n\t\t\tconst context: DigestionContext = new DigestionContextImpl();\n\t\t\tthis.populate(context);\n\n\t\t\tconst changedMediators: Notifyable[] = context.digest();\n\n\t\t\tif (changedMediators.length === 0) {\n\t\t\t\tpending = false;\n\t\t\t\tthis.logger.trace(\"Nothing to notify\");\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tfor (const changedMediator of changedMediators) {\n\t\t\t\tchangedMediator.notify();\n\t\t\t}\n\n\t\t\tthis.logger.trace(\"End digest loop\");\n\t\t}\n\t}\n\n\tprivate populate(context: DigestionContext): void {\n\t\tconst seen: SimpleMap<boolean> = {};\n\t\tconst sources: MediatorSource[] = [];\n\n\t\twhile (this.skipableIds.length > 0) {\n\t\t\tconst skipableId: string = this.skipableIds.pop();\n\n\t\t\tif (skipableId !== null) {\n\t\t\t\tseen[skipableId] = true;\n\t\t\t}\n\t\t}\n\n\t\tsources.push(this.rootMediatorSource);\n\n\t\tconst messagables: Messagable[] = this.messagableSourceFn();\n\n\t\tfor (const component of messagables) {\n\t\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"consumeDigestionCandidates\", sources);\n\t\t}\n\n\t\twhile (sources.length > 0) {\n\t\t\tconst source: MediatorSource = sources.pop();\n\t\t\tconst id: string = source.getId();\n\n\t\t\tif (id !== null && seen[id]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tseen[id] = true;\n\t\t\tsource.requestMediatorSources(sources);\n\t\t\tsource.requestMediators(context);\n\t\t}\n\t}\n\n}\n\nexport default DigesterImpl;\n","import DigestionCandidate from \"@/mvvm/DigestionCandidate\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport DigestionContext from \"@/mvvm/DigestionContext\";\nimport Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport Notifyable from \"@/mvvm/Notifyable\";\n\nclass DigestionContextImpl implements DigestionContext {\n\n\tprivate readonly logger: Logger = LoggerFactory.getLogger(\"DigestionContextImpl\");\n\n\tprivate mediators: SimpleMap<DigestionCandidate[]>;\n\n\tconstructor() {\n\t\tthis.mediators = {};\n\t}\n\n\tpublic add(key: string, mediators: DigestionCandidate[]): void {\n\t\tif (!this.mediators[key]) {\n\t\t\tthis.mediators[key] = [];\n\n\t\t\tfor (const mediator of mediators) {\n\t\t\t\tthis.mediators[key].push(mediator);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic digest(): Notifyable[] {\n\t\tconst changedMediators: DigestionCandidate[] = [];\n\n\t\tfor (const key in this.mediators) {\n\t\t\tif (!this.mediators.hasOwnProperty(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst current: DigestionCandidate[] = this.mediators[key];\n\t\t\tthis.digestSegment(changedMediators, current);\n\t\t}\n\n\t\treturn changedMediators;\n\t}\n\n\tprivate digestSegment(changedMediators: DigestionCandidate[], mediators: DigestionCandidate[]): void {\n\t\tfor (const mediator of mediators) {\n\t\t\tlet changed: boolean = false;\n\n\t\t\ttry {\n\t\t\t\tchanged = mediator.evaluate();\n\t\t\t} catch (e) {\n\t\t\t\tthis.logger.error(\"Error evaluating mediator: \" + mediator.constructor.name);\n\t\t\t}\n\n\t\t\tif (changed) {\n\t\t\t\tchangedMediators.push(mediator);\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nexport default DigestionContextImpl;\n","import NamedElementOperations from \"@/component/NamedElementOperations\";\n\nclass NamedElementOperationsImpl<E extends HTMLElement> implements NamedElementOperations<E> {\n\n\tprivate element: E;\n\n\tconstructor(element: E) {\n\t\tthis.element = element;\n\t}\n\n\tpublic get(): E {\n\t\treturn this.element;\n\t}\n\n\tpublic focus(): void {\n\t\tsetTimeout(() => {\n\t\t\tthis.element.focus();\n\t\t}, 1);\n\t}\n\n\tpublic blur(): void {\n\t\tsetTimeout(() => {\n\t\t\tthis.element.blur();\n\t\t}, 1);\n\t}\n\n}\n\nexport default NamedElementOperationsImpl;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass UnknownElementError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default UnknownElementError;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass ModuleAffinityError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default ModuleAffinityError;\n","import Module from \"@/module/Module\";\nimport Register from \"@/registry/Register\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport { Registry, RegistryImpl } from \"@/registry/Registry\";\nimport Broker from \"@/message/Broker\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport BrokerImpl from \"@/message/BrokerImpl\";\nimport Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport { MODULE_FIELD_NAME, INTERNAL_DIRECT_CHANNEL_NAME } from \"@/constant/Constants\";\nimport Listener from \"@/message/Listener\";\nimport ModulesContext from \"@/module/ModulesContext\";\nimport { VALID_ID } from \"@/constant/ValidationRegExp\";\nimport Scope from \"@/model/Scope\";\nimport RegistrationError from \"@/error/RegistrationError\";\nimport RegistryStrategy from \"@/registry/RegistryStrategy\";\nimport PubSub from \"@/message/PubSub\";\nimport PubSubImpl from \"@/message/PubSubImpl\";\nimport Type from \"@/type/Type\";\nimport Nestable from \"@/component/Nestable\";\nimport { requireNotNull, requireValid } from \"@/util/ObjectUtils\";\n\nclass ModuleImpl implements Module, Register {\n\n\tpublic static readonly ALIASES: SimpleMap<string> = {};\n\n\tprivate name: string;\n\n\tprivate registry: Registry;\n\n\tprivate broker: Broker;\n\n\tprivate scope: ScopeImpl;\n\n\tprivate modules: ModulesContext;\n\n\tconstructor(name: string, modules: ModulesContext, scope: ScopeImpl) {\n\t\tthis.name = name;\n\t\tthis.registry = new RegistryImpl(this);\n\t\tthis.broker = new BrokerImpl();\n\t\tthis.scope = new ScopeImpl();\n\t\tthis.modules = modules;\n\n\t\tif (scope) {\n\t\t\tthis.scope.setParent(scope);\n\t\t}\n\t}\n\n\tpublic getLogger(): Logger {\n\t\treturn LoggerFactory.getLogger(this.name);\n\t}\n\n\tpublic getName(): string {\n\t\treturn this.name;\n\t}\n\n\tpublic associate(...componentClasses: Type<Nestable>[]): Module {\n\t\tcomponentClasses.forEach((componentClass) => {\n\t\t\trequireNotNull(componentClass, \"componentClass\");\n\t\t\tcomponentClass[\"prototype\"][MODULE_FIELD_NAME] = this;\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tpublic disassociate(...componentClasses: Type<Nestable>[]): Module {\n\t\tcomponentClasses.forEach((componentClass) => {\n\t\t\trequireNotNull(componentClass, \"componentClass\");\n\t\t\tcomponentClass[\"prototype\"][MODULE_FIELD_NAME] = this;\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tpublic clear(): Module {\n\t\treturn this;\n\t}\n\n\tpublic broadcast(channelName: string, messageName: string, payload?: any): void {\n\t\trequireNotNull(channelName, \"channelName\");\n\t\trequireNotNull(messageName, \"messageName\");\n\t\tthis.broker.broadcast(channelName, messageName, payload);\n\t}\n\n\tpublic broadcastGlobally(channelName: string, messageName: string, payload?: any): void {\n\t\tthis.modules.broadcast(channelName, messageName, payload);\n\t}\n\n\tpublic message(channelName: string, messageName: string, payload?: any): void {\n\t\trequireNotNull(channelName, \"channelName\");\n\t\trequireNotNull(messageName, \"messageName\");\n\t\tconst actualPayload: any = (payload === null || payload === undefined) ? {} : payload;\n\n\t\tif (channelName === INTERNAL_DIRECT_CHANNEL_NAME) {\n\t\t\tif (messageName === \"addListener\") {\n\t\t\t\tthis.addListener(actualPayload as Listener);\n\t\t\t} else if (messageName === \"removeListener\") {\n\t\t\t\tthis.removeListener(actualPayload as Listener);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic get<T>(id: string): T {\n\t\trequireValid(id, \"id\", VALID_ID);\n\n\t\tlet result: T = this.registry.get(id);\n\n\t\tif (!result) {\n\t\t\tresult = this.modules.get(id);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic getLocal<T>(id: string): T {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\treturn this.registry.get(id);\n\t}\n\n\tpublic getModule(name: string): Module {\n\t\treturn this.modules.getModule(name);\n\t}\n\n\tpublic getDefaultModule(): Module {\n\t\treturn this.modules.getDefaultModule();\n\t}\n\n\tpublic getScope(): Scope {\n\t\treturn this.scope;\n\t}\n\n\tpublic registerConstant(id: string, instance: any): Module {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(instance, \"instance\");\n\t\tthis.registry.registerConstant(id, instance);\n\t\treturn this;\n\t}\n\n\tpublic registerPrototype(id: string, classInstance: Type<any>, dependencies?: string[]): Module {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(classInstance, \"classInstance\");\n\t\tthis.registry.registerPrototype(id, classInstance, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic registerPrototypeWithFactory(id: string, factoryFn: () => any, dependencies?: string[]): any | void {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(factoryFn, \"factoryFn\");\n\t\tthis.registry.registerPrototypeWithFactory(id, factoryFn, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic registerSingleton(id: string, classInstance: Type<any>, dependencies?: string[]): Module {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(classInstance, \"classInstance\");\n\t\tthis.registry.registerSingleton(id, classInstance, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic registerSingletonWithFactory(id: string, factoryFn: () => any, dependencies?: string[]): any | void {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(factoryFn, \"factoryFn\");\n\t\tthis.registry.registerSingletonWithFactory(id, factoryFn, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic addStrategy(strategy: RegistryStrategy): Module {\n\t\trequireNotNull(strategy, \"strategy\");\n\t\tthis.registry.addStrategy(strategy);\n\t\treturn this;\n\t}\n\n\tpublic expose(id: string): Module {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\tModuleImpl.ALIASES[id] = this.name;\n\t\treturn this;\n\t}\n\n\tpublic createPubSubFor(context: any): PubSub {\n\t\treturn new PubSubImpl(context, this);\n\t}\n\n\tprivate addListener(listener: Listener): void {\n\t\tthis.broker.addListener(listener);\n\t}\n\n\tprivate removeListener(listener: Listener): void {\n\t\tthis.broker.removeListener(listener);\n\t}\n\n\tprivate logError(e: RegistrationError) {\n\t\tthis.getLogger().error(e);\n\t}\n\n}\n\nexport default ModuleImpl;\n","import RegistrationError from \"@/error/RegistrationError\";\nimport Register from \"@/registry/Register\";\nimport { VALID_ID } from \"@/constant/ValidationRegExp\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport Instantiator from \"@/registry/Instantiator\";\nimport PubSubImpl from \"@/message/PubSubImpl\";\nimport Module from \"@/module/Module\";\nimport Gettable from \"@/registry/Gettable\";\nimport RegistryStrategy from \"@/registry/RegistryStrategy\";\nimport Type from \"@/type/Type\";\nimport { requireValid, requireNotNull } from \"@/util/ObjectUtils\";\n\ninterface Factory<T> {\n\n\tget(gettable: Gettable): T;\n\n}\n\nclass DefaultRegistryStrategyImpl implements RegistryStrategy, Register {\n\n\tprivate factories: SimpleMap<Factory<any>>;\n\n\tprivate module: Module;\n\n\tconstructor(module: Module) {\n\t\tthis.factories = {};\n\t\tthis.module = module;\n\t}\n\n\tpublic get<T>(id: string, gettable: Gettable): T {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\tlet instance: T = null;\n\n\t\tif (this.factories[id]) {\n\t\t\tinstance = this.factories[id].get(gettable);\n\t\t}\n\n\t\treturn instance;\n\t}\n\n\tpublic registerConstant(id: string, instance: any): void {\n\t\tthis.registerFactory(id, new ConstantFactory(instance));\n\t}\n\n\tpublic registerPrototype(id: string, classInstance: Type<any>, dependencies?: string[]): void {\n\t\tthis.registerFactory(id, new PrototypeFactory(this.module, Instantiator.create(classInstance), dependencies || []));\n\t}\n\n\tpublic registerPrototypeWithFactory(id: string, factoryFn: () => any, dependencies?: string[]): void {\n\t\tthis.registerFactory(id, new PrototypeFactory(this.module, factoryFn, dependencies || []));\n\t}\n\n\tpublic registerSingleton(id: string, classInstance: Type<any>, dependencies?: string[]): void {\n\t\tthis.registerFactory(id, new SingletonFactory(this.module, Instantiator.create(classInstance), dependencies || []));\n\t}\n\n\tpublic registerSingletonWithFactory(id: string, factoryFn: () => any, dependencies?: string[]): void {\n\t\tthis.registerFactory(id, new SingletonFactory(this.module, factoryFn, dependencies || []));\n\t}\n\n\tprivate registerFactory(id: string, factory: Factory<any>): void {\n\t\trequireValid(id, \"id\", VALID_ID);\n\n\t\tif (id && factory) {\n\t\t\tif (this.factories[id]) {\n\t\t\t\tthrow new RegistrationError(\"'%id%' key is considered unique and already exists\", { \"%id%\": id });\n\t\t\t}\n\n\t\t\tthis.factories[id] = factory;\n\t\t}\n\t}\n}\n\nexport interface Registry extends Register, Gettable {\n\n\taddStrategy(strategy: RegistryStrategy): void;\n\n}\n\nexport class RegistryImpl implements Registry {\n\n\tprivate strategies: RegistryStrategy[];\n\n\tprivate defaultStrategy: DefaultRegistryStrategyImpl;\n\n\tprivate module: Module;\n\n\tconstructor(module: Module) {\n\t\tthis.module = module;\n\t\tthis.defaultStrategy = new DefaultRegistryStrategyImpl(this.module);\n\t\tthis.strategies = [this.defaultStrategy];\n\t}\n\n\tpublic get<T>(id: string): T {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\tlet i: number = 0;\n\n\t\tlet instance: T = null;\n\n\t\twhile (!instance && i < this.strategies.length) {\n\t\t\tinstance = this.strategies[i].get(id, this);\n\t\t\ti++;\n\t\t}\n\n\t\treturn instance;\n\t}\n\n\tpublic registerConstant(id: string, instance: any): Registry {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(instance, \"instance\");\n\t\tthis.defaultStrategy.registerConstant(id, instance);\n\t\treturn this;\n\t}\n\n\tpublic registerPrototype(id: string, classInstance: Type<any>, dependencies: string[]): Registry {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(classInstance, \"classInstance\");\n\t\tthis.defaultStrategy.registerPrototype(id, classInstance, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic registerPrototypeWithFactory(id: string, factoryFn: () => any, dependencies?: string[]): Registry {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(factoryFn, \"factoryFn\");\n\t\tthis.defaultStrategy.registerPrototypeWithFactory(id, factoryFn, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic registerSingleton(id: string, classInstance: Type<any>, dependencies: string[]): Registry {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(classInstance, \"classInstance\");\n\t\tthis.defaultStrategy.registerSingleton(id, classInstance, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic registerSingletonWithFactory(id: string, factoryFn: () => any, dependencies?: string[]): Registry {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\trequireNotNull(factoryFn, \"factoryFn\");\n\t\tthis.defaultStrategy.registerSingletonWithFactory(id, factoryFn, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic addStrategy(strategy: RegistryStrategy): void {\n\t\trequireNotNull(strategy, \"strategy\");\n\t\tthis.strategies.push(strategy);\n\t}\n\n}\n\nclass ConstantFactory<T> implements Factory<T> {\n\n\tprivate instance: T;\n\n\tconstructor(instance: T) {\n\t\tthis.instance = instance;\n\t}\n\n\tpublic get(gettable: Gettable): T {\n\t\treturn this.instance;\n\t}\n\n}\n\nabstract class AbstractFunctionalFactory<T> implements Factory<T> {\n\n\tprivate fn: (args: any[]) => T;\n\n\tprivate dependencies: string[];\n\n\tprivate module: Module;\n\n\tconstructor(module: Module, fn: (args: any[]) => T, dependencies: string[]) {\n\t\tthis.module = module;\n\t\tthis.dependencies = dependencies;\n\t\tthis.fn = fn;\n\t}\n\n\tpublic abstract get(gettable: Gettable): T;\n\n\tprotected create(gettable: Gettable) {\n\t\tconst params: any[] = [];\n\n\t\tconst pubSubs: PubSubImpl[] = [];\n\n\t\tfor (const id of this.dependencies) {\n\n\t\t\tswitch (id) {\n\t\t\t\tcase \"$pubSub\":\n\t\t\t\t\tconst pubSub: PubSubImpl = new PubSubImpl(null, null);\n\t\t\t\t\tparams.push(pubSub);\n\t\t\t\t\tpubSubs.push(pubSub);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconst param: any = gettable.get(id);\n\t\t\t\t\tparams.push(param);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t\tconst result: T = this.fn.apply({}, params);\n\n\t\tfor (const pubSub of pubSubs) {\n\t\t\tpubSub.setContext(result);\n\t\t\tpubSub.setModule(this.module);\n\t\t}\n\n\t\treturn result;\n\t}\n\n}\n\nclass PrototypeFactory<T> extends AbstractFunctionalFactory<T> {\n\n\tconstructor(module: Module, fn: (args: any[]) => T, dependencies: string[]) {\n\t\tsuper(module, fn, dependencies);\n\t}\n\n\tpublic get(gettable: Gettable): T {\n\t\treturn this.create(gettable);\n\t}\n\n}\n\nclass SingletonFactory<T> extends AbstractFunctionalFactory<T> {\n\n\tprivate instance: T;\n\n\tconstructor(module: Module, fn: (args: any[]) => T, dependencies: string[]) {\n\t\tsuper(module, fn, dependencies);\n\t\tthis.instance = null;\n\t}\n\n\tpublic get(gettable: Gettable): T {\n\t\tif (!this.instance) {\n\t\t\tthis.instance = this.create(gettable);\n\t\t}\n\n\t\treturn this.instance;\n\t}\n\n}\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass RegistrationError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default RegistrationError;\n","import Type from \"@/type/Type\";\n\nclass Instantiator {\n\n\tpublic static create<T>(classInstance: Type<T>): (...args: any[]) => T {\n\t\tconst fn: (...args: any[]) => T = (...args: any[]) => {\n\t\t\tif (args.length === 0) {\n\t\t\t\treturn new classInstance();\n\t\t\t}\n\n\t\t\tlet argumentsCode: string = \"\";\n\n\t\t\tfor (let i: number = 0; i < args.length; i++) {\n\t\t\t\tif (i > 0) {\n\t\t\t\t\targumentsCode += \",\";\n\t\t\t\t}\n\n\t\t\t\targumentsCode += \"arguments[1][\" + i + \"]\";\n\t\t\t}\n\n\t\t\tconst code: string = '\"use strict\"; var classInstance = arguments[0]; return new classInstance(' + argumentsCode + \");\";\n\n\t\t\treturn Function(code).apply({}, [classInstance, args]) as T;\n\t\t};\n\n\t\treturn fn;\n\t}\n\n}\n\nexport default Instantiator;\n","import Broker from \"@/message/Broker\";\nimport Logger from \"@/logger/Logger\";\nimport Listener from \"@/message/Listener\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport SimpleMap from \"@/pattern/SimpleMap\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\n\nclass BrokerImpl implements Broker {\n\n\tpublic static INSTANCE: Broker;\n\n\tprivate logger: Logger;\n\n\tprivate listeners: SimpleMap<Listener[]>;\n\n\tconstructor() {\n\t\tthis.logger = LoggerFactory.getLogger(\"Broker\");\n\t\tthis.listeners = {};\n\t}\n\n\tpublic broadcast(channelName: string, messageName: string, payload?: any): void {\n\t\trequireNotNull(channelName, \"channelName\");\n\t\trequireNotNull(messageName, \"messageName\");\n\n\t\tconst actualPayload: any = (payload === null || payload === undefined) ? {} : payload;\n\n\t\tthis.logger.trace({\n\t\t\tchannelName: channelName,\n\t\t\tmessageName: messageName,\n\t\t\tpayload: actualPayload\n\t\t});\n\n\t\tif (!this.listeners[channelName]) {\n\t\t\tthis.logger.trace(\"no listeners for channel, returning\");\n\t\t\treturn;\n\t\t}\n\n\t\tconst listeners = this.listeners[channelName];\n\n\t\tfor (const listener of listeners) {\n\t\t\tlistener.receive(messageName, actualPayload);\n\t\t}\n\t}\n\n\tpublic addListener(listener: Listener): void {\n\t\tconst channelName: string = listener.getChannelName();\n\n\t\tif (!this.listeners[channelName]) {\n\t\t\tthis.listeners[channelName] = [];\n\t\t}\n\n\t\tconst listeners: Listener[] = this.listeners[channelName];\n\n\t\tif (!this.contains(listeners, listener)) {\n\t\t\tlisteners.push(listener);\n\t\t}\n\t}\n\n\tpublic removeListener(listener: Listener): void {\n\t\tconst channelName: string = listener.getChannelName();\n\t\tconst listeners: Listener[] = this.listeners[channelName];\n\n\t\tif (!listeners) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.remove(listeners, listener);\n\n\t\tif (0 === listeners.length) {\n\t\t\tdelete this.listeners[channelName];\n\t\t}\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.listeners = {};\n\t}\n\n\tprivate contains(array: any[], instance: any): boolean {\n\t\tlet i = array.length;\n\n\t\twhile (i--) {\n\t\t\tif (array[i] === instance) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate remove(array: any[], instance: any): void {\n\t\tlet i = array.length;\n\n\t\twhile (i--) {\n\t\t\tif (array[i] === instance) {\n\t\t\t\tarray.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nexport default BrokerImpl;\n","const COMPARE: any = {\n\talpha: (first: string, second: string) => {\n\t\tlet result: number = 0;\n\n\t\tif (first < second) {\n\t\t\tresult = -1;\n\t\t} else if (first > second) {\n\t\t\tresult = 1;\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nexport { COMPARE };\n","import ComponentFactory from \"@/element/repeat/ComponentFactory\";\nimport Nestable from \"@/component/Nestable\";\nimport ItemComponent from \"@/element/repeat/ItemComponent\";\nimport Module from \"@/module/Module\";\n\nclass ItemComponentFactoryImpl implements ComponentFactory {\n\n\tprivate template: string;\n\n\tprivate prefix: string;\n\n\tprivate parent: Nestable;\n\n\tprivate parentId: string;\n\n\tprivate parentModelFn: () => any;\n\n\tprivate module: Module;\n\n\tconstructor(module: Module, template: string, prefix: string, parent: Nestable, parentId: string, parentModelFn: () => any) {\n\t\tthis.module = module;\n\t\tthis.template = template;\n\t\tthis.prefix = prefix;\n\t\tthis.parent = parent;\n\t\tthis.parentId = parentId;\n\t\tthis.parentModelFn = parentModelFn;\n\t}\n\n\tpublic create(item?: any): Nestable {\n\t\treturn new ItemComponent(this.module, this.template, this.prefix, this.parent, this.parentId, this.parentModelFn, () => item);\n\t}\n\n}\n\nexport default ItemComponentFactoryImpl;\n\n","import Component from \"@/component/Component\";\nimport Nestable from \"@/component/Nestable\";\nimport { ComponentConfigImpl, ComponentConfig } from \"@/component/ComponentConfig\";\nimport { INTERNAL_DIRECT_CHANNEL_NAME, COMPONENT_INTERNALS_FIELD_NAME } from \"@/constant/Constants\";\nimport ComponentInternalsImpl from \"@/component/ComponentInternalsImpl\";\nimport Module from \"@/module/Module\";\n\nclass ItemComponent extends Component {\n\n\tconstructor(module: Module, template: string, prefix: string, parent: Nestable, parentId: string, parentModelFn: () => any, itemFn: () => any) {\n\t\tconst config: ComponentConfigImpl = new ComponentConfigImpl();\n\t\tconfig.withPrefix(prefix);\n\t\tconfig.setParentModelFn(parentModelFn);\n\t\tconfig.setModule(module);\n\t\tsuper(template, config);\n\t\tthis.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setMode\", \"repeatable\");\n\t\tthis.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setItemFn\", itemFn);\n\t\tthis.message(INTERNAL_DIRECT_CHANNEL_NAME, \"skipId\", parentId);\n\t\tthis.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParent\", parent);\n\t}\n\n\tprotected ____internal$$cydran$$init____(template: string, config: ComponentConfig): void {\n\t\tthis[COMPONENT_INTERNALS_FIELD_NAME] = new ComponentInternalsImpl(this, template, config);\n\t\tthis[COMPONENT_INTERNALS_FIELD_NAME][\"init\"]();\n\t}\n\n}\n\nexport default ItemComponent;\n","import { INTERNAL_DIRECT_CHANNEL_NAME } from \"@/constant/Constants\";\nimport ComponentFactory from \"@/element/repeat/ComponentFactory\";\nimport Nestable from \"@/component/Nestable\";\nimport Module from \"@/module/Module\";\nimport { isDefined } from \"@/util/ObjectUtils\";\n\nclass EmbeddedComponentFactoryImpl implements ComponentFactory {\n\n\tprivate module: Module;\n\n\tprivate componentId: string;\n\n\tprivate moduleId: string;\n\n\tprivate parent: Nestable;\n\n\tprivate parentId: string;\n\n\tconstructor(module: Module, componentId: string, moduleId, parent: Nestable, parentId: string) {\n\t\tthis.module = module;\n\t\tthis.componentId = componentId;\n\t\tthis.moduleId = moduleId;\n\t\tthis.parent = parent;\n\t\tthis.parentId = parentId;\n\t}\n\n\tpublic create(item: any): Nestable {\n\t\tconst module: Module = isDefined(this.moduleId) && this.moduleId.trim().length > 0\n\t\t\t? this.module.getModule(this.moduleId)\n\t\t\t: this.module.getDefaultModule();\n\n\t\tconst component: Nestable = module.get(this.componentId);\n\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setMode\", \"repeatable\");\n\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setItemFn\", () => item);\n\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"skipId\", this.parentId);\n\t\tcomponent.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParent\", this.parent);\n\n\t\treturn component;\n\t}\n\n}\n\nexport default EmbeddedComponentFactoryImpl;\n","import IdStrategy from \"@/element/repeat/IdStrategy\";\n\nclass InvalidIdStrategyImpl implements IdStrategy {\n\n\tpublic check(item: any): boolean {\n\t\treturn true;\n\t}\n\n\tpublic enrich(item: any, index: number): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tpublic extract(item: any): string {\n\t\treturn null;\n\t}\n\n\tpublic init(): void {\n\t\tthrow new Error(\"Invalid strategy for repeat.  Please see [URL] for further details on properly using the repeat element mediator.\");\n\t}\n\n}\n\nexport default InvalidIdStrategyImpl;\n","import IdStrategy from \"@/element/repeat/IdStrategy\";\nimport Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\n\nclass ExpressionIdStrategyImpl implements IdStrategy {\n\n\tprivate logger: Logger;\n\n\tprivate code: string;\n\n\tprivate expression: string;\n\n\tprivate fn: Function;\n\n\tconstructor(expression: string) {\n\t\tthis.logger = LoggerFactory.getLogger(\"Id Function: \" + expression);\n\t\tthis.expression = expression;\n\t\tthis.code = '\"use strict\"; return function(i,item,v,value) { return ' + expression + ' }(arguments[0], arguments[0], arguments[0], arguments[0]);';\n\t\tthis.fn = Function(this.code);\n\t}\n\n\tpublic check(item: any): boolean {\n\t\treturn false;\n\t}\n\n\tpublic enrich(item: any, index: number): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tpublic extract(item: any): string {\n\t\tlet id: string = null;\n\n\t\ttry {\n\t\t\tconst itemFn: () => any = () => item;\n\t\t\tid = this.fn.apply({}, [itemFn]);\n\t\t} catch (e) {\n\t\t\tthis.logger.error(\"\\nAn exception (\" + e.name + \") was thrown invoking the id function expression: \" + this.expression\n\t\t\t + \"\\n\\nIn context:\\n\" + this.code + \"\\n\\nException message: \" + e.message + \"\\n\\n\", e);\n\n\t\t\t throw e;\n\t\t}\n\n\t\treturn id;\n\t}\n\n\tpublic init(): void {\n\t\t// Intentionally do nothing\n\t}\n\n}\n\nexport default ExpressionIdStrategyImpl;\n","import { ComponentIdPair, ComponentConfig } from \"@/component/ComponentConfig\";\nimport CydranConfig from \"@/config/CydranConfig\";\nimport Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport Module from \"@/module/Module\";\nimport Scope from \"@/model/Scope\";\nimport { VALID_ID } from \"@/constant/ValidationRegExp\";\nimport ModulesContext from \"@/module/ModulesContext\";\nimport Nestable from \"@/component/Nestable\";\nimport StageComponent from \"@/stage/StageComponent\";\nimport { DEFAULT_MODULE_KEY, INTERNAL_DIRECT_CHANNEL_NAME } from \"@/constant/Constants\";\nimport ModulesContextImpl from \"@/module/ModulesContextImpl\";\nimport AnonymousComponent from \"@/component/AnonymousComponent\";\nimport Type from \"@/type/Type\";\nimport ElementMediator from \"@/element/ElementMediator\";\nimport { requireNotNull, requireValid } from \"@/util/ObjectUtils\";\nimport { domReady } from \"@/util/DomUtils\";\n\ninterface StageBuilder {\n\n\tgetModule(name: string): Module;\n\n\tgetDefaultModule(): Module;\n\n\tforEach(fn: (instace: Module) => void): StageBuilder;\n\n\twithComponentBefore(id: string, moduleName?: string): StageBuilder;\n\n\twithComponentAfter(id: string, moduleName?: string): StageBuilder;\n\n\twithComponent(id: string): StageBuilder;\n\n\twithInitializer(callback: (stage?: Stage) => void): StageBuilder;\n\n\twithTraceLogging(): StageBuilder;\n\n\twithDebugLogging(): StageBuilder;\n\n\twithInfoLogging(): StageBuilder;\n\n\twithWarnLogging(): StageBuilder;\n\n\twithErrorLogging(): StageBuilder;\n\n\twithFatalLogging(): StageBuilder;\n\n\twithLoggingDisabled(): StageBuilder;\n\n\twithElementMediator(name: string, supportedTags: string[],\n\t\telementMediatorClass: Type<ElementMediator<any, HTMLElement | Text, any>>): StageBuilder;\n\n\twithConstant(id: string, instance: any): StageBuilder;\n\n\twithPrototype(id: string, classInstance: Type<any>, dependencies?: string[]): StageBuilder;\n\n\twithPrototypeFromFactory(id: string, factoryFn: () => any, dependencies?: string[]): StageBuilder;\n\n\twithSingleton(id: string, classInstance: Type<any>, dependencies?: string[]): StageBuilder;\n\n\twithSingletonFromFactory(id: string, factoryFn: () => any, dependencies?: string[]): StageBuilder;\n\n\twithImplicit(id: string, template: string, config?: ComponentConfig): StageBuilder;\n\n\twithCapability(capability: (builder: StageBuilder) => void): StageBuilder;\n\n\twithScopeItem(name: string, item: any): StageBuilder;\n\n\tbuild(): Stage;\n\n}\n\nclass StageBuilderImpl implements StageBuilder {\n\n\tprivate config: CydranConfig;\n\n\tprivate instance: StageImpl;\n\n\tconstructor(rootSelector: string) {\n\t\tthis.config = new CydranConfig();\n\t\tthis.instance = new StageImpl(rootSelector);\n\t}\n\n\tpublic withComponentBefore(id: string, moduleName?: string): StageBuilder {\n\t\tthis.instance.withComponentBefore(id, moduleName);\n\t\treturn this;\n\t}\n\n\tpublic withComponentAfter(id: string, moduleName?: string): StageBuilder {\n\t\tthis.instance.withComponentAfter(id, moduleName);\n\t\treturn this;\n\t}\n\n\tpublic withComponent(id: string, moduleName?: string): StageBuilder {\n\t\treturn this.withComponentAfter(id, moduleName);\n\t}\n\n\tpublic withInitializer(callback: (stage?: Stage) => void): StageBuilder {\n\t\tthis.instance.withInitializer(callback);\n\t\treturn this;\n\t}\n\n\tpublic withTraceLogging(): StageBuilder {\n\t\tthis.config.useTrace();\n\t\treturn this;\n\t}\n\n\tpublic withDebugLogging(): StageBuilder {\n\t\tthis.config.useDebug();\n\t\treturn this;\n\t}\n\n\tpublic withInfoLogging(): StageBuilder {\n\t\tthis.config.useInfo();\n\t\treturn this;\n\t}\n\n\tpublic withWarnLogging(): StageBuilder {\n\t\tthis.config.useWarn();\n\t\treturn this;\n\t}\n\n\tpublic withErrorLogging(): StageBuilder {\n\t\tthis.config.useError();\n\t\treturn this;\n\t}\n\n\tpublic withFatalLogging(): StageBuilder {\n\t\tthis.config.useFatal();\n\t\treturn this;\n\t}\n\n\tpublic withLoggingDisabled(): StageBuilder {\n\t\tthis.config.useDisabled();\n\t\treturn this;\n\t}\n\n\tpublic getModule(name: string): Module {\n\t\treturn this.instance.getModules().getModule(name);\n\t}\n\n\tpublic getDefaultModule(): Module {\n\t\treturn this.instance.getModules().getDefaultModule();\n\t}\n\n\tpublic forEach(fn: (instace: Module) => void): StageBuilder {\n\t\tthis.instance.getModules().forEach(fn);\n\t\treturn this;\n\t}\n\n\tpublic withElementMediator(name: string, supportedTags: string[],\n\t\telementMediatorClass: Type<ElementMediator<any, HTMLElement | Text, any>>): StageBuilder {\n\t\tthis.instance.getModules().registerElementMediator(name, supportedTags, elementMediatorClass);\n\t\treturn this;\n\t}\n\n\tpublic withConstant(id: string, instance: any): StageBuilder {\n\t\tthis.instance.getModules().registerConstant(id, instance);\n\t\treturn this;\n\t}\n\n\tpublic withPrototype(id: string, classInstance: Type<any>, dependencies?: string[]): StageBuilder {\n\t\tthis.instance.getModules().registerPrototype(id, classInstance, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic withPrototypeFromFactory(id: string, factoryFn: () => any, dependencies?: string[]): StageBuilder {\n\t\tthis.instance.getModules().registerPrototypeWithFactory(id, factoryFn, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic withSingleton(id: string, classInstance: Type<any>, dependencies?: string[]): StageBuilder {\n\t\tthis.instance.getModules().registerSingleton(id, classInstance, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic withSingletonFromFactory(id: string, factoryFn: () => any, dependencies?: string[]): StageBuilder {\n\t\tthis.instance.getModules().registerSingletonWithFactory(id, factoryFn, dependencies);\n\t\treturn this;\n\t}\n\n\tpublic withImplicit(id: string, template: string, config?: ComponentConfig): StageBuilder {\n\t\tthis.withPrototypeFromFactory(id, () => new AnonymousComponent(this.getDefaultModule(), template, config));\n\t\treturn this;\n\t}\n\n\tpublic withCapability(capability: (builder: StageBuilder) => void): StageBuilder {\n\t\trequireNotNull(capability, \"capability\")(this);\n\t\treturn this;\n\t}\n\n\tpublic withScopeItem(name: string, item: any): StageBuilder {\n\t\tthis.instance.getModules().getScope().add(name, item);\n\t\treturn this;\n\t}\n\n\tpublic build(): Stage {\n\t\treturn this.instance;\n\t}\n\n}\n\ninterface Stage {\n\n\tsetComponent(component: Nestable): Stage;\n\n\tsetComponentFromRegistry(componentName: string, defaultComponentName?: string): void;\n\n\tget<T>(id: string): T;\n\n\tstart(): void;\n\n\tgetModule(name: string): Module;\n\n\tgetDefaultModule(): Module;\n\n\tforEach(fn: (instace: Module) => void): void;\n\n\tbroadcast(channelName: string, messageName: string, payload?: any): void;\n\n\tregisterConstant(id: string, instance: any): void;\n\n\tregisterPrototype(id: string, classInstance: Type<any>): void;\n\n\tregisterSingleton(id: string, classInstance: Type<any>): void;\n\n\tgetScope(): Scope;\n\n}\n\nclass StageImpl implements Stage {\n\n\tprivate started: boolean;\n\n\tprivate rootSelector: string;\n\n\tprivate logger: Logger;\n\n\tprivate initializers: ((stage?: Stage) => void)[];\n\n\tprivate root: StageComponent;\n\n\tprivate topComponentIds: ComponentIdPair[];\n\n\tprivate bottomComponentIds: ComponentIdPair[];\n\n\tprivate modules: ModulesContext;\n\n\tconstructor(rootSelector: string) {\n\t\tthis.rootSelector = requireNotNull(rootSelector, \"rootSelector\");\n\t\tthis.logger = LoggerFactory.getLogger(\"Stage\");\n\t\tthis.modules = new ModulesContextImpl();\n\t\tthis.started = false;\n\t\tthis.initializers = [];\n\t\tthis.topComponentIds = [];\n\t\tthis.bottomComponentIds = [];\n\t\tthis.root = null;\n\t}\n\n\tpublic withInitializer(callback: (stage?: Stage) => void): Stage {\n\t\trequireNotNull(callback, \"callback\");\n\t\tthis.initializers.push(callback);\n\t\treturn this;\n\t}\n\n\tpublic withComponentBefore(id: string, moduleName?: string): void {\n\t\trequireValid(id, \"id\", VALID_ID);\n\n\t\tthis.topComponentIds.push({\n\t\t\tcomponentId: id,\n\t\t\tmoduleId: moduleName || DEFAULT_MODULE_KEY\n\t\t});\n\t}\n\n\tpublic withComponentAfter(id: string, moduleName?: string): void {\n\t\trequireValid(id, \"id\", VALID_ID);\n\n\t\tthis.bottomComponentIds.push({\n\t\t\tcomponentId: id,\n\t\t\tmoduleId: moduleName || DEFAULT_MODULE_KEY\n\t\t});\n\t}\n\n\tpublic start(): void {\n\t\tthis.logger.debug(\"Start Requested\");\n\n\t\tif (this.started) {\n\t\t\tthis.logger.debug(\"Aleady Started\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.logger.debug(\"Cydran Starting\");\n\t\tthis.modules.registerConstant(\"stage\", this);\n\t\tdomReady(() => this.domReady());\n\t}\n\n\tpublic setComponent(component: Nestable): Stage {\n\t\tthis.root.setChild(\"body\", component);\n\t\treturn this;\n\t}\n\n\tpublic setComponentFromRegistry(componentName: string, defaultComponentName?: string): Stage {\n\t\trequireNotNull(componentName, \"componentName\");\n\t\tthis.root.setChildFromRegistry(\"body\", componentName, defaultComponentName);\n\t\treturn this;\n\t}\n\n\tpublic get<T>(id: string): T {\n\t\trequireValid(id, \"id\", VALID_ID);\n\t\treturn this.root.get(id);\n\t}\n\n\tpublic getModules(): ModulesContext {\n\t\treturn this.modules;\n\t}\n\n\tpublic getModule(name: string): Module {\n\t\treturn this.modules.getModule(name);\n\t}\n\n\tpublic getDefaultModule(): Module {\n\t\treturn this.modules.getDefaultModule();\n\t}\n\n\tpublic forEach(fn: (instace: Module) => void): void {\n\t\tthis.modules.forEach(fn);\n\t}\n\n\tpublic broadcast(channelName: string, messageName: string, payload?: any): void {\n\t\tthis.modules.broadcast(channelName, messageName, payload);\n\t}\n\n\tpublic registerConstant(id: string, instance: any): void {\n\t\tthis.modules.registerConstant(id, instance);\n\t}\n\n\tpublic registerPrototype(id: string, classInstance: Type<any>, dependencies?: string[]): void {\n\t\tthis.modules.registerPrototype(id, classInstance, dependencies);\n\t}\n\n\tpublic registerSingleton(id: string, classInstance: Type<any>, dependencies?: string[]): void {\n\t\tthis.modules.registerSingleton(id, classInstance, dependencies);\n\t}\n\n\tpublic getScope(): Scope {\n\t\treturn this.modules.getScope();\n\t}\n\n\tprivate domReady(): void {\n\t\tthis.logger.debug(\"DOM Ready\");\n\t\tthis.root = new StageComponent(this.modules.getDefaultModule(), this.rootSelector, this.topComponentIds, this.bottomComponentIds);\n\t\tthis.root.message(INTERNAL_DIRECT_CHANNEL_NAME, \"setParent\", null);\n\t\tthis.started = true;\n\t\tthis.logger.debug(\"Running initializers\");\n\n\t\tfor (const initializer of this.initializers) {\n\t\t\tinitializer.apply(this, [this]);\n\t\t}\n\n\t\tthis.logger.debug(\"Startup Complete\");\n\t}\n\n}\n\nconst builder = function(rootSelector: string): StageBuilder {\n\treturn new StageBuilderImpl(rootSelector);\n};\n\nexport { builder, Stage, StageBuilder, StageImpl };\n","import { COMPONENT_INTERNALS_FIELD_NAME, MODULE_FIELD_NAME } from \"@/constant/Constants\";\nimport StageComponentInternals from \"@/stage/StageComponentInternals\";\nimport { ComponentIdPair, ComponentConfigImpl, ComponentConfig } from \"@/component/ComponentConfig\";\nimport Component from \"@/component/Component\";\nimport Nestable from \"@/component/Nestable\";\nimport Module from \"@/module/Module\";\n\nclass StageComponent extends Component {\n\n\tconstructor(module: Module, selector: string, topComponentIds: ComponentIdPair[], bottomComponentIds: ComponentIdPair[]) {\n\t\tconst config: ComponentConfigImpl = new ComponentConfigImpl();\n\t\tconfig.setTopComponentIds(topComponentIds);\n\t\tconfig.setBottomComponentIds(bottomComponentIds);\n\t\tconfig.setModule(module);\n\t\tsuper(selector, config);\n\t}\n\n\tpublic setComponent(component: Nestable): StageComponent {\n\t\tthis.setChild(\"body\", component);\n\t\treturn this;\n\t}\n\n\tpublic isConnected(): boolean {\n\t\treturn true;\n\t}\n\n\tprotected ____internal$$cydran$$init____(template: string, config: ComponentConfig): void {\n\t\tthis[COMPONENT_INTERNALS_FIELD_NAME] = new StageComponentInternals(this, template, config);\n\t\tthis[COMPONENT_INTERNALS_FIELD_NAME][\"init\"]();\n\t}\n\n}\n\nexport default StageComponent;\n","import Properties from \"@/config/Properties\";\nimport SelectorError from \"@/error/SelectorError\";\nimport { ComponentIdPair, ComponentConfigImpl } from \"@/component/ComponentConfig\";\nimport ComponentInternalsImpl from \"@/component/ComponentInternalsImpl\";\nimport { createElementOffDom } from \"@/util/DomUtils\";\n\nclass StageComponentInternals extends ComponentInternalsImpl {\n\n\tprotected render(): void {\n\t\tconst elements: NodeListOf<HTMLElement> = Properties.getWindow().document.querySelectorAll(this.getTemplate());\n\t\tconst eLength = ((elements) ? elements.length : 0);\n\t\tconst errMsg = (eLength !== 1) ? \"CSS selector MUST identify single HTMLElement: '%pattern%' - %qty% found\" : null;\n\n\t\tif (errMsg) {\n\t\t\tconst patSubObj = { \"%pattern%\": this.getTemplate(), \"%qty%\": eLength };\n\t\t\tconst error: SelectorError = new SelectorError(errMsg, patSubObj);\n\t\t\tthis.getLogger().fatal(error);\n\t\t\tthrow error;\n\t\t}\n\n\t\tconst element: HTMLElement = elements[0];\n\t\tconst topIds: ComponentIdPair[] = (this.getConfig() as ComponentConfigImpl).getTopComponentIds();\n\t\tconst bottomIds: ComponentIdPair[] = (this.getConfig() as ComponentConfigImpl).getBottomComponentIds();\n\n\t\twhile (element.hasChildNodes()) {\n\t\t\telement.removeChild(element.firstChild);\n\t\t}\n\n\t\tfor (const pair of topIds) {\n\t\t\tconst componentDiv: HTMLElement = createElementOffDom(\"c:component\");\n\t\t\tcomponentDiv.setAttribute(\"name\", pair.componentId);\n\t\t\tcomponentDiv.setAttribute(\"module\", pair.moduleId);\n\t\t\telement.appendChild(componentDiv);\n\t\t}\n\n\t\tconst regionDiv: HTMLElement = createElementOffDom(\"c:region\");\n\t\tregionDiv.setAttribute(\"name\", \"body\");\n\t\telement.appendChild(regionDiv);\n\t\tthis.setEl(element);\n\n\t\tfor (const pair of bottomIds) {\n\t\t\tconst componentDiv: HTMLElement = createElementOffDom(\"c:component\");\n\t\t\tcomponentDiv.setAttribute(\"name\", pair.componentId);\n\t\t\tcomponentDiv.setAttribute(\"module\", pair.moduleId);\n\t\t\telement.appendChild(componentDiv);\n\t\t}\n\t}\n\n\tprotected validateModulePresent(): void {\n\t\t// Intentionally do nothing\n\t}\n\n}\n\nexport default StageComponentInternals;\n","import { CydranError } from \"@/error/AbstractCydranError\";\n\nclass SelectorError extends CydranError {\n\n\tconstructor(msg: string, reps?: any) {\n\t\tsuper(msg, reps);\n\t}\n\n}\n\nexport default SelectorError;\n","import Component from \"@/component/Component\";\nimport { ComponentConfigImpl, ComponentConfig } from \"@/component/ComponentConfig\";\nimport Module from \"@/module/Module\";\nimport { isDefined } from \"@/util/ObjectUtils\";\n\nclass AnonymousComponent extends Component {\n\n\tconstructor(module: Module, template: string, config?: ComponentConfig) {\n\t\tconst configInstance: ComponentConfigImpl = isDefined(config) ? config as ComponentConfigImpl : new ComponentConfigImpl();\n\t\tconfigInstance.setModule(module);\n\t\tsuper(template, configInstance);\n\t}\n\n}\n\nexport default AnonymousComponent;\n","import Watchable from \"@/model/Watchable\";\nimport { FilterBuilder, Watcher, Phase, Callback, Filter, PagedFilter, LimitOffsetFilter } from \"@/filter/Interfaces\";\nimport { requireNotNull, isDefined, equals } from \"@/util/ObjectUtils\";\nimport WatcherImpl from \"@/filter/WatcherImpl\";\nimport Supplier from \"@/pattern/Supplier\";\nimport SortPhaseImpl from \"@/filter/SortPhaseImpl\";\nimport PredicatePhaseImpl from \"@/filter/PredicatePhaseImpl\";\nimport IdentityPhaseImpl from \"@/filter/IdentityPhaseImpl\";\nimport SimplePredicatePhaseImpl from \"@/filter/SimplePredicatePhaseImpl\";\nimport DelegatingPhaseImpl from \"@/filter/DelegatingPhaseImpl\";\n\nclass FilterBuilderImpl implements FilterBuilder {\n\n\tprivate watchable: Watchable;\n\n\tprivate watcher: Watcher<any[]>;\n\n\tprivate phase: Phase;\n\n\tconstructor(watchable: Watchable, watcher: Watcher<any[]>) {\n\t\tthis.watchable = requireNotNull(watchable, \"watchable\");\n\t\tthis.watcher = requireNotNull(watcher, \"watcher\");\n\t\tthis.phase = new IdentityPhaseImpl();\n\t}\n\n\tpublic withPredicate(expression: string, ...parameterExpressions: string[]): FilterBuilder {\n\t\tthis.phase = new PredicatePhaseImpl(this.phase, expression, this.watchable, parameterExpressions);\n\n\t\treturn this;\n\t}\n\n\tpublic withSimplePredicate(predicate: (index: number, value: any) => boolean): FilterBuilder {\n\t\tthis.phase = new SimplePredicatePhaseImpl(this.phase, predicate);\n\n\t\treturn this;\n\t}\n\n\tpublic withPhase(fn: (input: any[]) => any[]): FilterBuilder {\n\t\tthis.phase = new DelegatingPhaseImpl(this.phase, fn);\n\n\t\treturn this;\n\t}\n\n\tpublic withSort(expression: string, ...parameterExpressions: string[]): FilterBuilder {\n\t\tthis.phase = new SortPhaseImpl(this.phase, expression, this.watchable, parameterExpressions);\n\n\t\treturn this;\n\t}\n\n\tpublic with(fn: (builder: FilterBuilder) => void): FilterBuilder {\n\t\tfn.apply(fn, [this]);\n\n\t\treturn this;\n\t}\n\n\tpublic withLimit(limit: number): FilterBuilder {\n\t\treturn this.withSimplePredicate((index:number, value: any) => index < limit);\n\t}\n\n\tpublic build(): Filter {\n\t\treturn new FilterImpl(this.watchable, this.watcher, this.phase);\n\t}\n\n\tpublic paged(): PagedFilter {\n\t\treturn new PagedFilterImpl(this.build());\n\t}\n\n\tpublic limited(): LimitOffsetFilter {\n\t\treturn new LimitOffsetFilterImpl(this.build());\n\t}\n}\n\nclass FilterImpl implements Filter, Watcher<any[]> {\n\n\tprivate filteredItems: any[];\n\n\tprivate watchable: Watchable;\n\n\tprivate watcher: Supplier<any[]>;\n\n\tprivate phase: Phase;\n\n\tprivate callbacks: Callback[];\n\n\tconstructor(watchable: Watchable, watcher: Watcher<any[]>, phase: Phase) {\n\t\tthis.filteredItems = [];\n\t\tthis.phase = phase;\n\t\tthis.watchable = requireNotNull(watchable, \"watchable\");\n\t\tthis.watcher = requireNotNull(watcher, \"watcher\").addCallback(this, () => this.refresh());\n\t\tthis.callbacks = [];\n\t\tthis.phase.setCallback(() => this.refresh());\n\t}\n\n\tpublic items(): any[] {\n\t\treturn this.filteredItems;\n\t}\n\n\tpublic extend(): FilterBuilder {\n\t\treturn new FilterBuilderImpl(this.watchable, this);\n\t}\n\n\tpublic get(): any[] {\n\t\treturn this.items();\n\t}\n\n\tpublic addCallback(context: any, callback: () => void): Watcher<any[]> {\n\t\trequireNotNull(context, \"context\");\n\t\trequireNotNull(callback, \"callback\");\n\n\t\tthis.callbacks.push({\n\t\t\tcontext: context,\n\t\t\tfn: callback\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tpublic invalidate(): void {\n\t\tthis.phase.invalidate();\n\t}\n\n\tprivate filter(items: any[]): any[] {\n\t\tconst source: any[] = [];\n\n\t\t// tslint:disable-next-line:prefer-for-of\n\t\tfor (let i: number = 0; i < items.length; i++) {\n\t\t\tsource.push(items[i]);\n\t\t}\n\n\t\treturn this.phase.process(source);\n\t}\n\n\tpublic refresh(): void {\n\t\tconst result: any[] = this.filter(this.watcher.get());\n\n\t\tif (isDefined(result)) {\n\t\t\tthis.filteredItems = result;\n\n\t\t\tfor (const callback of this.callbacks) {\n\t\t\t\tcallback.fn.apply(callback.fn, []);\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nclass LimitOffsetFilterImpl implements LimitOffsetFilter {\n\n\tprivate parent: FilterImpl;\n\n\tprivate limiting: FilterImpl;\n\n\tprivate limit: number;\n\n\tprivate offset: number;\n\n\tconstructor(parent: Filter) {\n\t\tthis.parent = requireNotNull(parent, \"parent\") as FilterImpl;\n\t\tthis.limiting = this.parent.extend()\n\t\t\t.withPhase((input: any[]) => {\n\t\t\t\tlet result: any[] = input.slice(this.offset);\n\n\t\t\t\tif (isDefined(this.limit) ) {\n\t\t\t\t\tresult = result.slice(0, this.limit);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t})\n\t\t\t.build() as FilterImpl;\n\t\tthis.offset = 0;\n\t\tthis.limit = null;\n\t}\n\n\tpublic getLimit(): number {\n\t\treturn this.limit;\n\t}\n\n\tpublic setLimit(limit: number): void {\n\t\tthis.limit = isDefined(limit) ? Math.floor(limit) : null;\n\t\tthis.limiting.invalidate();\n\t\tthis.limiting.refresh();\n\t}\n\n\tpublic getOffset(): number {\n\t\treturn this.offset;\n\t}\n\n\tpublic setOffset(offset: number): void {\n\t\tthis.offset = isDefined(offset) ? Math.floor(offset) : 0;\n\t\tthis.limiting.invalidate();\n\t\tthis.limiting.refresh();\n\t}\n\n\tpublic setLimitAndOffset(limit: number, offset: number): void {\n\t\tconst oldLimit: number = this.limit;\n\t\tconst oldOffset: number = this.offset;\n\n\t\tthis.limit = limit;\n\t\tthis.offset = isDefined(offset) ? offset : 0;\n\n\t\tif (!equals(oldLimit, this.limit) || !equals(oldOffset, this.offset)) {\n\t\t\tthis.limiting.invalidate();\n\t\t\tthis.limiting.refresh();\n\t\t}\n\t}\n\n\tpublic items(): any[] {\n\t\treturn this.limiting.items();\n\t}\n\n\tpublic extend(): FilterBuilder {\n\t\treturn this.limiting.extend();\n\t}\n\n\tpublic addCallback(context: any, callback: () => void): void {\n\t\tthis.limiting.addCallback(context, callback);\n\t}\n\n}\n\nclass PagedFilterImpl implements PagedFilter {\n\n\tprivate parent: FilterImpl;\n\n\tprivate limited: LimitOffsetFilterImpl;\n\n\tprivate page: number;\n\n\tprivate pageSize: number;\n\n\tprivate atBeginning: boolean;\n\n\tprivate atEnd: boolean;\n\n\tprivate moreBefore: boolean;\n\n\tprivate moreAfter: boolean;\n\n\tconstructor(parent: Filter) {\n\t\tthis.parent = requireNotNull(parent, \"parent\") as FilterImpl;\n\t\tthis.limited = this.parent.extend().limited() as LimitOffsetFilterImpl;\n\t\tthis.page = 0;\n\t\tthis.pageSize = 10;\n\t\tthis.parent.addCallback(this, () => {\n\t\t\tthis.enforcePageBounds();\n\t\t\tthis.sync();\n\t\t});\n\t\tthis.sync();\n\t}\n\n\tpublic getPageSize(): number {\n\t\treturn this.pageSize;\n\t}\n\n\tpublic setPageSize(size: number): void {\n\t\tthis.pageSize = (size < 1) ? 1 : Math.floor(size);\n\t\tthis.sync();\n\t}\n\n\tpublic getTotalPages(): number {\n\t\treturn Math.ceil(this.parent.items().length / this.pageSize);\n\t}\n\n\tpublic getPage(): number {\n\t\treturn this.page;\n\t}\n\n\tpublic setPage(page: number): void {\n\t\tthis.page = Math.floor(page);\n\t\tthis.enforcePageBounds();\n\n\t\tthis.sync();\n\t}\n\n\tpublic toPrevious(): void {\n\t\tthis.setPage(this.page - 1);\n\t}\n\n\tpublic toNext(): void {\n\t\tthis.setPage(this.page + 1);\n\t}\n\n\tpublic toStart(): void {\n\t\tthis.setPage(0);\n\t}\n\n\tpublic toEnd(): void {\n\t\tthis.setPage(this.getTotalPages());\n\t}\n\n\tpublic items(): any[] {\n\t\treturn this.limited.items();\n\t}\n\n\tpublic extend(): FilterBuilder {\n\t\treturn this.limited.extend();\n\t}\n\n\tpublic addCallback(context: any, callback: () => void): void {\n\t\tthis.limited.addCallback(context, callback);\n\t}\n\n\tpublic enforcePageBounds(): void {\n\t\tif (this.page < 0) {\n\t\t\tthis.page = 0;\n\t\t}\n\n\t\tif (this.page >= this.getTotalPages()) {\n\t\t\tthis.page = this.getTotalPages() - 1;\n\t\t}\n\n\t\tif (this.page < 0) {\n\t\t\tthis.page = 0;\n\t\t}\n\t}\n\n\tpublic isAtBeginning(): boolean {\n\t\treturn this.atBeginning;\n\t}\n\n\tpublic isAtEnd(): boolean {\n\t\treturn this.atEnd;\n\t}\n\n\tpublic isMoreBefore(): boolean {\n\t\treturn this.moreBefore;\n\t}\n\n\tpublic isMoreAfter(): boolean {\n\t\treturn this.moreAfter;\n\t}\n\n\tprivate sync(): void {\n\t\tthis.atBeginning = (this.page === 0);\n\t\tthis.atEnd = (this.page >= this.getTotalPages() - 1);\n\t\tthis.moreBefore = !this.atBeginning;\n\t\tthis.moreAfter = !this.atEnd;\n\t\tthis.limited.setLimitAndOffset(this.pageSize, this.page * this.pageSize);\n\t}\n\n}\n\nclass Filters {\n\n\tpublic static builder(watchable: Watchable, expression: string): FilterBuilder {\n\t\trequireNotNull(watchable, \"watchable\");\n\t\trequireNotNull(expression, \"expression\");\n\t\tconst watcher: Watcher<any[]> = new WatcherImpl<any[]>(watchable, expression);\n\t\treturn new FilterBuilderImpl(watchable, watcher);\n\t}\n\n}\n\nexport default Filters;\n","import AbstractPhaseImpl from \"@/filter/AbstractPhaseImpl\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\nimport Watchable from \"@/model/Watchable\";\nimport WatcherImpl from \"@/filter/WatcherImpl\";\nimport ComparisonEvaluator from \"@/model/ComparisonEvaluator\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport Supplier from \"@/pattern/Supplier\";\nimport { Phase } from \"@/filter/Interfaces\";\n\nclass SortPhaseImpl extends AbstractPhaseImpl {\n\n\tprivate evaluator: ComparisonEvaluator;\n\n\tprivate valueFunctions: (() => any)[];\n\n\tconstructor(previous: Phase, expression: string, watchable: Watchable, parameterExpressions: string[]) {\n\t\tsuper(previous);\n\t\trequireNotNull(expression, \"expression\");\n\t\tthis.evaluator = new ComparisonEvaluator(expression, watchable.getWatchContext() as ScopeImpl);\n\t\tthis.valueFunctions = [];\n\n\t\t// tslint:disable-next-line:prefer-for-of\n\t\tfor (let i = 0; i < parameterExpressions.length; i++) {\n\t\t\tconst parameterExpression: string = parameterExpressions[i];\n\t\t\tconst watcher: Supplier<any> = new WatcherImpl<any>(watchable, parameterExpression).addCallback(this, this.onChange);\n\t\t\tthis.valueFunctions.push(() => watcher.get());\n\t\t}\n\t}\n\n\tprotected execute(items: any[]): any[] {\n\t\titems.sort((first: any, second: any) => this.evaluator.compare(first, second, this.valueFunctions));\n\n\t\treturn items;\n\t}\n\n}\n\nexport default SortPhaseImpl;\n","import Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport Scope from \"@/model/Scope\";\n\nclass ComparisonEvaluator {\n\n\tprivate expression: string;\n\n\tprivate logger: Logger;\n\n\tprivate code: string;\n\n\tprivate scope: ScopeImpl;\n\n\tconstructor(expression: string, scope: Scope) {\n\t\tthis.logger = LoggerFactory.getLogger(\"Evaluator: \" + expression);\n\t\tthis.expression = expression;\n\t\tthis.scope = scope as ScopeImpl;\n\t\tthis.code = '\"use strict\"; ' + this.scope.getCode() + ' var a = arguments[1]; var b = arguments[2]; var p = arguments[3]; return (' + this.expression + ');';\n\t}\n\n\tpublic compare(first: any, second: any, values: (() => any)[]): number {\n\t\tlet result: number = 0;\n\t\tconst firstFn: () => any = () => first;\n\t\tconst secondFn: () => any = () => second;\n\t\tconst valueFn: (index: number) => any = (i) => values[i]();\n\n\t\ttry {\n\t\t\tresult = Function(this.code).apply({}, [this.scope.getItems(), firstFn, secondFn, valueFn]);\n\t\t} catch (e) {\n\t\t\tthis.logger.error(\"\\nAn exception (\" + e.name + \") was thrown invoking the element mediator expression: \"\n\t\t\t\t+ this.expression + \"\\n\\nIn context:\\n\" + this.code + \"\\n\\nException message: \" + e.message + \"\\n\\n\", e);\n\t\t}\n\n\t\treturn result;\n\t}\n\n}\n\nexport default ComparisonEvaluator;\n","import AbstractPhaseImpl from \"@/filter/AbstractPhaseImpl\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\nimport IndexedEvaluator from \"@/model/IndexedEvaluator\";\nimport { asBoolean } from \"@/model/Reducers\";\nimport Watchable from \"@/model/Watchable\";\nimport WatcherImpl from \"@/filter/WatcherImpl\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\nimport Supplier from \"@/pattern/Supplier\";\nimport { Phase } from \"@/filter/Interfaces\";\n\nclass PredicatePhaseImpl extends AbstractPhaseImpl {\n\n\tprivate evaluator: IndexedEvaluator<boolean>;\n\n\tprivate valueFunctions: (() => any)[];\n\n\tconstructor(previous: Phase, expression: string, watchable: Watchable, parameterExpressions: string[]) {\n\t\tsuper(previous);\n\t\trequireNotNull(expression, \"expression\");\n\t\tthis.evaluator = new IndexedEvaluator(expression, watchable.getWatchContext() as ScopeImpl, asBoolean);\n\t\tthis.valueFunctions = [];\n\n\t\t// tslint:disable-next-line:prefer-for-of\n\t\tfor (let i = 0; i < parameterExpressions.length; i++) {\n\t\t\tconst parameterExpression: string = parameterExpressions[i];\n\t\t\tconst watcher: Supplier<any> = new WatcherImpl<any>(watchable, parameterExpression).addCallback(this, this.onChange);\n\t\t\tthis.valueFunctions.push(() => watcher.get());\n\t\t}\n\t}\n\n\tprotected execute(items: any[]): any[] {\n\t\tconst result: any[] = [];\n\n\t\t// tslint:disable-next-line:prefer-for-of\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tconst current: any = items[i];\n\n\t\t\tif (this.evaluator.test(current, i, this.valueFunctions)) {\n\t\t\t\tresult.push(current);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n}\n\nexport default PredicatePhaseImpl;\n","import Logger from \"@/logger/Logger\";\nimport LoggerFactory from \"@/logger/LoggerFactory\";\nimport { asIdentity } from \"@/model/Reducers\";\nimport { isDefined } from \"@/util/ObjectUtils\";\nimport Scope from \"@/model/Scope\";\nimport ScopeImpl from \"@/model/ScopeImpl\";\n\nclass IndexedEvaluator<T> {\n\n\tprivate expression: string;\n\n\tprivate logger: Logger;\n\n\tprivate code: string;\n\n\tprivate reducerFn: (input: any) => T;\n\n\tprivate scope: ScopeImpl;\n\n\tconstructor(expression: string, scope: Scope, reducerFn: (input: any) => T) {\n\t\tthis.reducerFn = isDefined(reducerFn) ? reducerFn : asIdentity;\n\t\tthis.logger = LoggerFactory.getLogger(\"Evaluator: \" + expression);\n\t\tthis.expression = expression;\n\t\tthis.scope = scope as ScopeImpl;\n\t\tthis.code = '\"use strict\"; ' + this.scope.getCode() + ' var v = arguments[1]; var index = arguments[2]; var p = arguments[3]; return (' + this.expression + ');';\n\t}\n\n\tpublic test(subject: any, index: number, values: (() => any)[]): T {\n\t\tlet value: T = null;\n\t\tconst subjectFn: () => any = () => subject;\n\t\tconst valueFn: (index: number) => any = (i) => values[i]();\n\n\t\ttry {\n\t\t\tvalue = Function(this.code).apply({}, [this.scope.getItems(), subjectFn, index, valueFn]);\n\t\t} catch (e) {\n\t\t\tthis.logger.error(\"\\nAn exception (\" + e.name + \") was thrown invoking the element mediator expression: \"\n\t\t\t\t+ this.expression + \"\\n\\nIn context:\\n\" + this.code + \"\\n\\nException message: \" + e.message + \"\\n\\n\", e);\n\t\t}\n\n\t\tconst result = this.reducerFn(value);\n\n\t\treturn result;\n\t}\n\n}\n\nexport default IndexedEvaluator;\n","import { Phase } from \"@/filter/Interfaces\";\n\nclass IdentityPhaseImpl implements Phase {\n\n\tpublic process(items: any[]): any[] {\n\t\treturn items;\n\t}\n\n\tpublic setCallback(callback: () => void): void {\n\t\t// Intentionally do nothing\n\t}\n\n\tpublic invalidate(): void {\n\t\t// Intentionally do nothing\n\t}\n\n}\n\nexport default IdentityPhaseImpl;\n","import AbstractPhaseImpl from \"@/filter/AbstractPhaseImpl\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\nimport { Phase } from \"@/filter/Interfaces\";\n\nclass SimplePredicatePhaseImpl extends AbstractPhaseImpl {\n\n\tprivate predicate: (index: number, value: any) => boolean;\n\n\tconstructor(previous: Phase, predicate: (index: number, value: any) => boolean) {\n\t\tsuper(previous);\n\t\tthis.predicate = requireNotNull(predicate, \"predicate\");\n\t}\n\n\tprotected execute(items: any[]): any[] {\n\t\tconst result: any[] = [];\n\n\t\t// tslint:disable-next-line:prefer-for-of\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tconst current: any = items[i];\n\n\t\t\tif (this.predicate.apply({}, [i, current])) {\n\t\t\t\tresult.push(current);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n}\n\nexport default SimplePredicatePhaseImpl;\n","import AbstractPhaseImpl from \"@/filter/AbstractPhaseImpl\";\nimport { Phase } from \"@/filter/Interfaces\";\nimport { requireNotNull } from \"@/util/ObjectUtils\";\n\nclass DelegatingPhaseImpl extends AbstractPhaseImpl {\n\n\tprivate fn: (input: any[]) => any[];\n\n\tconstructor(previous: Phase, fn: (input: any[]) => any[]) {\n\t\tsuper(previous);\n\t\tthis.fn = requireNotNull(fn, \"fn\");\n\t}\n\n\tprotected execute(items: any[]): any[] {\n\t\treturn this.fn.apply({}, [items]);\n\t}\n\n}\n\nexport default DelegatingPhaseImpl;\n"],"sourceRoot":""}