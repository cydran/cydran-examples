/*!
 * v0.1.23
 * Cydran <http://cydran.io/>
 * Copyright (c) 2018 The Cydran Team and other contributors <http://cydran.io/>
 * Released under MIT license <http://cydran.io/license>
 * ---
 * Derivative work based on Lodash 4.17.15 <https://lodash.com/license>
 * Copyright (c) 2019 OpenJS Foundation and other contributors <https://openjsf.org/>
 * ---
 * Derivative work based on Underscore.js
 * Copyright (c) 2012 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * ---
 * Derivative work based on docReady <https://github.com/jfriend00/docReady/blob/master/license>
 * Copyright (c) 2014, John Friend <https://github.com/jfriend00/docReady/>
 * ---
 * Derivative work based on Math.uuid.js <http://www.broofa.com>
 * Copyright (c) 2010 Robert Kieffer <https://www.broofa.com/2008/09/javascript-uuid-function/>
 */
var t,e;t=window,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=30)}([function(t,e,n){"use strict";(function(t,r){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0}),e.setStrictTypeChecksEnabled=e.encodeHtml=e.isDefined=e.requireObjectType=e.requireType=e.requireValid=e.requireNotNull=e.equals=e.clone=void 0;var i=o(n(19)),s=o(n(37)),u=o(n(38)),a="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",p="[object Function]",h="[object GeneratorFunction]",d="[object Map]",_="[object Number]",g="[object Object]",y="[object RegExp]",m="[object Set]",v="[object String]",N="[object WeakMap]",E="[object DataView]",b="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",M="[object Int16Array]",O="[object Int32Array]",D="[object Uint8Array]",w="[object Uint16Array]",I="[object Uint32Array]",P=/\w*$/,T=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,j={};j[b]=j[A]=j[C]=j[M]=j[O]=j[D]=j["[object Uint8ClampedArray]"]=j[w]=j[I]=!0,j[a]=j[c]=j["[object ArrayBuffer]"]=j[l]=j[E]=j[f]=j["[object Error]"]=j[p]=j[d]=j[_]=j[g]=j[y]=j[m]=j[v]=j[N]=!1;var S={};S[a]=S[c]=S["[object ArrayBuffer]"]=S[E]=S[l]=S[f]=S[b]=S[A]=S[C]=S[M]=S[O]=S[d]=S[_]=S[g]=S[y]=S[m]=S[v]=S["[object Symbol]"]=S[D]=S["[object Uint8ClampedArray]"]=S[w]=S[I]=!0,S["[object Error]"]=S[p]=S[N]=!1;var x="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,F=x||R||Function("return this")(),q=e&&!e.nodeType&&e,$=q&&"object"==typeof r&&r&&!r.nodeType&&r,k=$&&$.exports===q;function H(t,e){for(var n=e.length,r=t.length,o=-1;++o<n;)t[r+o]=e[o];return t}function B(t){var e=Array(t.size),n=-1;return t.forEach((function(t,r){e[++n]=[r,t]})),e}function V(t,e){return function(n){return t(e(n))}}function G(t){var e=Array(t.size),n=-1;return t.forEach((function(t){e[++n]=t})),e}var U,z=F,W=Array.prototype,K=Function.prototype,Y=Object.prototype,X=z["__core-js_shared__"],J=K.toString,Z=Y.hasOwnProperty,Q=(U=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",tt=Y.toString,et=RegExp("^"+J.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=k?z.Buffer:undefined,rt=z.Symbol,ot=z.Uint8Array,it=nt?nt.allocUnsafe:undefined,st=V(Object.getPrototypeOf,Object),ut=Object.create,at=Y.propertyIsEnumerable,ct=W.splice,lt=rt?rt.toStringTag:undefined,ft=Object.getOwnPropertySymbols,pt=nt?nt.isBuffer:undefined,ht=V(Object.keys,Object),dt=Xt(z,"DataView"),_t=Xt(z,"Map"),gt=Xt(z,"Promise"),yt=Xt(z,"Set"),mt=Xt(z,"WeakMap"),vt=Xt(Object,"create"),Nt=ne(dt),Et=ne(_t),bt=ne(gt),At=ne(yt),Ct=ne(mt),Mt=rt?rt.prototype:undefined,Ot=Mt?Mt.valueOf:undefined,Dt=function(){function t(){}return function(e){if(!le(e))return{};if(ut)return ut(e);t.prototype=e;var n=new t;return t.prototype=undefined,n}}(),wt=function(){function t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}return t.prototype.clear=function(){this.__DATA__=vt?vt(null):{},this.size=0},t.prototype["delete"]=function(t){var e=this.has(t)&&delete this.__DATA__[t];return this.size-=e?1:0,e},t.prototype.get=function(t){var e=this.__DATA__;if(vt){var n=e[t];return"__lodash_hash_undefined__"===n?undefined:n}return Z.call(e,t)?e[t]:undefined},t.prototype.has=function(t){var e=this.__DATA__;return vt?e[t]!==undefined:Z.call(e,t)},t.prototype.set=function(t,e){var n=this.__DATA__;return this.size+=this.has(t)?0:1,n[t]=vt&&e===undefined?"__lodash_hash_undefined__":e,this},t}(),It=function(){function t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}return t.prototype.clear=function(){this.__DATA__=[],this.size=0},t.prototype["delete"]=function(t){var e=this.__DATA__,n=xt(e,t);return!(n<0||(n==e.length-1?e.pop():ct.call(e,n,1),--this.size,0))},t.prototype.get=function(t){var e=this.__DATA__,n=xt(e,t);return n<0?undefined:e[n][1]},t.prototype.has=function(t){return xt(this.__DATA__,t)>-1},t.prototype.set=function(t,e){var n=this.__DATA__,r=xt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},t}(),Pt=function(){function t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}return t.prototype.clear=function(){this.size=0,this.__DATA__={hash:new wt,map:new(_t||It),string:new wt}},t.prototype["delete"]=function(t){var e=Yt(this,t)["delete"](t);return this.size-=e?1:0,e},t.prototype.get=function(t){return Yt(this,t).get(t)},t.prototype.has=function(t){return Yt(this,t).has(t)},t.prototype.set=function(t,e){var n=Yt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},t}(),Tt=function(){function t(t){var e=-1,n=null==t?0:t.length;for(this.__DATA__=new Pt;++e<n;)this.add(t[e])}return t.prototype.push=function(t){return this.add(t)},t.prototype.add=function(t){return this.__DATA__.set(t,"__lodash_hash_undefined__"),this},t.prototype.has=function(t){return this.__DATA__.has(t)},t}(),Lt=function(){function t(t){var e=this.__DATA__=new It(t);this.size=e.size}return t.prototype.clear=function(){this.__DATA__=new It,this.size=0},t.prototype["delete"]=function(t){var e=this.__DATA__,n=e["delete"](t);return this.size=e.size,n},t.prototype.get=function(t){return this.__DATA__.get(t)},t.prototype.has=function(t){return this.__DATA__.has(t)},t.prototype.set=function(t,e){var n=this.__DATA__;if(n instanceof It){var r=n.__DATA__;if(!_t||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__DATA__=new Pt(r)}return n.set(t,e),this.size=n.size,this},t}();function jt(t,e){var n=ie(t),r=!n&&oe(t),o=!n&&!r&&ue(t),i=!n&&!r&&!o&&de(t),s=n||r||o||i,u=s?function(t,e){for(var n=Array(t),r=-1;++r<t;)n[r]=e(r);return n}(t.length,String):[],a=u.length;for(var c in t)!e&&!Z.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||te(c,a))||u.push(c);return u}function St(t,e,n){var r=t[e];Z.call(t,e)&&re(r,n)&&(n!==undefined||e in t)||Rt(t,e,n)}function xt(t,e){for(var n=t.length;n--;)if(re(t[n][0],e))return n;return-1}function Rt(t,e,n){"__proto__"==e&&Object.defineProperty?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ft(t,e,n,r,o,i){var s,u=1&e,c=2&e,N=4&e;if(n&&(s=o?n(t,r,o,i):n(t)),s!==undefined)return s;if(!le(t))return t;var T=ie(t);if(T){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Z.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return function(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e}(t,s)}else{var L=Qt(t),j=L==p||L==h;if(ue(t))return function(t,e){if(e)return t.slice();var n=t.length,r=t.constructor,o=it?it(n):new r(n);return t.copy(o),o}(t,!!u);if(L==g||L==a||j&&!o){if(s=c||j?{}:function(t){return"function"!=typeof t.constructor||ee(t)?{}:Dt(st(t))}(t),!u)return c?function(t,e){return Ut(t,Zt(t),e)}(t,function(t,e){return t&&Ut(e,ge(e),t)}(s,t)):function(t,e){return Ut(t,Jt(t),e)}(t,function(t,e){return t&&Ut(e,_e(e),t)}(s,t))}else{if(!S[L])return o?t:{};s=function(t,e,n){var r,o=t.constructor;switch(e){case"[object ArrayBuffer]":return Gt(t);case l:case f:return new o(+t);case E:return function(t,e){var n=e?Gt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case b:case A:case C:case M:case O:case D:case"[object Uint8ClampedArray]":case w:case I:return function(t,e){var n=e?Gt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case d:return new o;case _:case v:return new o(t);case y:return function(t){var e=new t.constructor(t.source,P.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return new o;case"[object Symbol]":return r=t,Ot?Object(Ot.call(r)):{}}}(t,L,!!u)}}var x=(i=i||new Lt).get(t);if(x)return x;i.set(t,s),he(t)?t.forEach((function(r){s.add(Ft(r,e,n,r,t,i))})):pe(t)&&t.forEach((function(r,o){s.set(o,Ft(r,e,n,o,t,i))}));var R=T?undefined:(N?c?Kt:Wt:c?ge:_e)(t);return function(t,e){for(var n=null==t?0:t.length,r=-1;++r<n&&!1!==e(t[r],r,t););}(R||t,(function(r,o){R&&(r=t[o=r]),St(s,o,Ft(r,e,n,o,t,i))})),s}function qt(t,e,n){var r=e(t);return ie(t)?r:H(r,n(t))}function $t(t){return null==t?t===undefined?"[object Undefined]":"[object Null]":lt&&lt in Object(t)?function(t){var e=Z.call(t,lt),n=t[lt],r=!1;try{t[lt]=undefined,r=!0}catch(i){}var o=tt.call(t);return r&&(e?t[lt]=n:delete t[lt]),o}(t):function(t){return tt.call(t)}(t)}function kt(t){return fe(t)&&$t(t)==a}function Ht(t,e,n,r,o){return t===e||(null==t||null==e||!fe(t)&&!fe(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var s=ie(t),u=ie(e),p=s?c:Qt(t),h=u?c:Qt(e),N=(p=p==a?g:p)==g,b=(h=h==a?g:h)==g,A=p==h;if(A&&ue(t)){if(!ue(e))return!1;s=!0,N=!1}if(A&&!N)return i=i||new Lt,s||de(t)?zt(t,e,n,r,o,i):function(t,e,n,r,o,i,s){var u;switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new ot(t),new ot(e)));case l:case f:case _:return re(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case y:case v:return t==e+"";case d:u=B;case m:var a=1&r;if(u=u||G,t.size!=e.size&&!a)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var p=zt(u(t),u(e),r,o,i,s);return s["delete"](t),p;case"[object Symbol]":if(Ot)return Ot.call(t)==Ot.call(e)}return!1}(t,e,p,n,r,o,i);if(!(1&n)){var C=N&&Z.call(t,"__wrapped__"),M=b&&Z.call(e,"__wrapped__");if(C||M){var O=C?t.value():t,D=M?e.value():e;return i=i||new Lt,o(O,D,n,r,i)}}return!!A&&(i=i||new Lt,function(t,e,n,r,o,i){var s=1&n,u=Wt(t),a=u.length,c=Wt(e).length;if(a!=c&&!s)return!1;for(var l=a;l--;){var f=u[l];if(!(s?f in e:Z.call(e,f)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var h=!0;i.set(t,e),i.set(e,t);for(var d=!!s;++l<a;){f=u[l];var _=t[f],g=e[f],y=void 0;if(r&&(y=s?r(g,_,f,e,t,i):r(_,g,f,t,e,i)),!(y===undefined?_===g||o(_,g,n,r,i):y)){h=!1;break}d=d||"constructor"==f}if(h&&!d){var m=t.constructor,v=e.constructor;m==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v||(h=!1)}return i["delete"](t),i["delete"](e),h}(t,e,n,r,o,i))}(t,e,n,r,Ht,o))}function Bt(t){return!(!le(t)||(e=t,Q&&Q in e))&&(ae(t)?et:T).test(ne(t));var e}function Vt(t){if(!le(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=ee(t),n=[];for(var r in t)("constructor"!=r||!e&&Z.call(t,r))&&n.push(r);return n}function Gt(t){var e=new(0,t.constructor)(t.byteLength);return new ot(e).set(new ot(t)),e}function Ut(t,e,n,r){var o=!n;n=o?{}:n;for(var i=-1,s=e.length;++i<s;){var u=e[i],a=r?r(n[u],t[u],u,n,t):undefined;a===undefined&&(a=t[u]),o?Rt(n,u,a):St(n,u,a)}return n}function zt(t,e,n,r,o,i){var s=1&n,u=t.length,a=e.length;if(u!=a&&!(s&&a>u))return!1;var c=i.get(t);if(c&&i.get(e))return c==e;var l=-1,f=!0,p=2&n?new Tt:undefined;i.set(t,e),i.set(e,t);for(var h=function(){var u=t[l],a=e[l],c=void 0;if(r&&(c=s?r(a,u,l,e,t,i):r(u,a,l,t,e,i)),c!==undefined)return c?"continue":(f=!1,"break");if(p){if(!function(t,e){for(var n=null==t?0:t.length,r=-1;++r<n;)if(e(t[r],r,t))return!0;return!1}(e,(function(t,e){if(s=e,!p.has(s)&&(u===t||o(u,t,n,r,i)))return p.push(e);var s})))return f=!1,"break"}else if(u!==a&&!o(u,a,n,r,i))return f=!1,"break"};++l<u&&"break"!==h(););return i["delete"](t),i["delete"](e),f}function Wt(t){return qt(t,_e,Jt)}function Kt(t){return qt(t,ge,Zt)}function Yt(t,e){var n,r,o=t.__DATA__;return("string"==(r=typeof(n=e))||"number"===r||"symbol"===r||"boolean"===r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Xt(t,e){var n=function(t,e){return null==t?undefined:t[e]}(t,e);return Bt(n)?n:undefined}var Jt=ft?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=null==t?0:t.length,r=[],o=-1,i=0;++o<n;){var s=t[o];e(s,o,t)&&(r[i++]=s)}return r}(ft(t),(function(e){return at.call(t,e)})))}:ye,Zt=ft?function(t){for(var e=[];t;)H(e,Jt(t)),t=st(t);return e}:ye,Qt=$t;function te(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"===n||"symbol"!==n&&L.test(t))&&t>-1&&t%1==0&&t<e}function ee(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function ne(t){if(null!=t){try{return J.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function re(t,e){return t===e||t!=t&&e!=e}(dt&&Qt(new dt(new ArrayBuffer(1)))!==E||_t&&Qt(new _t)!==d||gt&&"[object Promise]"!==Qt(gt.resolve())||yt&&Qt(new yt)!==m||mt&&Qt(new mt)!==N)&&(Qt=function(t){var e=$t(t),n=e===g?t.constructor:undefined,r=n?ne(n):"";if(r)switch(r){case Nt:return E;case Et:return d;case bt:return"[object Promise]";case At:return m;case Ct:return N}return e});var oe=kt(function(){return arguments}())?kt:function(t){return fe(t)&&Z.call(t,"callee")&&!at.call(t,"callee")},ie=Array.isArray;function se(t){return null!=t&&ce(t.length)&&!ae(t)}var ue=pt||function(){return!1};function ae(t){if(!le(t))return!1;var e=$t(t);return e===p||e===h||"[object AsyncFunction]"===e||"[object Proxy]"===e}function ce(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function le(t){var e=typeof t;return null!=t&&("object"===e||"function"===e)}function fe(t){return null!=t&&"object"==typeof t}var pe=function(t){return fe(t)&&Qt(t)==d},he=function(t){return fe(t)&&Qt(t)==m},de=function(t){return fe(t)&&ce(t.length)&&!!j[$t(t)]};function _e(t){return se(t)?jt(t):function(t){if(!ee(t))return ht(t);var e=[];for(var n in Object(t))Z.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}function ge(t){return se(t)?jt(t,!0):Vt(t)}function ye(){return[]}var me={'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;"};function ve(t){return me[t]}function Ne(t){return null!==t&&t!==undefined}function Ee(t,e){if(null===t||t===undefined)throw new i["default"](e+" shall not be null");return t}function be(t,e,n){if(Ee(e,n),"object"!=typeof e)throw new u["default"](n+" is not an object but was "+typeof e);if(!function r(t,e){if(!Ne(e))return!1;var n=Object.getPrototypeOf(e);return!!Ne(n)&&!!Ne(n.constructor)&&!!Ne(n.constructor.name)&&"Object"!==n.constructor.name&&(n.constructor.name===t||r(t,n))}(t,e))throw new u["default"](n+" must be of type "+t);return e}e.encodeHtml=function(t){return null===t?null:(t+"").replace(/[&"'<>]/g,ve)},e.clone=function(t){return Ft(t,5)},e.equals=function(t,e){return Ht(t,e)},e.isDefined=Ne,e.requireNotNull=Ee,e.requireValid=function(t,e,n){if(null===t||t===undefined)throw new i["default"](e+" shall not be null");if(!n.test(t))throw new s["default"](e+" must be valid");return t},e.requireType=function(t,e,n){Ee(e,n);var r=typeof e;if(r!==t)throw new u["default"](n+" must be of type "+t+" but was "+r);return e};var Ae=!1;e.requireObjectType=function(t,e,n){return Ae?be(t,e,n):Ee(e,n)},e.setStrictTypeChecksEnabled=function(t){Ae=!!t}}).call(this,n(18),n(36)(t))},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(39)),i=r(n(20)),s=function(){function t(){}return t.getLogger=function(t){return new o["default"](t,i["default"].INSTANCE)},t}();e["default"]=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ANONYMOUS_REGION_PREFIX=e.EMPTY_OBJECT_FN=e.NO_OP_FN=e.TEXT_NODE_TYPE=e.MODULE_FIELD_NAME=e.INTERNAL_CHANNEL_NAME=e.INTERNAL_DIRECT_CHANNEL_NAME=e.DEFAULT_MODULE_KEY=e.COMPONENT_INTERNALS_FIELD_NAME=void 0,e.INTERNAL_DIRECT_CHANNEL_NAME="Cydran$$Direct$$Internal$$Channel",e.TEXT_NODE_TYPE=3,e.MODULE_FIELD_NAME="____internal$$cydran$$module____",e.INTERNAL_CHANNEL_NAME="Cydran$$Internal$$Channel",e.COMPONENT_INTERNALS_FIELD_NAME="____internal$$cydran____",e.DEFAULT_MODULE_KEY="DEFAULT",e.ANONYMOUS_REGION_PREFIX="%%%Region_",e.NO_OP_FN=function(){},e.EMPTY_OBJECT_FN=function(){return{}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=n(7),s=n(41),u=n(2),a=r(n(21)),c=r(n(13)),l=n(0),f=function(){function t(t,e,n,r){this.topLevelSupported=!l.isDefined(r)||r,this.____internal$$cydran____=l.requireNotNull(t,"dependencies"),this.logger=o["default"].getLogger("ElementMediator: "+t.prefix),this.domListeners={},this.pubSub=new c["default"](this,this.getModule()),this.params=null,this.propagation=e,this.id=a["default"].INSTANCE.generate(),this.reducerFn=n}return t.prototype.dispose=function(){this.removeDomListeners(),this.unwire(),this.____internal$$cydran____=null,this.mediator=null},t.prototype.init=function(){this.mediator=this.mediate(this.getExpression(),this.reducerFn),this.wire()},t.prototype.get=function(t){return l.requireValid(t,"id",i.VALID_ID),this.____internal$$cydran____.module.get(t)},t.prototype.message=function(t,e,n){l.requireNotNull(t,"channelName"),l.requireNotNull(e,"messageName");var r=null===n||n===undefined?{}:n;this.pubSub.message(t,e,r)},t.prototype.broadcast=function(t,e,n){l.requireNotNull(t,"channelName"),l.requireNotNull(e,"messageName");var r=null===n||n===undefined?{}:n;this.getModule().broadcast(t,e,r)},t.prototype.broadcastGlobally=function(t,e,n){l.requireNotNull(t,"channelName"),l.requireNotNull(e,"messageName");var r=null===n||n===undefined?{}:n;this.____internal$$cydran____.module.broadcastGlobally(t,e,r)},t.prototype.on=function(t){var e=this;return l.requireNotNull(t,"messageName"),{forChannel:function(n){return l.requireNotNull(n,"channelName"),{invoke:function(r){l.requireNotNull(r,"target"),e.pubSub.on(t).forChannel(n).invoke((function(t){r.apply(e,[t])}))}}},invoke:function(n){l.requireNotNull(n,"target"),e.pubSub.on(t).forChannel(u.INTERNAL_CHANNEL_NAME).invoke((function(t){n.apply(e,[t])}))}}},t.prototype.requestMediatorSources=function(t){},t.prototype.getParentId=function(){return this.____internal$$cydran____.mvvm.getId()},t.prototype.getId=function(){return this.id},t.prototype.requestMediators=function(t){},t.prototype.hasPropagation=function(){return this.propagation},t.prototype.isTopLevelSupported=function(){return this.topLevelSupported},t.prototype.getParams=function(){return null===this.params&&(this.params=s.extractAttributes(this.getPrefix(),this.getEl())),this.params},t.prototype.getModelFn=function(){return this.____internal$$cydran____.mvvm.getModelFn()},t.prototype.bridge=function(t){var e=this;l.requireNotNull(t,"name");var n=function(n){e.message("dom",t,n)};this.domListeners[t]||(this.domListeners[t]=n,this.getEl().addEventListener(t,n,!1))},t.prototype.getEl=function(){return this.____internal$$cydran____.el},t.prototype.getModule=function(){return this.____internal$$cydran____.module},t.prototype.getPrefix=function(){return this.____internal$$cydran____.prefix},t.prototype.mediate=function(t,e){return l.requireNotNull(t,"expression"),this.____internal$$cydran____.mvvm.mediate(t,e)},t.prototype.getModel=function(){return this.____internal$$cydran____.model},t.prototype.getParent=function(){return this.____internal$$cydran____.parent.getComponent()},t.prototype.getModelMediator=function(){return this.mediator},t.prototype.$apply=function(t,e){l.requireNotNull(t,"fn"),l.requireNotNull(e,"args"),this.____internal$$cydran____&&this.____internal$$cydran____.mvvm&&this.____internal$$cydran____.mvvm.$apply(t,e)},t.prototype.getExpression=function(){return this.____internal$$cydran____.expression},t.prototype.getLogger=function(){return this.logger},t.prototype.removeDomListeners=function(){for(var t in this.domListeners)this.domListeners.hasOwnProperty(t)&&this.getEl().removeEventListener(t,this.domListeners[t]);this.domListeners={}},t}();e["default"]=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(){}return t.register=function(e,n,o){r.requireNotNull(e,"name"),r.requireNotNull(n,"supportedTags"),r.requireNotNull(o,"elementMediatorClass"),t.factories[e]||(t.factories[e]={});for(var i=0,s=n;i<s.length;i++){var u=s[i];t.factories[e][u]=o}},t.get=function(e){return t.factories[e]},t.factories={},t}();e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asNumber=e.asString=e.asBoolean=e.asIdentity=void 0;var r=n(0);e.asIdentity=function(t){return t},e.asBoolean=function(t){return Boolean(t)},e.asString=function(t){return r.isDefined(t)?""+t:null},e.asNumber=function(t){return r.isDefined(t)?Number(t):null}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CydranError=void 0;var i=function(t){function e(n,r){var o=this.constructor,i=t.call(this)||this;return i.name=o.name,i.message=r?e.doMsgFilling(n,r):n,i}return o(e,t),e.doMsgFilling=function(t,e){return t.replace(/%\w+%/g,(function(t){return e[t]+""||t}))},e}(Error);e.CydranError=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VALID_KEY=e.VALID_ID=void 0,e.VALID_ID=/^[a-zA-Z][a-zA-Z0-9\$\@\-\_\.\:\\\/]*$/m;var r=new RegExp(/^[a-zA-Z\$\_][a-zA-Z0-9\$\_]*$/);e.VALID_KEY=r},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createTextNodeOffDom=e.createDocumentFragmentOffDom=e.createCommentOffDom=e.createElementOffDom=e.domReady=void 0;var o=r(n(23)),i=n(0),s=null,u=null;function a(){return i.isDefined(s)||(s=o["default"].getWindow()),s}function c(){return a().document}function l(){return i.isDefined(u)||(u=c().implementation.createHTMLDocument("")),u}var f=[],p=!1,h=!1;function d(){if(!p){p=!0;for(var t=0;t<f.length;t++)f[t].fn.call(a(),f[t].ctx);f=[]}}function _(){"complete"===c().readyState&&d()}e.domReady=function(t,e){if("function"!=typeof t)throw new TypeError("callback for docReady(fn) must be a function");"complete"!==c().readyState?p?setTimeout((function(){t(e)}),1):(f.push({fn:t,ctx:e}),"complete"===c().readyState||!c().attachEvent&&"interactive"===c().readyState?setTimeout(d,1):h||(c().addEventListener?(c().addEventListener("DOMContentLoaded",d,!1),a().addEventListener("load",d,!1)):(c().attachEvent("onreadystatechange",_),a().attachEvent("onload",d)),h=!0)):t.apply(e,[])},e.createElementOffDom=function(t){return l().createElement(t)},e.createCommentOffDom=function(t){return l().createComment(t)},e.createDocumentFragmentOffDom=function(){return l().createDocumentFragment()},e.createTextNodeOffDom=function(t){return l().createTextNode(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentConfigBuilder=e.ComponentConfigImpl=void 0;var r=n(0),o=function(){function t(){this.metadata={},this.prefix="c",this.topComponentIds=[],this.bottomComponentIds=[],this.parentModelFn=null}return t.prototype.getMetadata=function(t){return this.metadata[t]?this.metadata[t]:null},t.prototype.getPrefix=function(){return this.prefix},t.prototype.withMetadata=function(t,e){this.metadata[t]=e},t.prototype.withPrefix=function(t){this.prefix=t},t.prototype.setTopComponentIds=function(t){this.topComponentIds=t},t.prototype.setBottomComponentIds=function(t){this.bottomComponentIds=t},t.prototype.getTopComponentIds=function(){return this.topComponentIds},t.prototype.getBottomComponentIds=function(){return this.bottomComponentIds},t.prototype.setModule=function(t){this.module=t},t.prototype.getModule=function(){return this.module},t.prototype.setParentModelFn=function(t){this.parentModelFn=t},t.prototype.getParentModelFn=function(){return this.parentModelFn},t}();e.ComponentConfigImpl=o;var i=function(){function t(){this.instance=new o}return t.prototype.withMetadata=function(t,e){return r.requireNotNull(t,"name"),r.requireNotNull(e,"value"),this.instance.withMetadata(t,e),this},t.prototype.withPrefix=function(t){return r.requireNotNull(t,"prefix"),this.instance.withPrefix(t),this},t.prototype.build=function(){return this.instance},t}();e.ComponentConfigBuilder=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(19)),i=r(n(55)),s=n(7),u={v:"v",value:"value",m:"m",model:"model",p:"p",parent:"param",compare:"compare"},a=function(){function t(t){this.children=[],this.localItems={},this.items={},this.code="",this.parent=null,this.restricted=null===t||t===undefined||t}return t.prototype.setParent=function(t){t&&(this.parent&&this.parent.removeChild(this),this.parent=t,this.parent.addChild(this),this.refresh())},t.prototype.addChild=function(t){t&&this.children.push(t)},t.prototype.removeChild=function(t){var e=this.children.indexOf(t);e>=0&&this.children.splice(e,1)},t.prototype.getItems=function(){return this.items},t.prototype.getCode=function(){return this.code},t.prototype.add=function(t,e){this.checkName(t),this.localItems[t]=e,this.refresh(),this.refreshChildren()},t.prototype.remove=function(t){this.checkName(t),delete this.localItems[t],this.refresh(),this.refreshChildren()},t.prototype.checkName=function(t){if(null===t||t===undefined)throw new o["default"]("name must not be null or undefined.");if(!s.VALID_KEY.test(t))throw new i["default"]("Only objects with names containing letters and numbers and starting with a letter are allowed.");if(this.restricted&&u[t])throw new i["default"](t+" is a reserved name in the scope.")},t.prototype.refresh=function(){if(this.items={},this.parent){var t=this.parent.getItems();for(var e in t)t.hasOwnProperty(e)&&(this.items[e]=t[e])}for(var e in this.localItems)this.localItems.hasOwnProperty(e)&&(this.items[e]=this.localItems[e]);this.refreshCode()},t.prototype.refreshCode=function(){for(var t in this.code="",this.items)if(this.items.hasOwnProperty(t)){var e="var "+t+" = arguments[0]['"+t+"'];\n";this.code+=e}},t.prototype.refreshChildren=function(){for(var t=0,e=this.children;t<e.length;t++)e[t].refresh()},t}();e["default"]=a},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=r(n(16)),s=n(0),u=function(){function t(t,e){this.____internal$$cydran$$init____(t,e)}return t.prototype.metadata=function(){var t=this.____internal$$cydran____;return{get:function(e){return t.getMetadata(e)},has:function(e){return t.hasMetadata(e)}}},t.prototype.hasRegion=function(t){return this.____internal$$cydran____.hasRegion(t)},t.prototype.getChild=function(t){return this.____internal$$cydran____.getChild(t)},t.prototype.setChild=function(t,e){this.____internal$$cydran____.setChild(t,e)},t.prototype.setChildFromRegistry=function(t,e,n){this.____internal$$cydran____.setChildFromRegistry(t,e,n)},t.prototype.message=function(t,e,n){this.____internal$$cydran____.message(t,e,n)},t.prototype.dispose=function(){this.____internal$$cydran____.dispose()},t.prototype.getParent=function(){return this.____internal$$cydran____.getParent()},t.prototype.getEl=function(){return this.____internal$$cydran____.getEl()},t.prototype.get=function(t){return this.____internal$$cydran____.get(t)},t.prototype.scope=function(){return this.____internal$$cydran____.getScope()},t.prototype.getPrefix=function(){return this.____internal$$cydran____.getPrefix()},t.prototype.isConnected=function(){return this.____internal$$cydran____.isConnected()},t.prototype.getId=function(){return this.____internal$$cydran____.getId()},t.prototype.forElement=function(t){return this.____internal$$cydran____.forElement(t)},t.prototype.watch=function(t,e,n,r){this.____internal$$cydran____.watch(t,e,n,r)},t.prototype.evaluate=function(t){return this.____internal$$cydran____.evaluate(t)},t.prototype.getWatchContext=function(){return this.____internal$$cydran____.getWatchContext()},t.prototype.getValue=function(){return this.____internal$$cydran____.getData()},t.prototype.broadcast=function(t,e,n){this.____internal$$cydran____.broadcast(t,e,n)},t.prototype.broadcastGlobally=function(t,e,n){this.____internal$$cydran____.broadcastGlobally(t,e,n)},t.prototype.$apply=function(t,e){this.____internal$$cydran____.$apply(t,e)},t.prototype.on=function(t){var e=this;return s.requireNotNull(t,"messageName"),{forChannel:function(n){return s.requireNotNull(n,"channelName"),{invoke:function(r){s.requireNotNull(r,"target"),e.____internal$$cydran____.on(r,t,n)}}},invoke:function(n){s.requireNotNull(n,"target"),e.____internal$$cydran____.on(n,t,o.INTERNAL_CHANNEL_NAME)}}},t.prototype.getLogger=function(){return this.____internal$$cydran____.getLogger()},t.prototype.____internal$$cydran$$init____=function(t,e){this.____internal$$cydran____=new i["default"](this,t,e),this.____internal$$cydran____.init()},t}();e["default"]=u},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.TRACE=0]="TRACE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.FATAL=5]="FATAL",t[t.DISABLED=6]="DISABLED"}(r||(r={})),e["default"]=r},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(42)),i=n(2),s=r(n(1)),u=n(0),a=function(){function t(t,e){this.context=t,this.module=e,this.logger=s["default"].getLogger("PubSub"),this.globalEnabled=!1,this.listeners=[],this.listenersByChannel={}}return t.prototype.setContext=function(t){this.context=t},t.prototype.setModule=function(t){this.module=t},t.prototype.message=function(t,e,n){u.requireNotNull(t,"channelName"),u.requireNotNull(e,"messageName");var r=null===n||n===undefined?{}:n;this.listeners.forEach((function(n){t===n.getChannelName()&&n.receive(e,r)}))},t.prototype.broadcast=function(t,e,n){u.requireNotNull(t,"channelName"),u.requireNotNull(e,"messageName");var r=null===n||n===undefined?{}:n;this.module.broadcast(t,e,r)},t.prototype.broadcastGlobally=function(t,e,n){this.module.broadcastGlobally(t,e,n)},t.prototype.dispose=function(){this.disableGlobal(),this.listeners=[],this.listenersByChannel={}},t.prototype.on=function(t){u.requireNotNull(t,"messageName");var e=this;return{forChannel:function(n){return u.requireNotNull(n,"channelName"),{invoke:function(r){u.requireNotNull(r,"target"),e.listenTo(n,t,r)}}},invoke:function(n){u.requireNotNull(n,"target"),e.listenTo(i.INTERNAL_CHANNEL_NAME,t,n)}}},t.prototype.enableGlobal=function(){if(!this.globalEnabled){this.logger.trace("Enabling global");for(var t=0,e=this.listeners;t<e.length;t++){var n=e[t];this.module.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"addListener",n)}this.globalEnabled=!0}},t.prototype.disableGlobal=function(){if(this.globalEnabled){this.logger.trace("Disabling global");for(var t=0,e=this.listeners;t<e.length;t++){var n=e[t];this.module.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"removeListener",n)}this.globalEnabled=!1}},t.prototype.listenTo=function(t,e,n){var r=this,s=this.listenersByChannel[t];s||(s=new o["default"](t,(function(){return r.context})),this.globalEnabled&&this.module.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"addListener",s),this.listeners.push(s)),s.register(e,n)},t.prototype.isGlobalEnabled=function(){return this.globalEnabled},t}();e["default"]=a},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),s=r(n(1)),u=function(){function t(t,e){this.logger=s["default"].getLogger(t),this.previous=o.requireNotNull(e,"previous"),this.memo=null,this.callback=i.NO_OP_FN}return t.prototype.process=function(t){this.logger.ifTrace((function(){return{message:"Received for processing",items:t}}));var e=this.previous.process(t);return this.logger.ifTrace((function(){return{message:"After processing",items:t}})),!o.isDefined(e)||o.equals(e,this.memo)?(this.logger.ifTrace((function(){return"Not changed, returning null"})),null):(this.memo=o.clone(e),this.execute(e))},t.prototype.onChange=function(){this.logger.trace("Changed - Invoking callbacks"),this.memo=null,this.callback()},t.prototype.invalidate=function(){this.onChange(),this.logger.trace("Changed - Invalidating previous"),this.previous.invalidate()},t.prototype.setCallback=function(t){this.callback=t,this.previous.setCallback(t)},t.prototype.getLogger=function(){return this.logger},t}();e["default"]=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={AFTER_CHILD_ADDED:"AFTER_CHILD_ADDED",AFTER_CHILD_CHANGED:"AFTER_CHILD_CHANGED",AFTER_CHILD_REMOVED:"AFTER_CHILD_REMOVED",AFTER_PARENT_ADDED:"AFTER_PARENT_ADDED",AFTER_PARENT_CHANGED:"AFTER_PARENT_CHANGED",AFTER_PARENT_REMOVED:"AFTER_PARENT_REMOVED",BEFORE_CHILD_ADDED:"BEFORE_CHILD_ADDED",BEFORE_CHILD_CHANGED:"BEFORE_CHILD_CHANGED",BEFORE_CHILD_REMOVED:"BEFORE_CHILD_REMOVED",BEFORE_DISPOSE:"BEFORE_DISPOSE",BEFORE_PARENT_ADDED:"BEFORE_PARENT_ADDED",BEFORE_PARENT_CHANGED:"BEFORE_PARENT_CHANGED",BEFORE_PARENT_REMOVED:"BEFORE_PARENT_REMOVED",COMPONENT_NESTING_CHANGED:"COMPONENT_NESTING_CHANGED"}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(24)),i=r(n(61)),s=n(7),u=r(n(10)),a=r(n(1)),c=r(n(62)),l=n(2),f=n(9),p=r(n(15)),h=r(n(63)),d=r(n(26)),_=r(n(21)),g=r(n(74)),y=r(n(75)),m=r(n(25)),v=r(n(76)),N=r(n(13)),E=r(n(28)),b=n(0),A=n(8),C=r(n(83)),M=(new f.ComponentConfigBuilder).build(),O=function(){function t(t,e,n){if(b.requireNotNull(e,"template"),"string"!=typeof e)throw new o["default"]("Template must be a string");this.parentSeen=!1,this.id=_["default"].INSTANCE.generate(),this.config=n||M,this.parentModelFn=this.config.getParentModelFn(),this.itemFn=l.EMPTY_OBJECT_FN,this.parent=null,this.component=t,this.prefix=this.config.getPrefix().toLowerCase(),this.template=e.trim(),this.scope=new u["default"],b.isDefined(this.config.getModule())&&(this.component[l.MODULE_FIELD_NAME]=this.config.getModule()),this.validateModulePresent(),this.flags={repeatable:!1},this.getModule()&&this.scope.setParent(this.getModule().getScope()),this.regions={},this.regionsAsArray=[],this.pubSub=new N["default"](this.component,this.getModule())}return t.prototype.init=function(){var t=this;for(var e in this.mvvm=new h["default"](this.id,this.component,this.getModule(),this.prefix,this.scope,this.parentModelFn),this.render(),this.mvvm.init(this.el,this,(function(e,n){return t.addRegion(e,n)})),this.logger=a["default"].getLogger(this.component.constructor.name+" Component "+this.mvvm.getId()),this.regions)this.regions.hasOwnProperty(e)&&this.regions[e].populate()},t.prototype.hasMetadata=function(t){return!!this.getMetadata(t)},t.prototype.getMetadata=function(t){return b.requireNotNull(t,"name"),this.config.getMetadata(t)},t.prototype.hasRegion=function(t){return b.requireNotNull(t,"name"),!!this.regions[t]},t.prototype.$apply=function(t,e){var n=t||l.NO_OP_FN,r=e||[];this.parentSeen?this.mvvm.$apply(n,r):n.apply(this.component,r)},t.prototype.evaluate=function(t){return new m["default"](t).get(this.mvvm.getScope())},t.prototype.getChild=function(t){return b.requireNotNull(t,"name"),this.hasRegion(t)?this.getRegion(t).getComponent():null},t.prototype.setChild=function(t,e){if(b.requireNotNull(t,"name"),!this.hasRegion(t))throw new i["default"]("Region '%rName%' is unknown and must be declared in component template.",{"%rName%":t});var n=this.getRegion(t).hasComponent(),r=!(null===e||n),o=!(null!==e||!n);this.messageInternalIf(r,p["default"].BEFORE_CHILD_ADDED,{name:t}),this.messageInternalIf(o,p["default"].BEFORE_CHILD_REMOVED,{name:t}),this.message(l.INTERNAL_CHANNEL_NAME,p["default"].BEFORE_CHILD_CHANGED,{name:t}),this.getRegion(t).setComponent(e),this.message(l.INTERNAL_CHANNEL_NAME,p["default"].AFTER_CHILD_CHANGED,{name:t}),this.messageInternalIf(r,p["default"].AFTER_CHILD_ADDED,{name:t}),this.messageInternalIf(o,p["default"].AFTER_CHILD_REMOVED,{name:t}),this.broadcastGlobally(l.INTERNAL_CHANNEL_NAME,p["default"].COMPONENT_NESTING_CHANGED)},t.prototype.setChildFromRegistry=function(t,e,n){if(b.requireNotNull(t,"name"),b.requireValid(e,"componentId",s.VALID_ID),!this.hasRegion(t))throw new i["default"]("Region '%rName%' is unknown and must be declared in component template.",{"%rName%":t});var r=this.get(e);if(!r&&n&&(r=this.get(n)),r)this.setChild(t,r);else{var o=new c["default"]("Unable to set component %cName% on region %name%",{"%cName%":e,"%name%":t});this.getLogger().error(o)}},t.prototype.message=function(t,e,n){if(t===l.INTERNAL_DIRECT_CHANNEL_NAME)switch(e){case"setMode":switch(n){case"repeatable":this.flags.repeatable=!0;break;default:this.flags.repeatable=!1}break;case"consumeRegionDigestionCandidates":for(var r=0,o=this.regionsAsArray;r<o.length;r++){var i=o[r];i.hasExpression()&&i.hasComponent()&&i.getComponent().message(l.INTERNAL_DIRECT_CHANNEL_NAME,"consumeDigestionCandidates",n)}break;case"consumeDigestionCandidates":n.push(this.mvvm);break;case d["default"].NESTING_CHANGED:this.nestingChanged();break;case"digest":this.digest();break;case"setParent":this.setParent(n);break;case"skipId":this.mvvm.skipId(n);break;case"setItemFn":this.setItemFn(n);break;default:this.logger.warn("Unsupported internal message: "+e)}else this.pubSub.message(t,e,n)},t.prototype.broadcast=function(t,e,n){this.getModule().broadcast(t,e,n)},t.prototype.broadcastGlobally=function(t,e,n){this.getModule().broadcastGlobally(t,e,n)},t.prototype.dispose=function(){this.message(l.INTERNAL_CHANNEL_NAME,p["default"].BEFORE_DISPOSE,{}),this.pubSub.dispose(),this.parent=null,this.scope=null,this.regions=null,this.regionsAsArray=[]},t.prototype.getEl=function(){return this.el},t.prototype.getComponent=function(){return this.component},t.prototype.get=function(t){return this.getModule().get(t)},t.prototype.getPrefix=function(){return this.prefix},t.prototype.isConnected=function(){return null!==this.parent&&this.parent!==undefined&&this.parent.isConnected()},t.prototype.getScope=function(){return this.scope},t.prototype.watch=function(t,e,n,r){b.requireNotNull(t,"expression"),b.requireNotNull(e,"target");var o=b.isDefined(r)?r:this.component;this.mvvm.mediate(t,n).watch(o,e)},t.prototype.on=function(t,e,n){var r=this;this.pubSub.on(e).forChannel(n||l.INTERNAL_CHANNEL_NAME).invoke((function(e){return r.$apply(t,[e])}))},t.prototype.forElement=function(t){b.requireNotNull(t,"name");var e=this.mvvm.getNamedElement(t);if(!b.isDefined(e))throw new y["default"]("Unknown element: "+t);return new g["default"](e)},t.prototype.getLogger=function(){return this.logger},t.prototype.getModule=function(){return this.component[l.MODULE_FIELD_NAME]},t.prototype.getParent=function(){return this.parent},t.prototype.setItemFn=function(t){this.itemFn=b.isDefined(t)?t:l.EMPTY_OBJECT_FN},t.prototype.getData=function(){return this.itemFn()},t.prototype.getFlags=function(){return this.flags},t.prototype.getId=function(){return this.id},t.prototype.getWatchContext=function(){return this.mvvm.getScope()},t.prototype.getConfig=function(){return this.config},t.prototype.addRegion=function(t,e){if(!this.regions[t]){var n=new C["default"](t,this,e);this.regions[t]=n,this.regionsAsArray.push(n)}return this.regions[t]},t.prototype.getRegion=function(t){return this.regions[t]},t.prototype.getTemplate=function(){return this.template},t.prototype.render=function(){var t=A.createElementOffDom("template");t.insertAdjacentHTML("afterbegin",this.template.trim());var e=t.childElementCount;if(1!==e){var n={"%count%":""+e,"%template%":this.template};throw new o["default"]("Component template must have a single top level element, but had %count% top level elements:\n\n%template%\n\n",n)}this.el=t.firstElementChild},t.prototype.setEl=function(t){this.el=t},t.prototype.validateModulePresent=function(){var t=this.component[l.MODULE_FIELD_NAME];if(!b.isDefined(t)){if(0===E["default"].getInstances().length)throw new v["default"]("Component "+this.component.constructor.name+" does not have affinity with a module and no stages are active.  Unable to determine component affinity");if(1!==E["default"].getInstances().length)throw new v["default"]("Component "+this.component.constructor.name+" does not have affinity with a module and multiple stages are active.  Unable to determine component affinity");this.component[l.MODULE_FIELD_NAME]=E["default"].getInstances()[0].getDefaultModule()}},t.prototype.messageInternalIf=function(t,e,n){t&&this.message(l.INTERNAL_CHANNEL_NAME,e,n)},t.prototype.messageChildren=function(t,e,n){for(var r in this.regions)this.regions.hasOwnProperty(r)&&this.regions[r].message(t,e,n)},t.prototype.setParent=function(t){this.parentSeen=!0;var e=this.bothPresentButDifferent(t,this.parent)||this.exactlyOneDefined(t,this.parent),n=!(null===t||null!==this.parent),r=!(null!==t||null===this.parent);this.messageInternalIf(n,p["default"].BEFORE_PARENT_ADDED,{}),this.messageInternalIf(r,p["default"].BEFORE_PARENT_REMOVED,{}),this.message(l.INTERNAL_CHANNEL_NAME,p["default"].BEFORE_PARENT_CHANGED,{}),this.parent=t,e&&this.nestingChanged(),b.isDefined(this.parent)&&this.digest(),this.message(l.INTERNAL_CHANNEL_NAME,p["default"].AFTER_PARENT_CHANGED,{}),this.messageInternalIf(n,p["default"].AFTER_PARENT_ADDED,{}),this.messageInternalIf(r,p["default"].AFTER_PARENT_REMOVED,{})},t.prototype.nestingChanged=function(){this.isConnected()&&!this.pubSub.isGlobalEnabled()?this.pubSub.enableGlobal():!this.isConnected()&&this.pubSub.isGlobalEnabled()&&this.pubSub.disableGlobal(),this.mvvm.nestingChanged(),this.messageChildren(l.INTERNAL_DIRECT_CHANNEL_NAME,d["default"].NESTING_CHANGED)},t.prototype.digest=function(){this.$apply(l.NO_OP_FN,[])},t.prototype.bothPresentButDifferent=function(t,e){return b.isDefined(t)&&b.isDefined(e)&&t.getId()!==e.getId()},t.prototype.exactlyOneDefined=function(t,e){return b.isDefined(t)?!b.isDefined(e):b.isDefined(e)},t}();e["default"]=O},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(5),s=r(n(1)),u=function(){function t(t,e){o.requireNotNull(t,"watchable"),o.requireNotNull(e,"expression"),this.logger=s["default"].getLogger("WatcherImpl - "+e),this.callbacks=[],this.value=t.evaluate(e),t.watch(e,this.onChange,i.asIdentity,this)}return t.prototype.onChange=function(t,e){this.logger.ifTrace((function(){return{message:"Changed",previous:t,current:e}})),this.value=e;for(var n=0,r=this.callbacks;n<r.length;n++){var o=r[n];o.fn.apply(o.context,[])}},t.prototype.addCallback=function(t,e){return o.requireNotNull(t,"context"),o.requireNotNull(e,"callback"),this.callbacks.push({context:t,fn:e}),this},t.prototype.get=function(){return this.value},t}();e["default"]=u},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(40)),i=r(n(12)),s=function(){function t(){this.level=i["default"].INFO,this.outputStrategy=new o["default"]}return t.prototype.log=function(t,e,n,r){e>=this.level&&e!==i["default"].DISABLED&&this.outputStrategy.log(t.getName(),e,n,r)},t.prototype.setLevel=function(t){this.level=t},t.prototype.isTrace=function(){return i["default"].TRACE>=this.level},t.prototype.isDebug=function(){return i["default"].DEBUG>=this.level},t.prototype.isInfo=function(){return i["default"].INFO>=this.level},t.prototype.isWarn=function(){return i["default"].WARN>=this.level},t.prototype.isError=function(){return i["default"].ERROR>=this.level},t.prototype.isFatal=function(){return i["default"].FATAL>=this.level},t.prototype.isDisabled=function(){return i["default"].DISABLED>=this.level},t.INSTANCE=new t,t}();e["default"]=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.major=0,this.minor=0,this.micro=0}return t.prototype.generate=function(){var e=this.major+"-"+this.minor+"-"+this.micro;return this.micro++,this.micro>t.MAX_VALUE&&(this.micro=0,this.minor++),this.minor>t.MAX_VALUE&&(this.minor=0,this.major++),e},t.INSTANCE=new t,t.MAX_VALUE=9007199254740989,t}();e["default"]=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(0),i=function(){function t(t,e){o.requireNotNull(e,"placeholderText"),this.placeholder=r.createCommentOffDom(e),this.element=null,t.parentElement.replaceChild(this.placeholder,t)}return t.prototype.set=function(t){var e=o.isDefined(this.element)?this.element:this.placeholder,n=o.isDefined(t)?t:null,r=e.parentElement,i=o.isDefined(n)?t:this.placeholder;r.replaceChild(i,e),this.element=n},t.prototype.get=function(){return this.element},t}();e["default"]=i},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(){}return e.setWindow=function(t){e.window=t},e.getWindow=function(){return e.window||t.window},e}();e["default"]=n}).call(this,n(18))},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=function(){function t(t){this.logger=o["default"].getLogger("Getter: "+t),this.expression=t}return t.prototype.get=function(t){var e='"use strict"; '+t.getCode()+" return ("+this.expression+");",n=null;try{n=Function(e).apply({},[t.getItems()])}catch(r){this.logInvocationError(e,r)}return n},t.prototype.logInvocationError=function(t,e){var n=this;this.logger.ifWarn((function(){return"\nAn exception ("+e.name+") was thrown invoking the element mediator expression: "+n.expression+"\n\nIn context:\n"+t+"\n\nException message: "+e.message+"\n\n"}),e)},t}();e["default"]=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={NESTING_CHANGED:"NESTING_CHANGED"}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(72)),i=n(2),s=n(0),u=r(n(1)),a=r(n(73)),c=function(){function t(t,e,n,r){this.skipableIds=[],this.rootMediatorSource=s.requireNotNull(t,"rootMediatorSource"),this.nameFn=s.requireNotNull(n,"nameFn"),this.messagableSourceFn=s.requireNotNull(r,"messagableSourceFn"),this.logger=u["default"].getLogger("Digester "+e)}return t.prototype.skipId=function(t){null!==t&&t!==undefined&&this.skipableIds.push(t)},t.prototype.digest=function(){var e=this;t.DIGESTION_START_HOOKS.notify(this.rootMediatorSource),this.logger.ifTrace((function(){return"Started digest on "+e.nameFn()}));for(var n=1e4,r=!0;r&&n>0;){t.DIGESTION_CYCLE_START_HOOKS.notify(this.rootMediatorSource),this.logger.trace("Top digest loop"),n--;var i=new o["default"];this.populate(i);var s=i.digest();if(0===s.length){r=!1,this.logger.trace("Nothing to notify");break}for(var u=0,a=s;u<a.length;u++)a[u].notify();this.logger.trace("End digest loop")}t.DIGESTION_END_HOOKS.notify(this.rootMediatorSource)},t.prototype.populate=function(t){for(var e={},n=[];this.skipableIds.length>0;){var r=this.skipableIds.pop();null!==r&&(e[r]=!0)}n.push(this.rootMediatorSource);for(var o=0,s=this.messagableSourceFn();o<s.length;o++)s[o].message(i.INTERNAL_DIRECT_CHANNEL_NAME,"consumeDigestionCandidates",n);for(;n.length>0;){var u=n.pop(),a=u.getId();null!==a&&e[a]||(e[a]=!0,u.requestMediatorSources(n),u.requestMediators(t))}},t.DIGESTION_START_HOOKS=new a["default"],t.DIGESTION_END_HOOKS=new a["default"],t.DIGESTION_CYCLE_START_HOOKS=new a["default"],t}();e["default"]=c},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(2),s=r(n(10)),u=r(n(4)),a=r(n(77)),c=n(0),l=n(82),f=function(){function t(){this.rootScope=new s["default"](!1),this.rootScope.add("compare",l.COMPARE),this.defaultModule=new a["default"](i.DEFAULT_MODULE_KEY,this,this.rootScope),this.modules={DEFAULT:this.defaultModule},t.INSTANCES.push(this)}return t.getInstances=function(){return t.INSTANCES},t.resetInstances=function(){t.INSTANCES=[]},t.prototype.getModule=function(t){return c.requireValid(t,"name",o.VALID_ID),this.modules[t]||(this.modules[t]=new a["default"](t,this,this.defaultModule.getScope())),this.modules[t]},t.prototype.getDefaultModule=function(){return this.getModule(i.DEFAULT_MODULE_KEY)},t.prototype.forEach=function(t){for(var e in c.requireNotNull(t,"fn"),this.modules)this.modules.hasOwnProperty(e)&&t(this.modules[e])},t.prototype.broadcast=function(t,e,n){this.forEach((function(r){return r.broadcast(t,e,n)}))},t.prototype.registerConstant=function(t,e){this.getDefaultModule().registerConstant(t,e)},t.prototype.registerPrototype=function(t,e,n){this.getDefaultModule().registerPrototype(t,e,n)},t.prototype.registerPrototypeWithFactory=function(t,e,n){this.getDefaultModule().registerPrototypeWithFactory(t,e,n)},t.prototype.registerSingleton=function(t,e,n){this.getDefaultModule().registerSingleton(t,e,n)},t.prototype.registerSingletonWithFactory=function(t,e,n){this.getDefaultModule().registerSingletonWithFactory(t,e,n)},t.prototype.registerElementMediator=function(t,e,n){u["default"].register(t,e,n)},t.prototype.getScope=function(){return this.getDefaultModule().getScope()},t.prototype.get=function(t){c.requireValid(t,"id",o.VALID_ID);var e=null;return a["default"].ALIASES[t]&&(e=this.getModule(t).getLocal(t)),e||(e=this.defaultModule.getLocal(t)),e},t.prototype.dispose=function(){var e=t.INSTANCES.indexOf(this);e>-1&&t.INSTANCES.splice(e,1)},t.INSTANCES=[],t}();e["default"]=f},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(12)),i=r(n(20)),s=function(){function t(){}return t.prototype.useTrace=function(){i["default"].INSTANCE.setLevel(o["default"].TRACE)},t.prototype.useDebug=function(){i["default"].INSTANCE.setLevel(o["default"].DEBUG)},t.prototype.useInfo=function(){i["default"].INSTANCE.setLevel(o["default"].INFO)},t.prototype.useWarn=function(){i["default"].INSTANCE.setLevel(o["default"].WARN)},t.prototype.useError=function(){i["default"].INSTANCE.setLevel(o["default"].ERROR)},t.prototype.useFatal=function(){i["default"].INSTANCE.setLevel(o["default"].FATAL)},t.prototype.useDisabled=function(){i["default"].INSTANCE.setLevel(o["default"].DISABLED)},t}();e["default"]=s},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){r===undefined&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===undefined&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HOOKS=e.setStrictTypeChecksEnabled=e.Filters=e.requireValid=e.requireNotNull=e.isDefined=e.noConflict=e.CydranConfig=e.LoggerFactory=e.ElementMediator=e.builder=e.Events=e.Component=e.ComponentConfigBuilder=void 0,n(31),n(32),n(33),n(34),n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(96),n(97),n(98);var u=n(9);Object.defineProperty(e,"ComponentConfigBuilder",{enumerable:!0,get:function(){return u.ComponentConfigBuilder}});var a=i(n(29));e.CydranConfig=a;var c=s(n(15));e.Events=c["default"];var l=s(n(1));e.LoggerFactory=l["default"];var f=n(99);Object.defineProperty(e,"builder",{enumerable:!0,get:function(){return f.builder}});var p=s(n(3));e.ElementMediator=p["default"];var h=s(n(11));e.Component=h["default"];var d=n(0);Object.defineProperty(e,"isDefined",{enumerable:!0,get:function(){return d.isDefined}}),Object.defineProperty(e,"requireNotNull",{enumerable:!0,get:function(){return d.requireNotNull}}),Object.defineProperty(e,"requireValid",{enumerable:!0,get:function(){return d.requireValid}}),Object.defineProperty(e,"setStrictTypeChecksEnabled",{enumerable:!0,get:function(){return d.setStrictTypeChecksEnabled}});var _=s(n(104));e.Filters=_["default"];var g=s(n(112)),y=window.cydran,m=g["default"].INSTANCE;e.HOOKS=m,e.noConflict=function(){var t=window.cydran;return window.cydran=y,t}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(35),n(43),n(44),n(45),n(46),n(47),n(48),n(49),n(50),n(51),n(52),n(53)},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(4)),u=i(n(3)),a=n(5),c=function(t){function e(e){return t.call(this,e,!1,a.asBoolean)||this}return o(e,t),e.prototype.wire=function(){this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.onTargetChange=function(t,e){this.getEl().checked=!e},e}(u["default"]);s["default"].register("checked",["input"],c),e["default"]=c},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(12)),i=n(0),s=function(){function t(t,e){if(i.requireNotNull(t,"name"),t.length<20)for(var n=20-t.length;n>0;)t+=" ",--n;this.name=t,this.loggerService=e}return t.prototype.trace=function(t,e){this.loggerService.log(this,o["default"].TRACE,t,e)},t.prototype.ifTrace=function(t,e){null!==t&&this.isTrace()&&this.trace(t(),e)},t.prototype.debug=function(t,e){this.loggerService.log(this,o["default"].DEBUG,t,e)},t.prototype.ifDebug=function(t,e){null!==t&&this.isDebug()&&this.debug(t(),e)},t.prototype.info=function(t,e){this.loggerService.log(this,o["default"].INFO,t,e)},t.prototype.ifInfo=function(t,e){null!==t&&this.isInfo()&&this.info(t(),e)},t.prototype.warn=function(t,e){this.loggerService.log(this,o["default"].WARN,t,e)},t.prototype.ifWarn=function(t,e){null!==t&&this.isWarn()&&this.warn(t(),e)},t.prototype.error=function(t,e){this.loggerService.log(this,o["default"].ERROR,t,e)},t.prototype.ifError=function(t,e){null!==t&&this.isError()&&this.error(t(),e)},t.prototype.fatal=function(t,e){this.loggerService.log(this,o["default"].FATAL,t,e)},t.prototype.ifFatal=function(t,e){null!==t&&this.isFatal()&&this.fatal(t(),e)},t.prototype.isTrace=function(){return this.loggerService.isTrace()},t.prototype.isDebug=function(){return this.loggerService.isDebug()},t.prototype.isInfo=function(){return this.loggerService.isInfo()},t.prototype.isWarn=function(){return this.loggerService.isWarn()},t.prototype.isError=function(){return this.loggerService.isError()},t.prototype.isFatal=function(){return this.loggerService.isFatal()},t.prototype.isDisabled=function(){return this.loggerService.isDisabled()},t.prototype.getName=function(){return this.name},t}();e["default"]=s},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(12)),i=function(){function t(){}return t.getNow=function(){var t=new Date;return t.getUTCFullYear()+"-"+t.getUTCMonth()+":"+t.getUTCDate()+":"+t.getUTCHours()+":"+t.getUTCMinutes()+":"+t.getUTCSeconds()+":"+t.getUTCMilliseconds()},t.prototype.log=function(e,n,r,i){if(n!==o["default"].DISABLED){var s=t.getNow()+" "+n+" ["+e+"]",u=r instanceof Error,a=!(i instanceof Error)&&null!==i&&i;if(n>=o["default"].WARN){var c=u?r.stack:r,l=i instanceof Error?i.stack:"",f=u?"":i?" - %s":"";switch(n){case o["default"].WARN:console.warn("%c"+s+f,"color:#ff9400;",c,l);break;case o["default"].ERROR:case o["default"].FATAL:default:console.error(s+f,c,l)}}else switch(n){case o["default"].TRACE:a?console.log("%c"+s,"color:#00752d;",r):console.log("%c"+s,"color:#ff9400;",r);break;case o["default"].DEBUG:console.log("%c"+s,"color:#00752d;",r);break;case o["default"].INFO:console.log("%c"+s,"color:#2d57ca;",r);break;default:console.log(s,r)}}},t}();e["default"]=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractAttributes=e.extractParams=void 0,e.extractParams=function(t,e){for(var n={},r=0;r<e.children.length;r++){var o=e.children[r];if(o.tagName.toLowerCase()===t.toLowerCase()){var i=o.getAttribute("name"),s=o.getAttribute("value");n[i]=s}}return n},e.extractAttributes=function(t,e){for(var n={},r=t.toLowerCase()+":",o=0;o<e.attributes.length;o++){var i=e.attributes[o],s=i.name.toLowerCase();if(0===s.indexOf(r)){var u=s.slice(r.length),a=i.value;n[u]=a}}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(t,e){this.mappings={},this.channelName=r.requireNotNull(t,"channelName"),this.contextFn=r.requireNotNull(e,"contextFn")}return t.prototype.receive=function(t,e){var n=this.mappings[t];if(n)for(var r=0,o=n;r<o.length;r++)o[r].call(this.contextFn(),e)},t.prototype.register=function(t,e){this.mappings[t]||(this.mappings[t]=[]),this.mappings[t].push(e)},t.prototype.getChannelName=function(){return this.channelName},t.prototype.dispose=function(){this.mappings={},this.contextFn=null},t}();e["default"]=o},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=i(n(4)),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.wire=function(){this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.onTargetChange=function(t,e){for(var n=[],r=e||{},o=0,i=(this.getEl().className||"").trim().split(" ");o<i.length;o++){var s=i[o];r.hasOwnProperty(s)||n.push(s)}for(var u in r)r.hasOwnProperty(u)&&r[u]&&n.push(u);this.getEl().className=n.join(" ")},e}(s["default"]);u["default"].register("class",["*"],a),e["default"]=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=i(n(4)),a=n(5),c=function(t){function e(e){return t.call(this,e,!1,a.asBoolean)||this}return o(e,t),e.prototype.wire=function(){this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.onTargetChange=function(t,e){this.getEl().disabled=!e},e}(s["default"]);u["default"].register("enabled",["*"],c),e["default"]=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=i(n(4)),a=n(5),c=function(t){function e(e){return t.call(this,e,!1,a.asBoolean)||this}return o(e,t),e.prototype.wire=function(){this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.onTargetChange=function(t,e){this.getEl().readOnly=e},e}(s["default"]);u["default"].register("readonly",["*"],c),e["default"]=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=i(n(4)),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.wire=function(){this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.onTargetChange=function(t,e){if(null!==e)for(var n in e)e.hasOwnProperty(n)&&(this.getEl().style[n]=e[n]+"")},e}(s["default"]);u["default"].register("style",["*"],a),e["default"]=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=n(2),a=i(n(15)),c=i(n(4)),l=n(5),f=function(t){function e(e){return t.call(this,e,!1,l.asBoolean)||this}return o(e,t),e.prototype.wire=function(){this.bridge("focusout"),this.on("focusout").forChannel("dom").invoke(this.handleFocus),this.on(a["default"].COMPONENT_NESTING_CHANGED).forChannel(u.INTERNAL_CHANNEL_NAME).invoke(this.handleFocus),this.shouldFocus=this.getModelMediator().get(),this.getModelMediator().watch(this,this.onTargetChange),this.handleFocus()},e.prototype.unwire=function(){},e.prototype.handleFocus=function(){this.shouldFocus&&this.getEl().focus()},e.prototype.onTargetChange=function(t,e){this.shouldFocus=e,this.handleFocus()},e}(s["default"]);c["default"].register("force-focus",["*"],f),e["default"]=f},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=i(n(4)),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.wire=function(){this.bridge("input"),this.on("input").forChannel("dom").invoke(this.handleInput),this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.handleInput=function(t){var e=this;if(this.getEl().multiple){for(var n=[],r=0;r<this.getEl().selectedOptions.length;r++){var o=this.getEl().selectedOptions.item(r).getAttribute("value");n.push(o)}this.$apply((function(){e.getModelMediator().set(n)}),[])}else this.$apply((function(){e.getModelMediator().set(e.getEl().value)}),[])},e.prototype.onTargetChange=function(t,e){if(this.getEl().multiple){e=null===e?[]:e;for(var n=0;n<this.getEl().options.length;n++){var r=this.getEl().options.item(n);r.selected=e.includes(r.value)}}else this.getEl().value=e},e}(s["default"]);u["default"].register("model",["select"],a),e["default"]=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=i(n(4)),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.wire=function(){this.bridge("input"),this.on("input").forChannel("dom").invoke(this.handleInput),this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.handleInput=function(t){var e=this;this.$apply((function(){e.getModelMediator().set(e.getEl().value)}),[])},e.prototype.onTargetChange=function(t,e){this.getEl().value=e},e}(s["default"]);u["default"].register("model",["textarea"],a),e["default"]=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=i(n(4)),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.wire=function(){this.bridge("input");var t="radio"===this.getEl().type.toLowerCase();this.on("input").forChannel("dom").invoke(t?this.handleRadioInput:this.handleInput),this.getModelMediator().watch(this,t?this.onRadioTargetChange:this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.handleInput=function(t){var e=this;this.$apply((function(){e.getModelMediator().set(e.getEl().value)}),[])},e.prototype.handleRadioInput=function(t){var e=this;this.getEl().checked&&this.$apply((function(){e.getModelMediator().set(e.getEl().value)}),[])},e.prototype.onTargetChange=function(t,e){this.getEl().value=e},e.prototype.onRadioTargetChange=function(t,e){this.getEl().value===e&&(this.getEl().checked=!0)},e}(s["default"]);u["default"].register("model",["input"],a),e["default"]=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=i(n(4)),a=n(5),c=function(t){function e(e){return t.call(this,e,!1,a.asBoolean)||this}return o(e,t),e.prototype.wire=function(){this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.onTargetChange=function(t,e){this.getEl().hidden=e},e}(s["default"]);u["default"].register("hidden",["*"],c),e["default"]=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=i(n(4)),a=n(5),c=i(n(22)),l=function(t){function e(e){return t.call(this,e,!1,a.asBoolean,!1)||this}return o(e,t),e.prototype.wire=function(){this.reference=new c["default"](this.getEl(),"Hidden"),this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.onTargetChange=function(t,e){this.reference.set(e?this.getEl():null)},e}(s["default"]);u["default"].register("if",["*"],l),e["default"]=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(54)),u=i(n(10)),a=n(2),c=i(n(3)),l=i(n(4)),f=i(n(56)),p=i(n(58)),h=i(n(59)),d=i(n(84)),_=i(n(86)),g=i(n(87)),y=i(n(88)),m=n(5),v=n(0),N=n(8),E=function(t){function e(e){var n=t.call(this,e,!0,m.asIdentity)||this;return n.idStrategy=null,n.elIsSelect="select"===n.getEl().tagName.toLowerCase(),n}return o(e,t),e.prototype.wire=function(){var t=this;this.map={},this.empty=null,this.ids=[],this.itemFactory=null,this.alternatives=[],this.localScope=new u["default"](!1);var e=function(){return t.getModelFn()},n=function(){return t.scopeItem};this.localScope.setParent(this.getParent().scope()),this.localScope.add("m",e),this.localScope.add("model",e),this.localScope.add("v",n),this.localScope.add("value",n),this.getModelMediator().watch(this,this.onTargetChange);var r=this.getParams().idkey||"id",o=this.getParams().expression;switch(this.getParams().mode||null){case"generated":this.idStrategy=new f["default"](r);break;case"none":this.idStrategy=new p["default"](r);break;case"expression":this.idStrategy=new y["default"](o);break;default:this.idStrategy=new g["default"]}this.idStrategy.init();for(var i=this.getEl().children,a=0;a<i.length;a++){var c=i[a];if("template"===c.nodeName.toLowerCase()){var l=c;if(v.isDefined(l.innerHTML)){var _=l.innerHTML.trim();switch(l.getAttribute("type")){case"empty":this.empty=this.createFactory(_,h["default"]).create();break;case"first":this.first=this.createFactory(_,h["default"]).create();break;case"after":this.last=this.createFactory(_,h["default"]).create();break;case"alt":var m=l.getAttribute("test");this.alternatives.push({factory:this.createFactory(_,d["default"]),test:new s["default"](m,this.localScope)});break;case"item":this.itemFactory=this.createFactory(_,d["default"])}}}}for(var N=this.getEl();N.firstChild;)N.removeChild(N.firstChild);this.empty&&N.appendChild(this.empty.getEl())},e.prototype.unwire=function(){for(var t in this.empty&&this.empty.dispose(),this.first&&this.first.dispose(),this.last&&this.last.dispose(),this.map)this.map.hasOwnProperty(t)&&this.map[t].dispose();this.empty=null,this.map={}},e.prototype.requestMediatorSources=function(t){for(var e in this.map)this.map.hasOwnProperty(e)&&this.map[e].message(a.INTERNAL_DIRECT_CHANNEL_NAME,"consumeDigestionCandidates",t);this.first&&this.first.message(a.INTERNAL_DIRECT_CHANNEL_NAME,"consumeDigestionCandidates",t),this.last&&this.last.message(a.INTERNAL_DIRECT_CHANNEL_NAME,"consumeDigestionCandidates",t),this.empty&&this.empty.message(a.INTERNAL_DIRECT_CHANNEL_NAME,"consumeDigestionCandidates",t)},e.prototype.onTargetChange=function(t,e){for(var n=[],r=e||[],o=0;o<r.length;o++){var i=r[o];this.idStrategy.check(i)||this.idStrategy.enrich(i,o);var s=this.idStrategy.extract(i);n.push(s)}if(!v.equals(this.ids,n)){for(var u={},a=[],c=0,l=r;c<l.length;c++){i=l[c],s=this.idStrategy.extract(i);var f=this.map[s]?this.map[s]:this.create(i);u[s]=f,a.push(f),delete this.map[s]}for(var p in this.map)this.map.hasOwnProperty(p)&&((f=this.map[p]).dispose(),delete this.map[p]);this.map=u;for(var h=this.getEl();h.firstChild;)h.removeChild(h.lastChild);if(0===a.length)this.empty&&h.appendChild(this.empty.getEl());else{var d=this.elIsSelect?h:N.createDocumentFragmentOffDom();this.first&&d.appendChild(this.first.getEl());for(var _=0,g=a;_<g.length;_++)f=g[_],d.appendChild(f.getEl());this.last&&d.appendChild(this.last.getEl()),this.elIsSelect||h.appendChild(d)}}this.ids=n},e.prototype.create=function(t){var e=this.itemFactory;this.scopeItem=t;try{if(this.alternatives.length>0)for(var n=0,r=this.alternatives;n<r.length;n++){var o=r[n];if(o.test.test()){e=o.factory;break}}}finally{this.scopeItem=null}return e.create(t)},e.prototype.createFactory=function(t,e){var n=N.createElementOffDom("template");n.insertAdjacentHTML("afterbegin",t.trim());var r=this.getParent().getPrefix()+":region",o=null;if(1===n.childElementCount&&n.firstElementChild.nodeName.toLowerCase()===r.toLowerCase()){var i=n.firstElementChild.getAttribute("component"),s=n.firstElementChild.getAttribute("module");o=new _["default"](this.getModule(),i,s,this.getParent(),this.getParentId())}else o=new e(this.getModule(),t,this.getParent().getPrefix(),this.getParent(),this.getParentId(),this.getModelFn());return o},e}(c["default"]);l["default"].register("repeat",["*"],E),e["default"]=E},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=function(){function t(t,e){this.logger=o["default"].getLogger("Evaluator: "+t),this.expression=t,this.scope=e,this.code='"use strict"; '+e.getCode()+" return ("+this.expression+");"}return t.prototype.test=function(){var t=null;try{t=!!Function(this.code).apply({},[this.scope.getItems()])}catch(e){this.logger.error("\nAn exception ("+e.name+") was thrown invoking the element mediator expression: "+this.expression+"\n\nIn context:\n"+this.code+"\n\nException message: "+e.message+"\n\n",e)}return t},t}();e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),o=n(0),i=function(){function t(t){this.idKey=t}return t.prototype.check=function(t){return o.isDefined(t[this.idKey])},t.prototype.enrich=function(t,e){t[this.idKey]=r.uuidV4()},t.prototype.extract=function(t){return t[this.idKey]+""},t.prototype.init=function(){},t}();e["default"]=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuidV4=void 0;var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");e.uuidV4=function(){for(var t=r,e=new Array(36),n=0,o=null,i=0;i<36;i++)8===i||13===i||18===i||23===i?e[i]="-":14===i?e[i]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),o=15&n,n>>=4,e[i]=t[19===i?3&o|8:o]);return e.join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(t){this.idKey=t}return t.prototype.check=function(t){return r.isDefined(t[this.idKey])},t.prototype.enrich=function(t,e){throw new Error("Missing id in field "+this.idKey+" for item at index "+e+".  All repeat items must include a string convertable id to be repeated.")},t.prototype.extract=function(t){return t[this.idKey]+""},t.prototype.init=function(){},t}();e["default"]=o},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(60)),i=function(){function t(t,e,n,r,o,i){this.module=t,this.template=e,this.prefix=n,this.parent=r,this.parentId=o,this.parentModelFn=i}return t.prototype.create=function(){return new o["default"](this.module,this.template,this.prefix,this.parent,this.parentId,this.parentModelFn)},t}();e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(11)),u=n(9),a=n(2),c=function(t){function e(e,n,r,o,i,s){var c=this,l=new u.ComponentConfigImpl;return l.withPrefix(r),l.setParentModelFn(s),l.setModule(e),(c=t.call(this,n,l)||this).message(a.INTERNAL_DIRECT_CHANNEL_NAME,"skipId",i),c.message(a.INTERNAL_DIRECT_CHANNEL_NAME,"setMode","repeatable"),c.message(a.INTERNAL_DIRECT_CHANNEL_NAME,"setParent",o),c}return o(e,t),e}(s["default"]);e["default"]=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=r(n(10)),s=n(2),u=r(n(64)),a=r(n(67)),c=r(n(24)),l=r(n(68)),f=r(n(69)),p=r(n(70)),h=r(n(4)),d=r(n(26)),_=n(0),g=r(n(71)),y=r(n(27)),m=n(8),v=n(7),N=function(){function t(t,e,n,r,s,u){var a=this;this.id=_.requireNotNull(t,"id"),this.anonymousRegionNameIndex=0,this.elementMediatorPrefix=r+":",this.eventElementMediatorPrefix=r+":on",this.regionPrefix=r+":region",this.namePrefix=r+":name",this.logger=o["default"].getLogger("Mvvm "+this.id),this.propagatingElementMediators=[],this.scope=new i["default"](!1),this.scope.setParent(s),this.elementMediators=[],this.namedElements={},this.mediators=[],this.model=e,this.moduleInstance=n,this.components=[],this.digester=new y["default"](this,this.id,(function(){return a.parent.getComponent().constructor.name}),(function(){return a.components})),this.modelFn=u||function(){return a.model},this.itemFn=function(){return a.parent.getData()},this.scope.add("m",this.modelFn),this.scope.add("model",this.modelFn),this.scope.add("v",this.itemFn),this.scope.add("value",this.itemFn)}return t.prototype.init=function(t,e,n){this.el=t,this.parent=e,this.regionAddFn=n,this.validateEl(),this.populateElementMediators()},t.prototype.nestingChanged=function(){for(var t=0,e=this.elementMediators;t<e.length;t++)e[t].message(s.INTERNAL_DIRECT_CHANNEL_NAME,d["default"].NESTING_CHANGED);for(var n=0,r=this.components;n<r.length;n++)r[n].message(s.INTERNAL_DIRECT_CHANNEL_NAME,d["default"].NESTING_CHANGED)},t.prototype.dispose=function(){for(var t=0,e=this.elementMediators;t<e.length;t++)e[t].dispose();this.elementMediators=[],this.components=[];for(var n=0,r=this.components;n<r.length;n++)r[n].dispose();this.parent=null,this.namedElements=null},t.prototype.getId=function(){return this.id},t.prototype.getNamedElement=function(t){var e=this.namedElements[t];return e===undefined?null:e},t.prototype.mediate=function(t,e){var n=new u["default"](this.model,t,this.scope,e);return this.mediators.push(n),n},t.prototype.getScope=function(){return this.scope},t.prototype.digest=function(){this.parent.getFlags().repeatable?this.parent.getParent().message(s.INTERNAL_DIRECT_CHANNEL_NAME,"digest"):this.digester.digest()},t.prototype.requestMediators=function(t){t.add(this.getId(),this.mediators)},t.prototype.requestMediatorSources=function(t){this.parent.getFlags().repeatable&&_.isDefined(this.parent.getParent())&&this.parent.getParent().message(s.INTERNAL_DIRECT_CHANNEL_NAME,"consumeDigestionCandidates",t),this.parent.message(s.INTERNAL_DIRECT_CHANNEL_NAME,"consumeRegionDigestionCandidates",t);for(var e=0,n=this.propagatingElementMediators;e<n.length;e++){var r=n[e];t.push(r)}},t.prototype.getParent=function(){return this.parent},t.prototype.$apply=function(t,e){var n=t.apply(this.model,e);return this.digest(),n},t.prototype.getModelFn=function(){return this.modelFn},t.prototype.getItemFn=function(){return this.itemFn},t.prototype.skipId=function(t){this.digester.skipId(t)},t.prototype.getMessagables=function(){return this.components},t.prototype.validateEl=function(){if(this.el.tagName.toLowerCase()===this.regionPrefix.toLowerCase())throw new c["default"]("Templates must not have a region tag as the top level tag.")},t.prototype.populateElementMediators=function(){for(var t=[this.el],e=!0;t.length>0;)this.processChild(t,e),e=!1},t.prototype.createRegionName=function(){var t=s.ANONYMOUS_REGION_PREFIX+this.anonymousRegionNameIndex;return++this.anonymousRegionNameIndex,t},t.prototype.processChild=function(t,e){var n=this,r=t.pop(),o=/^[A-Za-z]+$/;if(r.tagName.toLowerCase()===this.regionPrefix){var i=r.getAttribute("name");_.isDefined(i)&&_.requireValid(i,"name",v.VALID_KEY);var s=r.getAttribute("component"),u=r.getAttribute("module"),c=_.isDefined(i)?i:this.createRegionName(),l=r.getAttribute("value")||null,f=this.regionAddFn(c,r);return f.setExpression(l),void(_.isDefined(s)&&""!==s&&f.setInitialComponentFn((function(){var t=((u?n.moduleInstance.getModule(u):n.moduleInstance)||n.moduleInstance).get(s);if(!_.isDefined(t))throw new g["default"]("Unknown component "+s+" referenced in component "+n.parent.getComponent().constructor.name);return t})))}for(var p=0;p<r.children.length;p++)t.push(r.children[p]);this.processTextChildren(r.childNodes);var h=r.attributes,d=h.length,y=[];for(p=0;p<d;p++)y.push(h[p].name);for(var m=0,N=y;m<N.length;m++){var E=N[m],b=r.getAttribute(E);if(0===E.indexOf(this.eventElementMediatorPrefix)){var A=E.substr(this.eventElementMediatorPrefix.length);if(!o.test(A))throw new a["default"]("Event expressor '%eventName%' MUST correspond to a valid event in the target environment: '",{"%eventName%":A});this.addEventElementMediator(A.toLowerCase(),this.trimExpression(b),r),r.removeAttribute(E)}else if(0===E.indexOf(this.namePrefix)){var C=r.getAttribute(E);this.namedElements[C]=r,r.removeAttribute(E)}else if(0===E.indexOf(this.elementMediatorPrefix)){var M=E.substr(this.elementMediatorPrefix.length);this.addElementMediator(r.tagName.toLowerCase(),M,this.trimExpression(b),r,e),r.removeAttribute(E)}else b.length>4&&0===b.indexOf("{{")&&-1!==b.indexOf("}}",b.length-2)&&this.addAttributeElementMediator(E,this.trimExpression(b),r)}},t.prototype.processTextChildren=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];s.TEXT_NODE_TYPE===r.nodeType&&e.push(r)}for(var o=0,i=e;o<i.length;o++){var u=i[o],a=this.splitChild(u);if(a.length>1){for(var c=0,l=a;c<l.length;c++){var f=l[c];u.parentNode.insertBefore(f,u)}u.remove()}}},t.prototype.trimExpression=function(t){return t.length>4&&0===t.indexOf("{{")&&-1!==t.indexOf("}}",t.length-2)?t.substring(2,t.length-2):t},t.prototype.splitChild=function(t){var e=(t.textContent||"").split(/(\{\{|\}\})/);if(e.length<2)return[t];for(var n=!1,r=[],o=0,i=e;o<i.length;o++){var s=i[o];switch(s){case"{{":n=!0;break;case"}}":n=!1;break;default:if(n){var u=m.createCommentOffDom("#");r.push(u),(c=m.createTextNodeOffDom(s)).textContent="",this.addTextElementMediator(s,c),r.push(c);var a=m.createCommentOffDom("#");r.push(a)}else{var c=m.createTextNodeOffDom(s);r.push(c)}}}return r},t.prototype.addTextElementMediator=function(t,e){var n={mvvm:this,parent:this.parent,el:e,expression:t,model:this.model,prefix:"Text",module:this.moduleInstance},r=new l["default"](n);r.init(),this.elementMediators.push(r)},t.prototype.addEventElementMediator=function(t,e,n){var r={mvvm:this,parent:this.parent,el:n,expression:e,model:this.model,prefix:"Event",module:this.moduleInstance},o=new f["default"](r);o.setEventKey(t),o.init(),this.elementMediators.push(o)},t.prototype.addAttributeElementMediator=function(t,e,n){var r={mvvm:this,parent:this.parent,el:n,expression:e,model:this.model,prefix:"Event",module:this.moduleInstance},o=new p["default"](r);o.setAttributeName(t),o.init(),this.elementMediators.push(o)},t.prototype.addElementMediator=function(t,e,n,r,o){var i=h["default"].get(e),s=this.elementMediatorPrefix+e,u=null;if(i){var a=i[t];a||(a=i["*"]),a?(u=new a({mvvm:this,parent:this.parent,el:r,expression:n,model:this.model,prefix:s,module:this.moduleInstance}),!o||u.isTopLevelSupported()?(u.init(),this.elementMediators.push(u),u.hasPropagation()&&this.propagatingElementMediators.push(u)):this.logger.error("Element mediator "+e+" not supported on top level component tags.")):this.logger.error("Unsupported tag: "+t+" for elementMediator "+e+".")}},t}();e["default"]=N},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(25)),i=r(n(65)),s=r(n(1)),u=r(n(66)),a=n(5),c=n(0),l=function(){function t(t,e,n,r){this.digested=!1,this.reducerFn=c.isDefined(r)?r:a.asIdentity,this.model=c.requireNotNull(t,"model"),this.expression=c.requireNotNull(e,"expression"),this.scope=c.requireNotNull(n,"scope"),this.logger=s["default"].getLogger("ModelMediator: "+e),this.previous=null,this.context={},this.target=null,this.invoker=new i["default"](e),this.getter=new o["default"](e),this.setter=new u["default"](e)}return t.prototype.invoke=function(t){this.invoker.invoke(this.scope,t||{})},t.prototype.get=function(){return this.reducerFn.apply({},[this.getter.get(this.scope)])},t.prototype.set=function(t){this.setter.set(this.scope,t)},t.prototype.evaluate=function(){if(!this.target)return!1;var t=!1,e=this.get();return this.digested?c.equals(this.previous,e)?this.logger.ifTrace((function(){return{message:"Not different.",value:e}})):(this.logger.isTrace()&&this.logger.trace({current:e,previous:this.previous}),this.logger.trace("Invoking listener"),this.swap(e),t=!0):(this.swap(e),t=!0,this.digested=!0),t},t.prototype.notify=function(){this.watchDispatchPending&&(this.target.apply(this.context,[this.watchPrevious,this.watchCurrent]),this.watchDispatchPending=!1)},t.prototype.watch=function(t,e){this.context=c.requireNotNull(t,"context"),this.target=c.requireNotNull(e,"target")},t.prototype.dispose=function(){this.model=null,this.previous=null,this.context=null,this.target=null,this.watchPrevious=null,this.watchCurrent=null,this.watchDispatchPending=!1},t.prototype.getExpression=function(){return this.expression},t.prototype.swap=function(t){var e=c.clone(t);this.watchPrevious=this.previous,this.watchCurrent=t,this.watchDispatchPending=!0,this.previous=e},t}();e["default"]=l},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=function(){function t(t){this.expression=t,this.logger=o["default"].getLogger("Invoker: "+t)}return t.prototype.invoke=function(t,e){var n={},r=t.getItems();for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o]);if(null!==e&&e!==undefined)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);var i="";for(var o in n)n.hasOwnProperty(o)&&(i+="var "+o+" = arguments[0]['"+o+"'];\n");var s='"use strict"; '+i+" ("+this.expression+");";try{Function(s).apply({},[n])}catch(u){this.logInvocationError(s,u)}},t.prototype.logInvocationError=function(t,e){this.logger.error("\nAn exception ("+e.name+") was thrown invoking the element mediator expression: "+this.expression+"\n\nIn context:\n"+t+"\n\nException message: "+e.message+"\n\n",e)},t}();e["default"]=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=function(){function t(t){this.logger=o["default"].getLogger("Setter: "+t),this.expression=t}return t.prototype.set=function(t,e){var n='"use strict"; '+t.getCode()+" "+this.expression+" = arguments[1];";try{Function(n).apply({},[t.getItems(),e])}catch(r){this.logInvocationError(n,r)}},t.prototype.logInvocationError=function(t,e){this.logger.error("\nAn exception ("+e.name+") was thrown invoking the element mediator expression: "+this.expression+"\n\nIn context:\n"+t+"\n\nException message: "+e.message+"\n\n",e)},t}();e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=n(5),a=function(t){function e(e){return t.call(this,e,!1,u.asString)||this}return o(e,t),e.prototype.wire=function(){this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.onTargetChange=function(t,e){this.getEl().textContent=e},e}(s["default"]);e["default"]=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=n(5),a=function(t){function e(e){return t.call(this,e,!1,u.asIdentity)||this}return o(e,t),e.prototype.unwire=function(){},e.prototype.handleEvent=function(t){var e=this;this.$apply((function(){e.getModelMediator().invoke({$event:t})}),[t])},e.prototype.wire=function(){this.bridge(this.eventKey),this.on(this.eventKey).forChannel("dom").invoke(this.handleEvent)},e.prototype.setEventKey=function(t){this.eventKey=t},e}(s["default"]);e["default"]=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(3)),u=n(5),a=function(t){function e(e){return t.call(this,e,!1,u.asString)||this}return o(e,t),e.prototype.wire=function(){this.getModelMediator().watch(this,this.onTargetChange)},e.prototype.unwire=function(){},e.prototype.setAttributeName=function(t){this.attributeName=t},e.prototype.onTargetChange=function(t,e){this.getEl().setAttribute(this.attributeName,e)},e}(s["default"]);e["default"]=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=function(){function t(){this.logger=o["default"].getLogger("DigestionContextImpl"),this.mediators={}}return t.prototype.add=function(t,e){if(!this.mediators[t]){this.mediators[t]=[];for(var n=0,r=e;n<r.length;n++){var o=r[n];this.mediators[t].push(o)}}},t.prototype.digest=function(){var t=[];for(var e in this.mediators)if(this.mediators.hasOwnProperty(e)){var n=this.mediators[e];this.digestSegment(t,n)}return t},t.prototype.digestSegment=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n],i=!1;try{i=o.evaluate()}catch(s){this.logger.error("Error evaluating mediator: "+o.constructor.name)}i&&t.push(o)}},t}();e["default"]=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(){this.listeners=[]}return t.prototype.add=function(t){r.requireNotNull(t,"listener"),this.listeners.push(t)},t.prototype.notify=function(t){for(var e=0,n=this.listeners;e<n.length;e++)n[e].apply({},[t])},t}();e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.element=t}return t.prototype.get=function(){return this.element},t.prototype.focus=function(){var t=this;setTimeout((function(){t.element.focus()}),1)},t.prototype.blur=function(){var t=this;setTimeout((function(){t.element.blur()}),1)},t}();e["default"]=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(78),i=r(n(10)),s=r(n(81)),u=r(n(1)),a=n(2),c=n(7),l=r(n(13)),f=n(0),p=function(){function t(t,e,n){this.name=t,this.registry=new o.RegistryImpl(this),this.broker=new s["default"],this.scope=new i["default"],this.modules=e,n&&this.scope.setParent(n)}return t.prototype.getLogger=function(){return u["default"].getLogger(this.name)},t.prototype.getName=function(){return this.name},t.prototype.associate=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.forEach((function(e){f.requireNotNull(e,"componentClass"),e.prototype[a.MODULE_FIELD_NAME]=t})),this},t.prototype.disassociate=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.forEach((function(e){f.requireNotNull(e,"componentClass"),e.prototype[a.MODULE_FIELD_NAME]=t})),this},t.prototype.clear=function(){return this},t.prototype.broadcast=function(t,e,n){f.requireNotNull(t,"channelName"),f.requireNotNull(e,"messageName"),this.broker.broadcast(t,e,n)},t.prototype.broadcastGlobally=function(t,e,n){this.modules.broadcast(t,e,n)},t.prototype.message=function(t,e,n){f.requireNotNull(t,"channelName"),f.requireNotNull(e,"messageName");var r=null===n||n===undefined?{}:n;t===a.INTERNAL_DIRECT_CHANNEL_NAME&&("addListener"===e?this.addListener(r):"removeListener"===e&&this.removeListener(r))},t.prototype.get=function(t){f.requireValid(t,"id",c.VALID_ID);var e=this.registry.get(t);return e||(e=this.modules.get(t)),e},t.prototype.getLocal=function(t){return f.requireValid(t,"id",c.VALID_ID),this.registry.get(t)},t.prototype.getModule=function(t){return this.modules.getModule(t)},t.prototype.getDefaultModule=function(){return this.modules.getDefaultModule()},t.prototype.getScope=function(){return this.scope},t.prototype.registerConstant=function(t,e){return f.requireValid(t,"id",c.VALID_ID),f.requireNotNull(e,"instance"),this.registry.registerConstant(t,e),this},t.prototype.registerPrototype=function(t,e,n){return f.requireValid(t,"id",c.VALID_ID),f.requireNotNull(e,"classInstance"),this.registry.registerPrototype(t,e,n),this},t.prototype.registerPrototypeWithFactory=function(t,e,n){return f.requireValid(t,"id",c.VALID_ID),f.requireNotNull(e,"factoryFn"),this.registry.registerPrototypeWithFactory(t,e,n),this},t.prototype.registerSingleton=function(t,e,n){return f.requireValid(t,"id",c.VALID_ID),f.requireNotNull(e,"classInstance"),this.registry.registerSingleton(t,e,n),this},t.prototype.registerSingletonWithFactory=function(t,e,n){return f.requireValid(t,"id",c.VALID_ID),f.requireNotNull(e,"factoryFn"),this.registry.registerSingletonWithFactory(t,e,n),this},t.prototype.addStrategy=function(t){return f.requireNotNull(t,"strategy"),this.registry.addStrategy(t),this},t.prototype.expose=function(e){return f.requireValid(e,"id",c.VALID_ID),t.ALIASES[e]=this.name,this},t.prototype.createPubSubFor=function(t){return new l["default"](t,this)},t.prototype.addListener=function(t){this.broker.addListener(t)},t.prototype.removeListener=function(t){this.broker.removeListener(t)},t.prototype.logError=function(t){this.getLogger().error(t)},t.ALIASES={},t}();e["default"]=p},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RegistryImpl=void 0;var s=i(n(79)),u=n(7),a=i(n(80)),c=i(n(13)),l=n(0),f=function(){function t(t){this.factories={},this.module=t}return t.prototype.get=function(t,e){l.requireValid(t,"id",u.VALID_ID);var n=null;return this.factories[t]&&(n=this.factories[t].get(e)),n},t.prototype.registerConstant=function(t,e){this.registerFactory(t,new h(e))},t.prototype.registerPrototype=function(t,e,n){this.registerFactory(t,new _(this.module,a["default"].create(e),n||[]))},t.prototype.registerPrototypeWithFactory=function(t,e,n){this.registerFactory(t,new _(this.module,e,n||[]))},t.prototype.registerSingleton=function(t,e,n){this.registerFactory(t,new g(this.module,a["default"].create(e),n||[]))},t.prototype.registerSingletonWithFactory=function(t,e,n){this.registerFactory(t,new g(this.module,e,n||[]))},t.prototype.registerFactory=function(t,e){if(l.requireValid(t,"id",u.VALID_ID),t&&e){if(this.factories[t])throw new s["default"]("'%id%' key is considered unique and already exists",{"%id%":t});this.factories[t]=e}},t}(),p=function(){function t(t){this.module=t,this.defaultStrategy=new f(this.module),this.strategies=[this.defaultStrategy]}return t.prototype.get=function(t){l.requireValid(t,"id",u.VALID_ID);for(var e=0,n=null;!n&&e<this.strategies.length;)n=this.strategies[e].get(t,this),e++;return n},t.prototype.registerConstant=function(t,e){return l.requireValid(t,"id",u.VALID_ID),l.requireNotNull(e,"instance"),this.defaultStrategy.registerConstant(t,e),this},t.prototype.registerPrototype=function(t,e,n){return l.requireValid(t,"id",u.VALID_ID),l.requireNotNull(e,"classInstance"),this.defaultStrategy.registerPrototype(t,e,n),this},t.prototype.registerPrototypeWithFactory=function(t,e,n){return l.requireValid(t,"id",u.VALID_ID),l.requireNotNull(e,"factoryFn"),this.defaultStrategy.registerPrototypeWithFactory(t,e,n),this},t.prototype.registerSingleton=function(t,e,n){return l.requireValid(t,"id",u.VALID_ID),l.requireNotNull(e,"classInstance"),this.defaultStrategy.registerSingleton(t,e,n),this},t.prototype.registerSingletonWithFactory=function(t,e,n){return l.requireValid(t,"id",u.VALID_ID),l.requireNotNull(e,"factoryFn"),this.defaultStrategy.registerSingletonWithFactory(t,e,n),this},t.prototype.addStrategy=function(t){l.requireNotNull(t,"strategy"),this.strategies.push(t)},t}();e.RegistryImpl=p;var h=function(){function t(t){this.instance=t}return t.prototype.get=function(t){return this.instance},t}(),d=function(){function t(t,e,n){this.module=t,this.dependencies=n,this.fn=e}return t.prototype.create=function(t){for(var e=[],n=[],r=0,o=this.dependencies;r<o.length;r++){var i=o[r];switch(i){case"$pubSub":var s=new c["default"](null,this.module);e.push(s),n.push(s);break;default:var u=t.get(i);e.push(u)}}for(var a=this.fn.apply({},e),l=0,f=n;l<f.length;l++)(s=f[l]).setContext(a);return a},t}(),_=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return o(e,t),e.prototype.get=function(t){return this.create(t)},e}(d),g=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.instance=null,o}return o(e,t),e.prototype.get=function(t){return this.instance||(this.instance=this.create(t)),this.instance},e}(d)},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.create=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)return new t;for(var r="",o=0;o<e.length;o++)o>0&&(r+=","),r+="arguments[1]["+o+"]";var i='"use strict"; var classInstance = arguments[0]; return new classInstance('+r+");";return Function(i).apply({},[t,e])}},t}();e["default"]=r},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=n(0),s=function(){function t(){this.logger=o["default"].getLogger("Broker"),this.listeners={}}return t.prototype.broadcast=function(t,e,n){i.requireNotNull(t,"channelName"),i.requireNotNull(e,"messageName");var r=null===n||n===undefined?{}:n;if(this.logger.trace({channelName:t,messageName:e,payload:r}),this.listeners[t])for(var o=0,s=this.listeners[t];o<s.length;o++)s[o].receive(e,r);else this.logger.trace("no listeners for channel, returning")},t.prototype.addListener=function(t){var e=t.getChannelName();this.listeners[e]||(this.listeners[e]=[]);var n=this.listeners[e];this.contains(n,t)||n.push(t)},t.prototype.removeListener=function(t){var e=t.getChannelName(),n=this.listeners[e];n&&(this.remove(n,t),0===n.length&&delete this.listeners[e])},t.prototype.dispose=function(){this.listeners={}},t.prototype.contains=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},t.prototype.remove=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t}();e["default"]=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COMPARE=void 0,e.COMPARE={alpha:function(t,e){var n=0;return t<e?n=-1:t>e&&(n=1),n}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=n(2),s=n(0),u=r(n(22)),a=function(){function t(t,e,n){this.logger=o["default"].getLogger("Region "+this.name+" for "+e.getId()),this.itemFn=i.EMPTY_OBJECT_FN,this.component=null,this.parent=e,this.name=t,this.expression=null,this.element=new u["default"](n,"Empty")}return t.prototype.populate=function(){s.isDefined(this.initialComponentFn)&&(this.setComponent(this.initialComponentFn()),this.initialComponentFn=null)},t.prototype.hasExpression=function(){return s.isDefined(this.expression)},t.prototype.setExpression=function(t){var e=this;this.itemFn=s.isDefined(t)?function(){return e.parent.evaluate(t)}:i.EMPTY_OBJECT_FN,this.expression=t,this.syncComponentMode()},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){if(this.component!==t){s.isDefined(t)&&this.logger.ifTrace((function(){return"Setting component "+t.getId()})),s.isDefined(this.component)&&(this.component.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"setItemFn",i.EMPTY_OBJECT_FN),this.component.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"setMode","")),s.isDefined(t)&&t.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"setItemFn",this.itemFn),s.isDefined(t)&&!s.isDefined(this.component)?(this.component=t,this.component.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"setParent",this.parent.getComponent())):!s.isDefined(t)&&s.isDefined(this.component)?(this.component.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"setParent",null),this.component=null):s.isDefined(t)&&s.isDefined(this.component)&&(this.component.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"setParent",null),this.component=t,this.component.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"setParent",this.parent.getComponent()));var e=s.isDefined(this.component)?this.component.getEl():null;this.element.set(e),this.syncComponentMode()}else this.logger.trace("Component unchanged, so not setting.")},t.prototype.message=function(t,e,n){s.isDefined(this.component)&&this.component.message(t,e,n)},t.prototype.hasComponent=function(){return s.isDefined(this.component)},t.prototype.dispose=function(){s.isDefined(this.component)&&this.component.dispose(),this.setComponent(null)},t.prototype.setInitialComponentFn=function(t){this.initialComponentFn=t},t.prototype.syncComponentMode=function(){s.isDefined(this.component)&&(s.isDefined(this.expression)?this.component.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"setMode","repeatable"):this.component.message(i.INTERNAL_DIRECT_CHANNEL_NAME,"setMode",""))},t}();e["default"]=a},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(85)),i=function(){function t(t,e,n,r,o,i){this.module=t,this.template=e,this.prefix=n,this.parent=r,this.parentId=o,this.parentModelFn=i}return t.prototype.create=function(t){return new o["default"](this.module,this.template,this.prefix,this.parent,this.parentId,this.parentModelFn,(function(){return t}))},t}();e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(11)),u=n(9),a=n(2),c=i(n(16)),l=function(t){function e(e,n,r,o,i,s,c){var l=this,f=new u.ComponentConfigImpl;return f.withPrefix(r),f.setParentModelFn(s),f.setModule(e),(l=t.call(this,n,f)||this).message(a.INTERNAL_DIRECT_CHANNEL_NAME,"setMode","repeatable"),l.message(a.INTERNAL_DIRECT_CHANNEL_NAME,"setItemFn",c),l.message(a.INTERNAL_DIRECT_CHANNEL_NAME,"skipId",i),l.message(a.INTERNAL_DIRECT_CHANNEL_NAME,"setParent",o),l}return o(e,t),e.prototype.____internal$$cydran$$init____=function(t,e){this[a.COMPONENT_INTERNALS_FIELD_NAME]=new c["default"](this,t,e),this[a.COMPONENT_INTERNALS_FIELD_NAME].init()},e}(s["default"]);e["default"]=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(0),i=function(){function t(t,e,n,r,o){this.module=t,this.componentId=e,this.moduleId=n,this.parent=r,this.parentId=o}return t.prototype.create=function(t){var e=(o.isDefined(this.moduleId)&&this.moduleId.trim().length>0?this.module.getModule(this.moduleId):this.module.getDefaultModule()).get(this.componentId);return e.message(r.INTERNAL_DIRECT_CHANNEL_NAME,"setMode","repeatable"),e.message(r.INTERNAL_DIRECT_CHANNEL_NAME,"setItemFn",(function(){return t})),e.message(r.INTERNAL_DIRECT_CHANNEL_NAME,"skipId",this.parentId),e.message(r.INTERNAL_DIRECT_CHANNEL_NAME,"setParent",this.parent),e},t}();e["default"]=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.check=function(t){return!0},t.prototype.enrich=function(t,e){},t.prototype.extract=function(t){return null},t.prototype.init=function(){throw new Error("Invalid strategy for repeat.  Please see [URL] for further details on properly using the repeat element mediator.")},t}();e["default"]=r},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=function(){function t(t){this.logger=o["default"].getLogger("Id Function: "+t),this.expression=t,this.code='"use strict"; return function(i,item,v,value) { return '+t+" }(arguments[0], arguments[0], arguments[0], arguments[0]);",this.fn=Function(this.code)}return t.prototype.check=function(t){return!1},t.prototype.enrich=function(t,e){},t.prototype.extract=function(t){var e=null;try{e=this.fn.apply({},[function(){return t}])}catch(n){throw this.logger.error("\nAn exception ("+n.name+") was thrown invoking the id function expression: "+this.expression+"\n\nIn context:\n"+this.code+"\n\nException message: "+n.message+"\n\n",n),n}return e},t.prototype.init=function(){},t}();e["default"]=i},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StageImpl=e.builder=void 0;var o=r(n(29)),i=r(n(1)),s=n(7),u=r(n(100)),a=n(2),c=r(n(28)),l=r(n(103)),f=n(0),p=n(8),h=function(){function t(t){this.config=new o["default"],this.instance=new d(t)}return t.prototype.withComponentBefore=function(t,e){return this.instance.withComponentBefore(t,e),this},t.prototype.withComponentAfter=function(t,e){return this.instance.withComponentAfter(t,e),this},t.prototype.withComponent=function(t,e){return this.withComponentAfter(t,e)},t.prototype.withInitializer=function(t){return this.instance.withInitializer(t),this},t.prototype.withTraceLogging=function(){return this.config.useTrace(),this},t.prototype.withDebugLogging=function(){return this.config.useDebug(),this},t.prototype.withInfoLogging=function(){return this.config.useInfo(),this},t.prototype.withWarnLogging=function(){return this.config.useWarn(),this},t.prototype.withErrorLogging=function(){return this.config.useError(),this},t.prototype.withFatalLogging=function(){return this.config.useFatal(),this},t.prototype.withLoggingDisabled=function(){return this.config.useDisabled(),this},t.prototype.getModule=function(t){return this.instance.getModules().getModule(t)},t.prototype.getDefaultModule=function(){return this.instance.getModules().getDefaultModule()},t.prototype.forEach=function(t){return this.instance.getModules().forEach(t),this},t.prototype.withElementMediator=function(t,e,n){return this.instance.getModules().registerElementMediator(t,e,n),this},t.prototype.withConstant=function(t,e){return this.instance.getModules().registerConstant(t,e),this},t.prototype.withPrototype=function(t,e,n){return this.instance.getModules().registerPrototype(t,e,n),this},t.prototype.withPrototypeFromFactory=function(t,e,n){return this.instance.getModules().registerPrototypeWithFactory(t,e,n),this},t.prototype.withSingleton=function(t,e,n){return this.instance.getModules().registerSingleton(t,e,n),this},t.prototype.withSingletonFromFactory=function(t,e,n){return this.instance.getModules().registerSingletonWithFactory(t,e,n),this},t.prototype.withImplicit=function(t,e,n){var r=this;return this.withPrototypeFromFactory(t,(function(){return new l["default"](r.getDefaultModule(),e,n)})),this},t.prototype.withCapability=function(t){return f.requireNotNull(t,"capability")(this),this},t.prototype.withScopeItem=function(t,e){return this.instance.getModules().getScope().add(t,e),this},t.prototype.build=function(){return this.instance},t}(),d=function(){function t(t){this.rootSelector=f.requireNotNull(t,"rootSelector"),this.logger=i["default"].getLogger("Stage"),this.modules=new c["default"],this.started=!1,this.initializers=[],this.topComponentIds=[],this.bottomComponentIds=[],this.root=null}return t.prototype.withInitializer=function(t){return f.requireNotNull(t,"callback"),this.initializers.push(t),this},t.prototype.withComponentBefore=function(t,e){f.requireValid(t,"id",s.VALID_ID),this.topComponentIds.push({componentId:t,moduleId:e||a.DEFAULT_MODULE_KEY})},t.prototype.withComponentAfter=function(t,e){f.requireValid(t,"id",s.VALID_ID),this.bottomComponentIds.push({componentId:t,moduleId:e||a.DEFAULT_MODULE_KEY})},t.prototype.start=function(){var t=this;return this.logger.debug("Start Requested"),this.started?(this.logger.debug("Aleady Started"),this):(this.logger.debug("Cydran Starting"),this.modules.registerConstant("stage",this),p.domReady((function(){return t.domReady()})),this)},t.prototype.setComponent=function(t){return this.root.setChild("body",t),this},t.prototype.setComponentFromRegistry=function(t,e){return f.requireNotNull(t,"componentName"),this.root.setChildFromRegistry("body",t,e),this},t.prototype.get=function(t){return f.requireValid(t,"id",s.VALID_ID),this.root.get(t)},t.prototype.getModules=function(){return this.modules},t.prototype.getModule=function(t){return this.modules.getModule(t)},t.prototype.getDefaultModule=function(){return this.modules.getDefaultModule()},t.prototype.forEach=function(t){this.modules.forEach(t)},t.prototype.broadcast=function(t,e,n){this.modules.broadcast(t,e,n)},t.prototype.registerConstant=function(t,e){this.modules.registerConstant(t,e)},t.prototype.registerPrototype=function(t,e,n){this.modules.registerPrototype(t,e,n)},t.prototype.registerSingleton=function(t,e,n){this.modules.registerSingleton(t,e,n)},t.prototype.getScope=function(){return this.modules.getScope()},t.prototype.dispose=function(){this.modules.dispose(),this.modules=null},t.prototype.isStarted=function(){return this.started},t.prototype.domReady=function(){this.logger.debug("DOM Ready"),this.root=new u["default"](this.modules.getDefaultModule(),this.rootSelector,this.topComponentIds,this.bottomComponentIds),this.root.message(a.INTERNAL_DIRECT_CHANNEL_NAME,"setParent",null),this.started=!0,this.logger.debug("Running initializers");for(var t=0,e=this.initializers;t<e.length;t++)e[t].apply(this,[this]);this.logger.debug("Startup Complete")},t}();e.StageImpl=d,e.builder=function(t){return new h(t)}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),u=i(n(101)),a=n(9),c=function(t){function e(e,n,r,o){var i=new a.ComponentConfigImpl;return i.setTopComponentIds(r),i.setBottomComponentIds(o),i.setModule(e),t.call(this,n,i)||this}return o(e,t),e.prototype.setComponent=function(t){return this.setChild("body",t),this},e.prototype.isConnected=function(){return!0},e.prototype.____internal$$cydran$$init____=function(t,e){this[s.COMPONENT_INTERNALS_FIELD_NAME]=new u["default"](this,t,e),this[s.COMPONENT_INTERNALS_FIELD_NAME].init()},e}(i(n(11))["default"]);e["default"]=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(23)),u=i(n(102)),a=i(n(16)),c=n(8),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){var t=s["default"].getWindow().document.querySelectorAll(this.getTemplate()),e=t?t.length:0,n=1!==e?"CSS selector MUST identify single HTMLElement: '%pattern%' - %qty% found":null;if(n){var r={"%pattern%":this.getTemplate(),"%qty%":e},o=new u["default"](n,r);throw this.getLogger().fatal(o),o}for(var i=t[0],a=this.getConfig().getTopComponentIds(),l=this.getConfig().getBottomComponentIds();i.hasChildNodes();)i.removeChild(i.firstChild);for(var f=0,p=a;f<p.length;f++){var h=p[f];(y=c.createElementOffDom("c:region")).setAttribute("component",h.componentId),y.setAttribute("module",h.moduleId),i.appendChild(y)}var d=c.createElementOffDom("c:region");d.setAttribute("name","body"),i.appendChild(d),this.setEl(i);for(var _=0,g=l;_<g.length;_++){var y;h=g[_],(y=c.createElementOffDom("c:region")).setAttribute("component",h.componentId),y.setAttribute("module",h.moduleId),i.appendChild(y)}},e.prototype.validateModulePresent=function(){},e}(a["default"]);e["default"]=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){return t.call(this,e,n)||this}return o(e,t),e}(n(6).CydranError);e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(11)),u=n(9),a=n(0),c=function(t){function e(e,n,r){var o=a.isDefined(r)?r:new u.ComponentConfigImpl;return o.setModule(e),t.call(this,n,o)||this}return o(e,t),e}(s["default"]);e["default"]=c},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=r(n(17)),s=r(n(105)),u=r(n(107)),a=r(n(109)),c=r(n(110)),l=r(n(111)),f=r(n(1)),p=function(){function t(t,e){this.watchable=o.requireNotNull(t,"watchable"),this.watcher=o.requireNotNull(e,"watcher"),this.phase=new a["default"]}return t.prototype.withPredicate=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.phase=new u["default"](this.phase,t,this.watchable,e),this},t.prototype.withSimplePredicate=function(t){return this.phase=new c["default"](this.phase,t),this},t.prototype.withPhase=function(t){return this.phase=new l["default"](this.phase,t),this},t.prototype.withSort=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.phase=new s["default"](this.phase,t,this.watchable,e),this},t.prototype["with"]=function(t){return t.apply(t,[this]),this},t.prototype.withLimit=function(t){return this.withSimplePredicate((function(e,n){return e<t}))},t.prototype.build=function(){return new h(this.watchable,this.watcher,this.phase)},t.prototype.paged=function(){return new _(this.build())},t.prototype.limited=function(){return new d(this.build())},t}(),h=function(){function t(t,e,n){var r=this;this.logger=f["default"].getLogger("FilterImpl"),this.filteredItems=[],this.phase=n,this.watchable=o.requireNotNull(t,"watchable"),this.watcher=o.requireNotNull(e,"watcher").addCallback(this,(function(){return r.refresh()})),this.callbacks=[],this.phase.setCallback((function(){return r.refresh()}))}return t.prototype.items=function(){return this.filteredItems},t.prototype.extend=function(){return new p(this.watchable,this)},t.prototype.get=function(){return this.items()},t.prototype.addCallback=function(t,e){return o.requireNotNull(t,"context"),o.requireNotNull(e,"callback"),this.callbacks.push({context:t,fn:e}),this},t.prototype.invalidate=function(){this.logger.trace("Invalidated"),this.phase.invalidate()},t.prototype.filter=function(t){var e=[];this.logger.ifTrace((function(){return{message:"Before filtering",items:t}}));for(var n=0;n<t.length;n++)e.push(t[n]);this.logger.trace("Invalidated");var r=this.phase.process(e);return this.logger.ifTrace((function(){return{message:"After filtering",items:r}})),r},t.prototype.refresh=function(){var t=this.filter(this.watcher.get());if(o.isDefined(t)){this.filteredItems=t;for(var e=0,n=this.callbacks;e<n.length;e++){var r=n[e];r.fn.apply(r.fn,[])}}},t}(),d=function(){function t(t){var e=this;this.logger=f["default"].getLogger("LimitOffsetFilterImpl"),this.parent=o.requireNotNull(t,"parent"),this.limiting=this.parent.extend().withPhase((function(t){var n=t.slice(e.offset);return o.isDefined(e.limit)&&(n=n.slice(0,e.limit)),n})).build(),this.offset=0,this.limit=null}return t.prototype.getLimit=function(){return this.limit},t.prototype.setLimit=function(t){this.logger.ifTrace((function(){return"Limit set to: "+t})),this.limit=o.isDefined(t)?Math.floor(t):null,this.limiting.invalidate(),this.limiting.refresh()},t.prototype.getOffset=function(){return this.offset},t.prototype.setOffset=function(t){this.logger.ifTrace((function(){return"Offset set to: "+t})),this.offset=o.isDefined(t)?Math.floor(t):0,this.limiting.invalidate(),this.limiting.refresh()},t.prototype.setLimitAndOffset=function(t,e){this.logger.ifTrace((function(){return"Limit set to: "+t})),this.logger.ifTrace((function(){return"Offset set to: "+e}));var n=this.limit,r=this.offset;this.limit=t,this.offset=o.isDefined(e)?e:0,o.equals(n,this.limit)&&o.equals(r,this.offset)||(this.limiting.invalidate(),this.limiting.refresh())},t.prototype.items=function(){return this.limiting.items()},t.prototype.extend=function(){return this.limiting.extend()},t.prototype.addCallback=function(t,e){this.limiting.addCallback(t,e)},t}(),_=function(){function t(t){var e=this;this.logger=f["default"].getLogger("PagedFilterImpl"),this.parent=o.requireNotNull(t,"parent"),this.limited=this.parent.extend().limited(),this.page=0,this.pageSize=10,this.parent.addCallback(this,(function(){e.enforcePageBounds(),e.sync()})),this.sync()}return t.prototype.getPageSize=function(){return this.pageSize},t.prototype.setPageSize=function(t){this.logger.ifTrace((function(){return"Page size set to: "+t})),this.pageSize=t<1?1:Math.floor(t),this.sync()},t.prototype.getTotalPages=function(){return Math.ceil(this.parent.items().length/this.pageSize)},t.prototype.getPage=function(){return this.page},t.prototype.setPage=function(t){this.logger.ifTrace((function(){return"Page set to: "+t})),this.page=Math.floor(t),this.enforcePageBounds(),this.sync()},t.prototype.toPrevious=function(){this.setPage(this.page-1)},t.prototype.toNext=function(){this.setPage(this.page+1)},t.prototype.toStart=function(){this.setPage(0)},t.prototype.toEnd=function(){this.setPage(this.getTotalPages())},t.prototype.items=function(){return this.limited.items()},t.prototype.extend=function(){return this.limited.extend()},t.prototype.addCallback=function(t,e){this.limited.addCallback(t,e)},t.prototype.enforcePageBounds=function(){var t=this;this.page<0&&(this.page=0),this.page>=this.getTotalPages()&&(this.page=this.getTotalPages()-1),this.page<0&&(this.page=0),this.logger.ifTrace((function(){return"Page normalized to: "+t.page}))},t.prototype.isAtBeginning=function(){return this.atBeginning},t.prototype.isAtEnd=function(){return this.atEnd},t.prototype.isMoreBefore=function(){return this.moreBefore},t.prototype.isMoreAfter=function(){return this.moreAfter},t.prototype.sync=function(){this.atBeginning=0===this.page,this.atEnd=this.page>=this.getTotalPages()-1,this.moreBefore=!this.atBeginning,this.moreAfter=!this.atEnd,this.limited.setLimitAndOffset(this.pageSize,this.page*this.pageSize)},t}(),g=function(){function t(){}return t.builder=function(t,e){o.requireNotNull(t,"watchable"),o.requireNotNull(e,"expression");var n=new i["default"](t,e);return new p(t,n)},t}();e["default"]=g},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(14)),u=n(0),a=i(n(17)),c=i(n(106)),l=function(t){function e(e,n,r,o){var i=t.call(this,"SortPhaseImpl - "+n,e)||this;u.requireNotNull(n,"expression"),i.evaluator=new c["default"](n,r.getWatchContext()),i.valueFunctions=[];for(var s=function(t){var e=o[t],n=new a["default"](r,e).addCallback(l,l.onChange);l.valueFunctions.push((function(){return n.get()}))},l=this,f=0;f<o.length;f++)s(f);return i}return o(e,t),e.prototype.execute=function(t){var e=this;return this.getLogger().ifTrace((function(){return{message:"Before sort",items:t}})),t.sort((function(t,n){return e.evaluator.compare(t,n,e.valueFunctions)})),this.getLogger().ifTrace((function(){return{message:"After sort",items:t}})),t},e}(s["default"]);e["default"]=l},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=function(){function t(t,e){this.logger=o["default"].getLogger("Evaluator: "+t),this.expression=t,this.scope=e,this.code='"use strict"; '+this.scope.getCode()+" var a = arguments[1]; var b = arguments[2]; var p = arguments[3]; return ("+this.expression+");"}return t.prototype.compare=function(t,e,n){var r=0;try{r=Function(this.code).apply({},[this.scope.getItems(),function(){return t},function(){return e},function(t){return n[t]()}])}catch(o){this.logger.error("\nAn exception ("+o.name+") was thrown invoking the element mediator expression: "+this.expression+"\n\nIn context:\n"+this.code+"\n\nException message: "+o.message+"\n\n",o)}return r},t}();e["default"]=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(14)),u=n(0),a=i(n(108)),c=n(5),l=i(n(17)),f=function(t){function e(e,n,r,o){var i=t.call(this,"PredicatePhaseImpl - "+n,e)||this;u.requireNotNull(n,"expression"),i.evaluator=new a["default"](n,r.getWatchContext(),c.asBoolean),i.valueFunctions=[];for(var s=function(t){var e=o[t],n=new l["default"](r,e).addCallback(f,f.onChange);f.valueFunctions.push((function(){return n.get()}))},f=this,p=0;p<o.length;p++)s(p);return i}return o(e,t),e.prototype.execute=function(t){var e=[];this.getLogger().ifTrace((function(){return{message:"Before predicate filtration",items:t}}));for(var n=0;n<t.length;n++){var r=t[n];this.evaluator.test(r,n,this.valueFunctions)&&e.push(r)}return this.getLogger().ifTrace((function(){return{message:"After predicate filtration",items:e}})),e},e}(s["default"]);e["default"]=f},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=n(5),s=n(0),u=function(){function t(t,e,n){this.reducerFn=s.isDefined(n)?n:i.asIdentity,this.logger=o["default"].getLogger("Evaluator: "+t),this.expression=t,this.scope=e,this.code='"use strict"; '+this.scope.getCode()+" var v = arguments[1]; var index = arguments[2]; var p = arguments[3]; return ("+this.expression+");"}return t.prototype.test=function(t,e,n){var r=null;try{r=Function(this.code).apply({},[this.scope.getItems(),function(){return t},e,function(t){return n[t]()}])}catch(o){this.logger.error("\nAn exception ("+o.name+") was thrown invoking the element mediator expression: "+this.expression+"\n\nIn context:\n"+this.code+"\n\nException message: "+o.message+"\n\n",o)}return this.reducerFn(r)},t}();e["default"]=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.process=function(t){return t},t.prototype.setCallback=function(t){},t.prototype.invalidate=function(){},t}();e["default"]=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(14)),u=n(0),a=function(t){function e(e,n){var r=t.call(this,"SimplePredicatePhaseImpl",e)||this;return r.predicate=u.requireNotNull(n,"predicate"),r}return o(e,t),e.prototype.execute=function(t){var e=[];this.getLogger().ifTrace((function(){return{message:"Before predicate filtration",items:t}}));for(var n=0;n<t.length;n++){var r=t[n];this.predicate.apply({},[n,r])&&e.push(r)}return this.getLogger().ifTrace((function(){return{message:"After predicate filtration",items:e}})),e},e}(s["default"]);e["default"]=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(14)),u=n(0),a=function(t){function e(e,n){var r=t.call(this,"Delegating Phase",e)||this;return r.fn=u.requireNotNull(n,"fn"),r}return o(e,t),e.prototype.execute=function(t){return this.fn.apply({},[t])},e}(s["default"]);e["default"]=a},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(27)),i=function(){function t(){}return t.prototype.getDigestionCycleStartHooks=function(){return o["default"].DIGESTION_CYCLE_START_HOOKS},t.INSTANCE=new t,t}();e["default"]=i}])},"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.cydran=e():t.cydran=e();
//# sourceMappingURL=cydran.min.js.map