(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("lodash"));else if(typeof define==="function"&&define.amd)define(["lodash"],factory);else if(typeof exports==="object")exports["cydran"]=factory(require("lodash"));else root["cydran"]=factory(root["_"])})(window,function(__WEBPACK_EXTERNAL_MODULE__6__){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=7)}([function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var LoggerFactory_1=__importDefault(__webpack_require__(1));var PubSub_1=__importDefault(__webpack_require__(5));var ModelMediatorImpl_1=__importDefault(__webpack_require__(11));var Registry_1=__webpack_require__(12);var SequenceGenerator_1=__importDefault(__webpack_require__(13));var ATTRIBUTE_PREFIX="data-c-";var MAX_EVALUATIONS=1e4;var BrokerImpl=function(){function BrokerImpl(){this.logger=LoggerFactory_1.default.getLogger("Broker");this.listeners={}}BrokerImpl.prototype.broadcast=function(channelName,messageName,payload){this.logger.trace({channelName:channelName,messageName:messageName,payload:payload});if(!this.listeners[channelName]){this.logger.trace("no listeners for channel, returning");return}var listeners=this.listeners[channelName];for(var _i=0,listeners_1=listeners;_i<listeners_1.length;_i++){var listener=listeners_1[_i];listener.receive(messageName,payload)}};BrokerImpl.prototype.addListener=function(listener){var channelName=listener.getChannelName();if(!this.listeners[channelName]){this.listeners[channelName]=[]}var listeners=this.listeners[channelName];if(!this.contains(listeners,listener)){listeners.push(listener)}};BrokerImpl.prototype.removeListener=function(listener){var channelName=listener.getChannelName();var listeners=this.listeners[channelName];if(!listeners){return}this.remove(listeners,listener);if(0===listeners.length){delete this.listeners[channelName]}};BrokerImpl.prototype.dispose=function(){this.listeners={}};BrokerImpl.prototype.contains=function(array,instance){var i=array.length;while(i--){if(array[i]===instance){return true}}return false};BrokerImpl.prototype.remove=function(array,instance){var i=array.length;while(i--){if(array[i]===instance){array.splice(i,1);break}}};return BrokerImpl}();var ALIASES={};var ModuleImpl=function(){function ModuleImpl(name){this.name=name;this.registry=new Registry_1.RegistryImpl;this.broker=new BrokerImpl}ModuleImpl.prototype.getName=function(){return this.name};ModuleImpl.prototype.associate=function(){var _this=this;var componentClasses=[];for(var _i=0;_i<arguments.length;_i++){componentClasses[_i]=arguments[_i]}componentClasses.forEach(function(componentClass){componentClass["associate"](_this)});return this};ModuleImpl.prototype.disassociate=function(){var _this=this;var componentClasses=[];for(var _i=0;_i<arguments.length;_i++){componentClasses[_i]=arguments[_i]}componentClasses.forEach(function(componentClass){componentClass["disassociate"](_this)});return this};ModuleImpl.prototype.clear=function(){return this};ModuleImpl.prototype.broadcast=function(channelName,messageName,payload){this.broker.broadcast(channelName,messageName,payload)};ModuleImpl.prototype.addListener=function(listener){this.broker.addListener(listener)};ModuleImpl.prototype.removeListener=function(listener){this.broker.removeListener(listener)};ModuleImpl.prototype.get=function(id){var result=this.registry.get(id);if(!result){result=Modules.get(id)}return result};ModuleImpl.prototype.getLocal=function(id){return this.registry.get(id)};ModuleImpl.prototype.registerConstant=function(id,instance){this.registry.registerConstant(id,instance);return this};ModuleImpl.prototype.registerPrototype=function(id,classInstance){this.registry.registerPrototype(id,classInstance);return this};ModuleImpl.prototype.registerSingleton=function(id,classInstance){this.registry.registerSingleton(id,classInstance);return this};ModuleImpl.prototype.addStrategy=function(strategy){this.registry.addStrategy(strategy);return this};ModuleImpl.prototype.expose=function(id){ALIASES[id]=this.name;return this};return ModuleImpl}();exports.ModuleImpl=ModuleImpl;var DEFAULT_MODULE=new ModuleImpl("DEFAULT");var Modules=function(){function Modules(){}Modules.getModule=function(name){if(!Modules.modules[name]){Modules.modules[name]=new ModuleImpl(name)}return Modules.modules[name]};Modules.getDefaultModule=function(){return this.getModule("DEFAULT")};Modules.forEach=function(fn){for(var name_1 in Modules.modules){if(!Modules.modules.hasOwnProperty(name_1)){continue}var current=Modules.modules[name_1];fn(current)}};Modules.broadcast=function(channelName,messageName,payload){Modules.forEach(function(instance){return instance.broadcast(channelName,messageName,payload)})};Modules.registerConstant=function(id,instance){this.getDefaultModule().registerConstant(id,instance)};Modules.registerPrototype=function(id,classInstance){this.getDefaultModule().registerPrototype(id,classInstance)};Modules.registerSingleton=function(id,classInstance){this.getDefaultModule().registerSingleton(id,classInstance)};Modules.registerDecorator=function(name,supportedTags,decoratorClass){Mvvm.register(name,supportedTags,decoratorClass)};Modules.registerFilter=function(name,fn){Mvvm.registerFilter(name,fn)};Modules.get=function(id){var result=null;var moduleId=ALIASES[id];if(moduleId){result=Modules.getModule(id).getLocal(id)}if(!result){result=DEFAULT_MODULE.getLocal(id)}return result};Modules.modules={DEFAULT:DEFAULT_MODULE};return Modules}();exports.Modules=Modules;var Component=function(){function Component(componentName,template){this.componentName=componentName;this.template=template;this.id=SequenceGenerator_1.default.INSTANCE.next();this.logger=LoggerFactory_1.default.getLogger(componentName+" Component "+this.id);this.mvvm=new Mvvm(this,this.getModule());this.regions={};this.pubSub=new PubSub_1.default(this,this.getModule())}Component.associate=function(moduleInstance){if(moduleInstance){this.prototype["moduleInstance"]=moduleInstance}};Component.disassociate=function(){this.prototype["moduleInstance"]=DEFAULT_MODULE};Component.prototype.hasMetadata=function(name){return this.getMetadata(name)?true:false};Component.prototype.getMetadata=function(name){return this.metadata[name]};Component.prototype.setEl=function(el){this.getLogger().trace("Setting el");if(this.el){this.getLogger().trace("el already present, unwiring");this.unwireInternal()}this.el=el;if(this.el){this.getLogger().trace("el present, wiring");this.wireInternal()}};Component.prototype.setParentView=function(parentView){if(parentView){this.getLogger().trace("Setting parent view "+parentView.getId())}else{this.getLogger().trace("Clearing parent view")}this.parentView=parentView};Component.prototype.getRegion=function(name){if(!this.regions[name]){this.getLogger().trace("Creating region "+name);this.regions[name]=new Region(name,this)}return this.regions[name]};Component.prototype.digest=function(){this.$apply(function(){})};Component.prototype.setChild=function(name,component){this.getRegion(name).setComponent(component)};Component.prototype.setChildFromRegistry=function(name,componentName,defaultComponentName){var component=this.get(componentName);if(!component&&defaultComponentName){component=this.get(defaultComponentName)}if(component){this.setChild(name,component)}else{this.getLogger().error("Unable to set component "+componentName+" on region "+name)}};Component.prototype.message=function(channelName,messageName,payload){this.pubSub.message(channelName,messageName,payload)};Component.prototype.broadcast=function(channelName,messageName,payload){this.getModule().broadcast(channelName,messageName,payload)};Component.prototype.broadcastGlobally=function(channelName,messageName,payload){Modules.broadcast(channelName,messageName,payload)};Component.prototype.dispose=function(){this.unwire();this.pubSub.dispose();this.parentView=null};Component.prototype.getId=function(){return this.id};Component.prototype.watch=function(expression,target){this.mvvm.mediate(expression).watch(this,target)};Component.prototype.withMetadata=function(name,value){this.metadata[name]=value};Component.prototype.listenTo=function(channel,messageName,target){var _this=this;this.pubSub.listenTo(channel,messageName,function(payload){_this.$apply(target,payload)})};Component.prototype.get=function(id){return this.getModule().get(id)};Component.prototype.$apply=function(fn){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}this.mvvm.$apply(fn,args)};Component.prototype.getEl=function(){return this.el};Component.prototype.getParentView=function(){return this.parentView};Component.prototype.getLogger=function(){return this.logger};Component.prototype.wire=function(){};Component.prototype.unwire=function(){};Component.prototype.getModule=function(){return this["moduleInstance"]};Component.prototype.render=function(){this.getLogger().trace("Rendering");this.getEl().innerHTML=this.template(this)};Component.prototype.notify=function(messageName){this.message("component",messageName,{})};Component.prototype.wireInternal=function(){this.pubSub.enableGlobal();this.notify("prewire");this.el.setAttribute("data-component-type",this.componentName);this.el.setAttribute("data-component-id",this.id+"");this.render();this.mvvm.init(this.getEl(),this);this.wire();this.notify("wired")};Component.prototype.unwireInternal=function(){this.notify("preunwired");this.unwire();this.mvvm.dispose();for(var key in this.regions){if(this.regions.hasOwnProperty(key)){this.regions[key].dispose()}}this.notify("unwired");this.pubSub.disableGlobal()};return Component}();exports.Component=Component;Component["prototype"]["moduleInstance"]=DEFAULT_MODULE;var Decorator=function(){function Decorator(mvvm,parentView,el,expression,model,prefix){this.logger=LoggerFactory_1.default.getLogger("Decorator: "+prefix);this.parentView=parentView;this.el=el;this.expression=expression;this.model=model;this.previous=null;this.value=null;this.mvvm=mvvm;this.prefix=prefix;this.params={};this.domListeners={};this.pubSub=new PubSub_1.default(this,this.getModule())}Decorator.prototype.dispose=function(){this.removeDomListeners();this.unwire();this.mediator=null;this.model=null;this.value=null;this.mvvm=null;this.parentView=null};Decorator.prototype.init=function(){this.mediator=this.mediate(this.getExpression());this.wire()};Decorator.prototype.get=function(id){return this.moduleInstance.get(id)};Decorator.prototype.setModule=function(moduleInstance){this.moduleInstance=moduleInstance};Decorator.prototype.message=function(channelName,messageName,payload){this.pubSub.message(channelName,messageName,payload)};Decorator.prototype.broadcast=function(channelName,messageName,payload){this.getModule().broadcast(channelName,messageName,payload)};Decorator.prototype.broadcastGlobally=function(channelName,messageName,payload){Modules.broadcast(channelName,messageName,payload)};Decorator.prototype.listenTo=function(channel,messageName,target){var _this=this;this.pubSub.listenTo(channel,messageName,function(payload){target.apply(_this,[payload])})};Decorator.prototype.consume=function(name){var _this=this;var listener=function(event){_this.message("dom",name,event)};if(!this.domListeners[name]){this.domListeners[name]=listener;this.getEl().addEventListener(name,listener,false)}};Decorator.prototype.getEl=function(){return this.el};Decorator.prototype.getModule=function(){return this["moduleInstance"]};Decorator.prototype.mediate=function(expression){return this.mvvm.mediate(expression)};Decorator.prototype.getParam=function(name,defaultValue){if(!this.params.hasOwnProperty(name)){var attributeName=this.prefix+name;var value=this.getEl().getAttribute(attributeName);if(value===null){value=defaultValue}this.params[name]=value}return this.params[name]};Decorator.prototype.getRequiredParam=function(name,defaultValue){var result=this.getParam(name,defaultValue);if(result==null){var attributeName=this.prefix+name;throw new Error("Required undefined parameter: "+attributeName)}return result};Decorator.prototype.getModel=function(){return this.model};Decorator.prototype.getParentView=function(){return this.parentView};Decorator.prototype.getMediator=function(){return this.mediator};Decorator.prototype.notifyModelInteraction=function(){if(this.mvvm){this.mvvm.evaluateModel()}};Decorator.prototype.getExpression=function(){return this.expression};Decorator.prototype.removeDomListeners=function(){for(var name_2 in this.domListeners){if(!this.domListeners.hasOwnProperty(name_2)){continue}var listener=this.domListeners[name_2];this.getEl().removeEventListener(name_2,listener)}this.domListeners={}};return Decorator}();exports.Decorator=Decorator;var Region=function(){function Region(name,parentView){this.name=name;this.parentView=parentView;this.logger=LoggerFactory_1.default.getLogger("Region "+this.name+" for "+parentView.getId())}Region.prototype.setEl=function(el){this.logger.trace("Setting el");if(this.el&&this.component){this.logger.trace("Existing el and component, unregistering el from component");this.component.setEl(null)}this.el=el;if(this.el){this.wireEl()}};Region.prototype.setComponent=function(component){this.logger.trace("Setting component");if(this.component){this.component.setEl(null);this.component.setParentView(null)}this.component=component;if(this.el){this.wireEl()}this.component.setParentView(this.parentView)};Region.prototype.dispose=function(){if(this.component){this.component.dispose()}};Region.prototype.wireEl=function(){while(this.el.firstChild){this.el.removeChild(this.el.firstChild)}var child=document.createElement("div");this.el.appendChild(child);if(this.component){this.logger.trace("component, setting container el");this.component.setEl(child)}};return Region}();exports.Region=Region;var Mvvm=function(){function Mvvm(model,moduleInstance){this.logger=LoggerFactory_1.default.getLogger("Mvvm");this.decorators=[];this.mediators=[];this.model=model;this.moduleInstance=moduleInstance}Mvvm.register=function(name,supportedTags,elementDecoratorClass){if(!Mvvm.factories[name]){Mvvm.factories[name]={}}for(var _i=0,supportedTags_1=supportedTags;_i<supportedTags_1.length;_i++){var supportedTag=supportedTags_1[_i];Mvvm.factories[name][supportedTag]=elementDecoratorClass}};Mvvm.registerFilter=function(name,fn){Mvvm.filters[name]=fn;var code="";for(var key in Mvvm.filters){if(Mvvm.filters.hasOwnProperty(key)){var statement="var "+key+" = arguments[0]['"+key+"'];\n";code+=statement}}Mvvm.filtersCode=code};Mvvm.getFilters=function(){return Mvvm.filters};Mvvm.getFiltersCode=function(){return Mvvm.filtersCode};Mvvm.prototype.init=function(el,parentView){this.el=el;this.parentView=parentView;this.populateDecorators()};Mvvm.prototype.dispose=function(){for(var _i=0,_a=this.decorators;_i<_a.length;_i++){var decorator=_a[_i];decorator.dispose()}this.decorators=[];this.parentView=null};Mvvm.prototype.mediate=function(expression){var mediator=new ModelMediatorImpl_1.default(this.model,expression,Mvvm.getFiltersCode(),Mvvm.getFilters());this.mediators.push(mediator);return mediator};Mvvm.prototype.evaluateModel=function(){var remainingEvaluations=MAX_EVALUATIONS;var pending=true;while(pending&&remainingEvaluations>0){remainingEvaluations--;var changedMediators=[];for(var _i=0,_a=this.mediators;_i<_a.length;_i++){var mediator=_a[_i];var changed=mediator.digest();if(changed){changedMediators.push(mediator)}}if(changedMediators.length===0){pending=false;break}for(var _b=0,changedMediators_1=changedMediators;_b<changedMediators_1.length;_b++){var changedMediator=changedMediators_1[_b];changedMediator.notifyWatcher()}}if(remainingEvaluations===0){throw new Error("Loop detected in digest cycle.")}};Mvvm.prototype.$apply=function(fn,args){var result=fn.apply(this.model,args);this.evaluateModel();return result};Mvvm.prototype.populateDecorators=function(){this.processChildren(this.el.children)};Mvvm.prototype.processChildren=function(children){for(var i=0;i<children.length;i++){var el=children[i];var attr=el.attributes;for(var _i=0,_a=el.getAttributeNames();_i<_a.length;_i++){var name_3=_a[_i];if(name_3.indexOf(ATTRIBUTE_PREFIX)===0){var value=el.getAttribute(name_3);var decoratorType=name_3.substr(ATTRIBUTE_PREFIX.length);this.addDecorator(el.tagName.toLowerCase(),decoratorType,value,el);el.removeAttribute(name_3)}}this.processChildren(el.children)}};Mvvm.prototype.addDecorator=function(tag,decoratorType,attributeValue,el){var tags=Mvvm.factories[decoratorType];var prefix="data-p-"+decoratorType+"-";var decorator=null;if(!tags){this.logger.error("Unsupported decorator type: "+decoratorType+".");return}var decoratorClass=tags[tag];if(!decoratorClass){decoratorClass=tags["*"]}if(!decoratorClass){this.logger.error("Unsupported tag: "+tag+" for decorator "+decoratorType+".");return}decorator=new decoratorClass(this,this.parentView,el,attributeValue,this.model,prefix);decorator.setModule(this.moduleInstance);decorator.init();this.decorators.push(decorator)};Mvvm.factories={};Mvvm.filters={};Mvvm.filtersCode="";return Mvvm}();exports.Mvvm=Mvvm},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var LoggerImpl_1=__importDefault(__webpack_require__(9));var LoggerService_1=__importDefault(__webpack_require__(4));var LoggerFactory=function(){function LoggerFactory(){}LoggerFactory.getLogger=function(name){return new LoggerImpl_1.default(name,LoggerService_1.default.INSTANCE)};return LoggerFactory}();exports.default=LoggerFactory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Level;(function(Level){Level[Level["TRACE"]=0]="TRACE";Level[Level["DEBUG"]=1]="DEBUG";Level[Level["INFO"]=2]="INFO";Level[Level["ERROR"]=3]="ERROR";Level[Level["FATAL"]=4]="FATAL"})(Level||(Level={}));exports.default=Level},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var Level_1=__importDefault(__webpack_require__(2));var LoggerService_1=__importDefault(__webpack_require__(4));var Config=function(){function Config(){}Config.prototype.useTrace=function(){LoggerService_1.default.INSTANCE.setLevel(Level_1.default.TRACE)};Config.prototype.useDebug=function(){LoggerService_1.default.INSTANCE.setLevel(Level_1.default.DEBUG)};Config.prototype.useInfo=function(){LoggerService_1.default.INSTANCE.setLevel(Level_1.default.INFO)};Config.prototype.useError=function(){LoggerService_1.default.INSTANCE.setLevel(Level_1.default.ERROR)};Config.prototype.useFatal=function(){LoggerService_1.default.INSTANCE.setLevel(Level_1.default.FATAL)};return Config}();exports.default=Config},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var ConsoleOutputStrategy_1=__importDefault(__webpack_require__(8));var Level_1=__importDefault(__webpack_require__(2));var LoggerService=function(){function LoggerService(){this.levelNames=["TRACE","DEBUG"," INFO","ERROR","FATAL"];this.level=Level_1.default.INFO;this.outputStrategy=new ConsoleOutputStrategy_1.default}LoggerService.prototype.log=function(logger,level,payload,error){if(level>=this.level){this.outputStrategy.log(logger,this.levelNames[level],payload,error)}};LoggerService.prototype.setLevel=function(level){this.level=level};LoggerService.prototype.isTrace=function(){return Level_1.default.TRACE>=this.level};LoggerService.prototype.isDebug=function(){return Level_1.default.DEBUG>=this.level};LoggerService.prototype.isInfo=function(){return Level_1.default.INFO>=this.level};LoggerService.prototype.isError=function(){return Level_1.default.ERROR>=this.level};LoggerService.prototype.isFatal=function(){return Level_1.default.FATAL>=this.level};LoggerService.INSTANCE=new LoggerService;return LoggerService}();exports.default=LoggerService},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var ListenerImpl_1=__importDefault(__webpack_require__(10));var PubSub=function(){function PubSub(context,moduleInstance){this.globalEnabled=false;this.listeners=[];this.listenersByChannel={};this.context=context;this.moduleInstance=moduleInstance?moduleInstance:Core_1.Modules.getModule("DEFAULT")}PubSub.prototype.listenTo=function(channel,messageName,target){var listener=this.listenersByChannel[channel];if(!listener){listener=new ListenerImpl_1.default(channel,this.context);if(this.globalEnabled){this.moduleInstance.addListener(listener)}this.listeners.push(listener)}listener.register(messageName,target)};PubSub.prototype.message=function(channelName,messageName,payload){this.listeners.forEach(function(listener){if(channelName===listener.getChannelName()){listener.receive(messageName,payload)}})};PubSub.prototype.broadcast=function(channelName,messageName,payload){this.moduleInstance.broadcast(channelName,messageName,payload)};PubSub.prototype.broadcastGlobally=function(channelName,messageName,payload){Core_1.Modules.broadcast(channelName,messageName,payload)};PubSub.prototype.enableGlobal=function(){if(this.globalEnabled){return}for(var _i=0,_a=this.listeners;_i<_a.length;_i++){var listener=_a[_i];this.moduleInstance.addListener(listener)}};PubSub.prototype.disableGlobal=function(){if(!this.globalEnabled){return}for(var _i=0,_a=this.listeners;_i<_a.length;_i++){var listener=_a[_i];this.moduleInstance.removeListener(listener)}this.globalEnabled=false};PubSub.prototype.dispose=function(){this.disableGlobal();this.listeners=[];this.listenersByChannel={}};return PubSub}();exports.default=PubSub},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__6__},function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(Object.hasOwnProperty.call(mod,k))result[k]=mod[k];result["default"]=mod;return result};var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var Config=__importStar(__webpack_require__(3));exports.Config=Config;var Core_1=__webpack_require__(0);exports.Component=Core_1.Component;exports.Decorator=Core_1.Decorator;exports.Modules=Core_1.Modules;__webpack_require__(14);var LoggerFactory_1=__importDefault(__webpack_require__(1));exports.LoggerFactory=LoggerFactory_1.default;__webpack_require__(27);var PubSub_1=__importDefault(__webpack_require__(5));exports.PubSub=PubSub_1.default;var Stage_1=__importDefault(__webpack_require__(28));exports.Stage=Stage_1.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ConsoleOutputStrategy=function(){function ConsoleOutputStrategy(){}ConsoleOutputStrategy.prototype.log=function(logger,level,payload,error){var prefix=this.getNow()+" "+level+" ["+logger.getName()+"]";if(error){console.log(prefix,payload,error.message,error.stack)}else{console.log(prefix,payload)}};ConsoleOutputStrategy.prototype.getNow=function(){var now=new Date;return now.getUTCFullYear()+"-"+now.getUTCMonth()+":"+now.getUTCDate()+":"+now.getUTCHours()+":"+now.getUTCMinutes()+":"+now.getUTCSeconds()+":"+now.getUTCMilliseconds()};return ConsoleOutputStrategy}();exports.default=ConsoleOutputStrategy},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var Level_1=__importDefault(__webpack_require__(2));var LOGGER_NAME_LENGTH=20;var LoggerImpl=function(){function LoggerImpl(name,loggerService){if(name.length<LOGGER_NAME_LENGTH){var count=LOGGER_NAME_LENGTH-name.length;while(count>0){name=name+" ";--count}}this.name=name;this.loggerService=loggerService}LoggerImpl.prototype.trace=function(payload,error){this.loggerService.log(this,Level_1.default.TRACE,payload,error)};LoggerImpl.prototype.debug=function(payload,error){this.loggerService.log(this,Level_1.default.DEBUG,payload,error)};LoggerImpl.prototype.info=function(payload,error){this.loggerService.log(this,Level_1.default.INFO,payload,error)};LoggerImpl.prototype.error=function(payload,error){this.loggerService.log(this,Level_1.default.ERROR,payload,error)};LoggerImpl.prototype.fatal=function(payload,error){this.loggerService.log(this,Level_1.default.FATAL,payload,error)};LoggerImpl.prototype.isTrace=function(){return this.loggerService.isTrace()};LoggerImpl.prototype.isDebug=function(){return this.loggerService.isDebug()};LoggerImpl.prototype.isInfo=function(){return this.loggerService.isInfo()};LoggerImpl.prototype.isError=function(){return this.loggerService.isError()};LoggerImpl.prototype.isFatal=function(){return this.loggerService.isFatal()};LoggerImpl.prototype.getName=function(){return this.name};return LoggerImpl}();exports.default=LoggerImpl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ListenerImpl=function(){function ListenerImpl(channelName,context){this.mappings={};this.channelName=channelName;this.context=context}ListenerImpl.prototype.receive=function(messageName,payload){var mappings=this.mappings[messageName];if(!mappings){return}for(var _i=0,mappings_1=mappings;_i<mappings_1.length;_i++){var mapping=mappings_1[_i];mapping.call(this.context,payload)}};ListenerImpl.prototype.register=function(messageName,fn){if(!this.mappings[messageName]){this.mappings[messageName]=[]}this.mappings[messageName].push(fn)};ListenerImpl.prototype.getChannelName=function(){return this.channelName};ListenerImpl.prototype.dispose=function(){this.mappings={};this.context=null};return ListenerImpl}();exports.default=ListenerImpl},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__importDefault(__webpack_require__(6));var LoggerFactory_1=__importDefault(__webpack_require__(1));var ModelMediatorImpl=function(){function ModelMediatorImpl(model,expression,filterCode,filters){this.logger=LoggerFactory_1.default.getLogger("ModelMediator: "+expression);this.model=model;this.expression=expression;this.filterCode=filterCode;this.filters=filters;this.previous=null;this.context={};this.target=null;this.watchDispatchPending=false}ModelMediatorImpl.prototype.invoke=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}var code='"use strict"; ('+this.expression+");";Function(code).apply(this.model,args)};ModelMediatorImpl.prototype.get=function(){var code='"use strict"; '+this.filterCode+" return ("+this.expression+");";return lodash_1.default.cloneDeep(Function(code).apply(this.model,[this.filters]))};ModelMediatorImpl.prototype.set=function(value){var code='"use strict"; '+this.expression+"= arguments[0];";Function(code).apply(this.model,[value])};ModelMediatorImpl.prototype.digest=function(){if(!this.target){return false}var changed=false;var value=this.get();if(lodash_1.default.isEqual(this.previous,value)){this.logger.trace("Not different.")}else{if(this.logger.isTrace()){this.logger.trace({current:value,previous:this.previous})}this.logger.trace("Invoking listener");var newPrevious=lodash_1.default.cloneDeep(value);this.watchPrevious=this.previous;this.watchCurrent=value;this.watchDispatchPending=true;this.previous=newPrevious;changed=true}return changed};ModelMediatorImpl.prototype.notifyWatcher=function(){if(this.watchDispatchPending){this.target.apply(this.context,[this.watchPrevious,this.watchCurrent]);this.watchDispatchPending=false}};ModelMediatorImpl.prototype.watch=function(context,target){if(context!==null&&target!==null){this.previous=this.get()}this.context=context;this.target=target};ModelMediatorImpl.prototype.dispose=function(){this.model=null;this.previous=null;this.context=null;this.target=null;this.watchPrevious=null;this.watchCurrent=null;this.watchDispatchPending=false};ModelMediatorImpl.prototype.getExpression=function(){return this.expression};return ModelMediatorImpl}();exports.default=ModelMediatorImpl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var DefaultRegistryStrategyImpl=function(){function DefaultRegistryStrategyImpl(){this.factories={}}DefaultRegistryStrategyImpl.prototype.get=function(id){var instance=null;if(this.factories[id]){instance=this.factories[id].get()}return instance};DefaultRegistryStrategyImpl.prototype.registerConstant=function(id,instance){this.registerFactory(id,new ConstantFactory(instance))};DefaultRegistryStrategyImpl.prototype.registerPrototype=function(id,classInstance){this.registerFactory(id,new PrototypeFactory(classInstance))};DefaultRegistryStrategyImpl.prototype.registerSingleton=function(id,classInstance){this.registerFactory(id,new SingletonFactory(classInstance))};DefaultRegistryStrategyImpl.prototype.registerFactory=function(id,factory){if(id&&factory){this.factories[id]=factory}};return DefaultRegistryStrategyImpl}();var RegistryImpl=function(){function RegistryImpl(){this.defaultStrategy=new DefaultRegistryStrategyImpl;this.strategies=[this.defaultStrategy]}RegistryImpl.prototype.get=function(id){var i=0;var instance=null;while(!instance&&i<this.strategies.length){instance=this.strategies[i].get(id);i++}return instance};RegistryImpl.prototype.registerConstant=function(id,instance){this.defaultStrategy.registerConstant(id,instance);return this};RegistryImpl.prototype.registerPrototype=function(id,classInstance){this.defaultStrategy.registerPrototype(id,classInstance);return this};RegistryImpl.prototype.registerSingleton=function(id,classInstance){this.defaultStrategy.registerSingleton(id,classInstance);return this};RegistryImpl.prototype.addStrategy=function(strategy){if(strategy){this.strategies.push(strategy)}};RegistryImpl.INSTANCE=new RegistryImpl;return RegistryImpl}();exports.RegistryImpl=RegistryImpl;var ConstantFactory=function(){function ConstantFactory(instance){this.instance=instance}ConstantFactory.prototype.get=function(){return this.instance};return ConstantFactory}();var PrototypeFactory=function(){function PrototypeFactory(classInstance){this.classInstance=classInstance}PrototypeFactory.prototype.get=function(){return new this.classInstance};return PrototypeFactory}();var SingletonFactory=function(){function SingletonFactory(classInstance){this.classInstance=classInstance}SingletonFactory.prototype.get=function(){if(!this.instance){this.instance=new this.classInstance}return this.instance};return SingletonFactory}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var MAX_SAFE_INTEGER=9007199254740989;var SequenceGenerator=function(){function SequenceGenerator(){this.value=0}SequenceGenerator.prototype.next=function(){if(this.value>=MAX_SAFE_INTEGER){this.value=-1}this.value++;return this.value};SequenceGenerator.INSTANCE=new SequenceGenerator;return SequenceGenerator}();exports.default=SequenceGenerator},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var AttributeDecorator_1=__importDefault(__webpack_require__(15));var CheckboxListDecorator_1=__importDefault(__webpack_require__(16));var ClickDecorator_1=__importDefault(__webpack_require__(17));var ComponentEachDecorator_1=__importDefault(__webpack_require__(18));var DisableableModelDecorator_1=__importDefault(__webpack_require__(19));var ForceFocusDecorator_1=__importDefault(__webpack_require__(20));var InnerHtmlDecorator_1=__importDefault(__webpack_require__(21));var KeydownDecorator_1=__importDefault(__webpack_require__(22));var RegionDecorator_1=__importDefault(__webpack_require__(23));var SelectOptionsDecorator_1=__importDefault(__webpack_require__(24));var ValuedModelDecorator_1=__importDefault(__webpack_require__(25));var VisibleDecorator_1=__importDefault(__webpack_require__(26));Core_1.Mvvm.register("click",["*"],ClickDecorator_1.default);Core_1.Mvvm.register("model",["input","select","textarea"],ValuedModelDecorator_1.default);Core_1.Mvvm.register("model",["span","p","h1","h2","h3","h4","h5","h6","li","label","div"],InnerHtmlDecorator_1.default);Core_1.Mvvm.register("options-model",["select"],SelectOptionsDecorator_1.default);Core_1.Mvvm.register("enabled",["select","input","textarea","button"],DisableableModelDecorator_1.default);Core_1.Mvvm.register("attribute",["*"],AttributeDecorator_1.default);Core_1.Mvvm.register("keydown",["*"],KeydownDecorator_1.default);Core_1.Mvvm.register("visible",["*"],VisibleDecorator_1.default);Core_1.Mvvm.register("component-each",["*"],ComponentEachDecorator_1.default);Core_1.Mvvm.register("force-focus",["*"],ForceFocusDecorator_1.default);Core_1.Mvvm.register("region",["*"],RegionDecorator_1.default);Core_1.Mvvm.register("checkbox-list",["ul"],CheckboxListDecorator_1.default)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var AttributeElementDecorator=function(_super){__extends(AttributeElementDecorator,_super);function AttributeElementDecorator(){return _super!==null&&_super.apply(this,arguments)||this}AttributeElementDecorator.prototype.wire=function(){this.onTargetChange(null,this.getMediator().get());this.getMediator().watch(this,this.onTargetChange)};AttributeElementDecorator.prototype.unwire=function(){};AttributeElementDecorator.prototype.onTargetChange=function(previous,current){this.getEl().setAttribute(current[0],current[1])};return AttributeElementDecorator}(Core_1.Decorator);exports.default=AttributeElementDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__importDefault(__webpack_require__(6));var Core_1=__webpack_require__(0);var LoggerFactory_1=__importDefault(__webpack_require__(1));var LOGGER=LoggerFactory_1.default.getLogger("CheckboxListDecorator");var CheckboxListDecorator=function(_super){__extends(CheckboxListDecorator,_super);function CheckboxListDecorator(){return _super!==null&&_super.apply(this,arguments)||this}CheckboxListDecorator.prototype.wire=function(){var _this=this;this.itemsExpression=this.getRequiredParam("items");this.itemsMediator=this.mediate(this.itemsExpression);this.items=[];this.getMediator().watch(this,this.onTargetChange);this.itemsMediator.watch(this,this.onItemsChange);this.onChange(this.getMediator().get(),this.itemsMediator.get());this.checkboxChangeListener=function(event){_this.onCheckboxChange(event)};this.getEl().addEventListener("change",this.checkboxChangeListener)};CheckboxListDecorator.prototype.unwire=function(){this.getEl().removeEventListener("change",this.checkboxChangeListener);this.checkboxChangeListener=null};CheckboxListDecorator.prototype.onCheckboxChange=function(event){if(event.target!==event.currentTarget){var checkboxElement=event.target;var id_1=checkboxElement.getAttribute("data-id");var checkedValues=lodash_1.default.cloneDeep(this.getMediator().get());lodash_1.default.remove(checkedValues,function(value){return value===id_1});if(checkboxElement.checked){checkedValues.push(id_1)}this.getMediator().set(checkedValues);this.notifyModelInteraction()}event.stopPropagation()};CheckboxListDecorator.prototype.onChange=function(checked,checkboxes){var el=this.getEl();while(el.firstChild){el.removeChild(el.firstChild)}if(checkboxes===null){return}for(var _i=0,checkboxes_1=checkboxes;_i<checkboxes_1.length;_i++){var item=checkboxes_1[_i];var child=el.appendChild(document.createElement("li"));var checkbox=child.appendChild(document.createElement("input"));checkbox.setAttribute("type","checkbox");checkbox.setAttribute("data-id",item.id);checkbox.checked=lodash_1.default.includes(checked,item.id);var label=child.appendChild(document.createElement("label"));label.innerText=item.title}};CheckboxListDecorator.prototype.onTargetChange=function(previous,value){this.onChange(value,this.itemsMediator.get())};CheckboxListDecorator.prototype.onItemsChange=function(previous,value){this.onChange(this.getMediator().get(),value)};return CheckboxListDecorator}(Core_1.Decorator);exports.default=CheckboxListDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var ClickElementDecorator=function(_super){__extends(ClickElementDecorator,_super);function ClickElementDecorator(){return _super!==null&&_super.apply(this,arguments)||this}ClickElementDecorator.prototype.wire=function(){this.consume("click");this.listenTo("dom","click",this.handleClick)};ClickElementDecorator.prototype.unwire=function(){};ClickElementDecorator.prototype.handleClick=function(event){this.getMediator().invoke(event);this.notifyModelInteraction()};return ClickElementDecorator}(Core_1.Decorator);exports.default=ClickElementDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var LoggerFactory_1=__importDefault(__webpack_require__(1));var LOGGER=LoggerFactory_1.default.getLogger("ComponentEachDecorator");var ComponentEachDecorator=function(_super){__extends(ComponentEachDecorator,_super);function ComponentEachDecorator(){return _super!==null&&_super.apply(this,arguments)||this}ComponentEachDecorator.prototype.wire=function(){this.children=[];var value=this.getMediator().get();this.tag=this.getParam("tag","div");this.id=this.getRequiredParam("id");this.idKey=this.getParam("item-id","id");this.onTargetChange(null,value);this.getMediator().watch(this,this.onTargetChange)};ComponentEachDecorator.prototype.unwire=function(){};ComponentEachDecorator.prototype.onTargetChange=function(previous,current){var el=this.getEl();for(var i=0;i<this.children.length;i++){this.children[i].dispose()}this.children=[];while(el.firstChild){el.removeChild(el.firstChild)}var items=current;if(!items){items=[]}for(var i=0;i<items.length;i++){var item=items[i];var child=el.appendChild(document.createElement(this.tag));item._id=i;var component=this.get(this.id);if(component){component["data"]=item;component.setEl(child);component.setParentView(this.getParentView());this.children.push(component)}else{LOGGER.fatal("Component "+this.id+" not found in registry")}}};return ComponentEachDecorator}(Core_1.Decorator);exports.default=ComponentEachDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var DisableableModelElementDecorator=function(_super){__extends(DisableableModelElementDecorator,_super);function DisableableModelElementDecorator(){return _super!==null&&_super.apply(this,arguments)||this}DisableableModelElementDecorator.prototype.wire=function(){var value=this.getMediator().get();this.onTargetChange(null,value);this.getMediator().watch(this,this.onTargetChange)};DisableableModelElementDecorator.prototype.unwire=function(){};DisableableModelElementDecorator.prototype.onTargetChange=function(previous,current){this.getEl()["disabled"]=!current};return DisableableModelElementDecorator}(Core_1.Decorator);exports.default=DisableableModelElementDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var ForceFocusElementDecorator=function(_super){__extends(ForceFocusElementDecorator,_super);function ForceFocusElementDecorator(){return _super!==null&&_super.apply(this,arguments)||this}ForceFocusElementDecorator.prototype.wire=function(){this.consume("focusout");this.listenTo("dom","focusout",this.handleFocusout);this.shouldFocus=this.getMediator().get();this.getMediator().watch(this,this.onTargetChange);if(this.shouldFocus){this.getEl().focus()}};ForceFocusElementDecorator.prototype.unwire=function(){};ForceFocusElementDecorator.prototype.handleFocusout=function(event){if(this.shouldFocus){this.getEl().focus()}};ForceFocusElementDecorator.prototype.onTargetChange=function(previous,current){this.shouldFocus=current};return ForceFocusElementDecorator}(Core_1.Decorator);exports.default=ForceFocusElementDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var InnerHtmlElementDecorator=function(_super){__extends(InnerHtmlElementDecorator,_super);function InnerHtmlElementDecorator(){return _super!==null&&_super.apply(this,arguments)||this}InnerHtmlElementDecorator.prototype.wire=function(){this.getEl().innerHTML=this.getMediator().get();this.getMediator().watch(this,this.onTargetChange)};InnerHtmlElementDecorator.prototype.unwire=function(){};InnerHtmlElementDecorator.prototype.onTargetChange=function(previous,current){this.getEl().innerHTML=current};return InnerHtmlElementDecorator}(Core_1.Decorator);exports.default=InnerHtmlElementDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var KeydownElementDecorator=function(_super){__extends(KeydownElementDecorator,_super);function KeydownElementDecorator(){return _super!==null&&_super.apply(this,arguments)||this}KeydownElementDecorator.prototype.wire=function(){this.consume("keydown");this.listenTo("dom","keydown",this.handleKeydown)};KeydownElementDecorator.prototype.unwire=function(){};KeydownElementDecorator.prototype.handleKeydown=function(event){this.getMediator().invoke(event);this.notifyModelInteraction()};return KeydownElementDecorator}(Core_1.Decorator);exports.default=KeydownElementDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var RegionDecorator=function(_super){__extends(RegionDecorator,_super);function RegionDecorator(){return _super!==null&&_super.apply(this,arguments)||this}RegionDecorator.prototype.wire=function(){var name=this.getExpression();this.getEl().setAttribute("data-region-id",name);this.getParentView().getRegion(name).setEl(this.getEl())};RegionDecorator.prototype.unwire=function(){var name=this.getExpression();this.getParentView().getRegion(name).setEl(null)};return RegionDecorator}(Core_1.Decorator);exports.default=RegionDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var SelectOptionsElementDecorator=function(_super){__extends(SelectOptionsElementDecorator,_super);function SelectOptionsElementDecorator(){return _super!==null&&_super.apply(this,arguments)||this}SelectOptionsElementDecorator.prototype.wire=function(){var value=this.getMediator().get();this.onTargetChange(null,value);this.getMediator().watch(this,this.onTargetChange)};SelectOptionsElementDecorator.prototype.unwire=function(){};SelectOptionsElementDecorator.prototype.onTargetChange=function(previous,current){var el=this.getEl();while(el.firstChild){el.removeChild(el.firstChild)}var items=current;var child=el.appendChild(document.createElement("option"));child.innerHTML="Select...";child.setAttribute("selected","selected");child.setAttribute("disabled","disabled");child["value"]="";for(var _i=0,items_1=items;_i<items_1.length;_i++){var item=items_1[_i];var itemChild=el.appendChild(document.createElement("option"));itemChild.innerHTML=item.name;itemChild["value"]=item.value}};return SelectOptionsElementDecorator}(Core_1.Decorator);exports.default=SelectOptionsElementDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var ValuedModelElementDecorator=function(_super){__extends(ValuedModelElementDecorator,_super);function ValuedModelElementDecorator(){return _super!==null&&_super.apply(this,arguments)||this}ValuedModelElementDecorator.prototype.wire=function(){this.consume("input");this.listenTo("dom","input",this.handleInput);var value=this.getMediator().get();this.getEl()["value"]=value;this.getMediator().watch(this,this.onTargetChange)};ValuedModelElementDecorator.prototype.unwire=function(){};ValuedModelElementDecorator.prototype.handleInput=function(event){var value=event.target["value"];this.getMediator().set(value);this.notifyModelInteraction()};ValuedModelElementDecorator.prototype.onTargetChange=function(previous,current){this.getEl()["value"]=current};return ValuedModelElementDecorator}(Core_1.Decorator);exports.default=ValuedModelElementDecorator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Core_1=__webpack_require__(0);var VisibleElementDecorator=function(_super){__extends(VisibleElementDecorator,_super);function VisibleElementDecorator(){return _super!==null&&_super.apply(this,arguments)||this}VisibleElementDecorator.prototype.wire=function(){var value=this.getMediator().get();this.onTargetChange(null,value);this.getMediator().watch(this,this.onTargetChange)};VisibleElementDecorator.prototype.unwire=function(){};VisibleElementDecorator.prototype.onTargetChange=function(previous,current){this.getEl().hidden=!current};return VisibleElementDecorator}(Core_1.Decorator);exports.default=VisibleElementDecorator},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var Config_1=__importDefault(__webpack_require__(3));var Core_1=__webpack_require__(0);var DomUtils_1=__importDefault(__webpack_require__(29));var Stage=function(_super){__extends(Stage,_super);function Stage(rootId){var _this=_super.call(this,"stage",function(){return'<div data-c-region="body"></div>'})||this;_this.started=false;_this.rootId=rootId;_this.initializers=[];window["stage"]=_this;return _this}Stage.prototype.withInitializer=function(callback){this.initializers.push(callback);return this};Stage.prototype.start=function(){var _this=this;this.getLogger().debug("Start Requested");if(this.started){this.getLogger().debug("Aleady Started");return}this.getLogger().debug("Cydran Starting");DomUtils_1.default.domReady(function(){return _this.domReady()})};Stage.prototype.setComponent=function(component){this.setChild("body",component);return this};Stage.prototype.getConfig=function(){return new Config_1.default};Stage.prototype.wire=function(){};Stage.prototype.unwire=function(){};Stage.prototype.domReady=function(){this.getLogger().debug("DOM Ready");var el=document.getElementById(this.rootId);this.setEl(el);this.started=true;this.getLogger().debug("Running initializers");for(var _i=0,_a=this.initializers;_i<_a.length;_i++){var initializer=_a[_i];initializer.apply(this)}this.getLogger().debug("Startup Complete")};return Stage}(Core_1.Component);exports.default=Stage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var domReady=function(callback){var ready=false;var detach=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed)}else{document["detachEvent"]("onreadystatechange",completed);window["detachEvent"]("onload",completed)}};var completed=function(){if(!ready&&(document.addEventListener||event.type==="load"||document.readyState==="complete")){ready=true;detach();callback()}};if(document.readyState==="complete"){callback()}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",completed);window.addEventListener("load",completed)}else{document["attachEvent"]("onreadystatechange",completed);window["attachEvent"]("onload",completed);var top_1=false;try{top_1=window.frameElement==null&&document.documentElement?true:false}catch(e){}if(top_1&&top_1["doScroll"]){(function scrollCheck(){if(ready){return}try{top_1["doScroll"]("left")}catch(e){return setTimeout(scrollCheck,50)}ready=true;detach();callback()})()}}};var result={domReady:domReady};exports.default=result}])});